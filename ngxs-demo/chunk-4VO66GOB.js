import{a as O,d as q,g as J,k as K}from"./chunk-QSSUE5OY.js";import{a as U,b as S,c as E,d as G,e as F,f as H,g as I,j as M}from"./chunk-7Z7V7ZMV.js";import{h as z,i as A,p as w,s as k,w as R}from"./chunk-PHCOQDDI.js";import{$b as N,Aa as D,Cb as B,Db as n,Eb as o,Fb as s,Lb as p,Va as h,Zb as e,a as g,aa as x,b as y,cc as d,dc as b,fa as $,fb as P,n as u,o as _,u as V}from"./chunk-IDE3SQBV.js";var i,m=(i=class extends M{setDebounceSubValue(t){this.ctx.setState({val:parseFloat(t)||0})}},i.\u0275fac=(()=>{let t;return function(C){return(t||(t=D(i)))(C||i)}})(),i.\u0275prov=x({token:i,factory:i.\u0275fac}),i);u([E(),S(),_(0,F("value")),_(0,G("val"))],m.prototype,"setDebounceSubValue",null);m=u([H({path:"count.countSub.val",existingEngine:sessionStorage}),I(),k({name:"countSub",defaults:{val:100}})],m);var W=new w("count"),r,a=(r=class extends M{get values$(){return this.state$.pipe(V(t=>t.countSub))}increment(){this.ctx.setState(t=>y(g({},t),{val:t.val+1}))}countSubIncrement(){this.ctx.setState(t=>y(g({},t),{countSub:{val:t.countSub.val+1}}))}decrement(){this.setState(t=>y(g({},t),{val:t.val-1}))}setDebounceValue(t){this.ctx.setState(j=>y(g({},j),{val:parseFloat(t)||0}))}},r.\u0275fac=(()=>{let t;return function(C){return(t||(t=D(r)))(C||r)}})(),r.\u0275prov=x({token:r,factory:r.\u0275fac}),r);u([U()],a.prototype,"values$",null);u([S()],a.prototype,"increment",null);u([S()],a.prototype,"countSubIncrement",null);u([S()],a.prototype,"decrement",null);u([E(),S(),_(0,F("val"))],a.prototype,"setDebounceValue",null);a=u([I(),k({name:W,defaults:{val:0},children:[m]})],a);var Q=(()=>{let t=class t{constructor(){this.counter=$(a),this.subCount=$(m)}};t.\u0275fac=function(v){return new(v||t)},t.\u0275cmp=P({type:t,selectors:[["count"]],decls:45,vars:16,consts:[["href","https://stackblitz.com/github/ngxs-labs/data?file=integration%2Fapp%2Fexamples%2Fcount%2Fcount.state.ts","target","_blank"],["alt","stackblitz","src","https://habrastorage.org/webt/ma/me/jm/mamejmzzxqu5pfn6rfieay6oisi.png",1,"stackblitz"],[1,"title"],["type","button",3,"click"],["type","text",3,"ngModelChange","ngModel"]],template:function(v,l){if(v&1&&(n(0,"a",0),s(1,"img",1),o(),n(2,"h3"),e(3,"CountState"),o(),e(4,` PS: CountSubState will be persisted in sessionStorage
`),s(5,"br")(6,"br"),n(7,"b",2),e(8,"Selection:"),o(),s(9,"br"),e(10),d(11,"async"),d(12,"json"),s(13,"br"),n(14,"span"),e(15),d(16,"async"),d(17,"json"),o(),s(18,"br")(19,"br")(20,"br"),n(21,"b",2),e(22,"Actions:"),o(),n(23,"button",3),p("click",function(){return l.counter.increment()}),e(24,` increment
`),o(),n(25,"button",3),p("click",function(){return l.counter.countSubIncrement()}),e(26,` countSubIncrement
`),o(),n(27,"button",3),p("click",function(){return l.counter.decrement()}),e(28,` decrement
`),o(),n(29,"button",3),p("click",function(){return l.counter.reset()}),e(30,` reset
`),o(),s(31,"br")(32,"br"),n(33,"b",2),e(34,"counter model:"),o(),n(35,"input",4),d(36,"async"),p("ngModelChange",function(f){return l.counter.setDebounceValue(f)}),o(),e(37," (delay 300ms) "),s(38,"br")(39,"br"),n(40,"b",2),e(41,"subCount model:"),o(),n(42,"input",4),d(43,"async"),p("ngModelChange",function(f){return l.subCount.setDebounceSubValue(f)}),o(),e(44,` (delay 300ms)
`)),v&2){let c,f;h(10),N(" counter.state$ = ",b(12,6,b(11,4,l.counter.state$)),`
`),h(5),N("counter.values$ = ",b(17,10,b(16,8,l.counter.values$))),h(20),B("ngModel",(c=b(36,12,l.counter.state$))==null?null:c.val),h(7),B("ngModel",(f=b(43,14,l.subCount.state$))==null?null:f.val)}},dependencies:[z,K,O,q,J,A],encapsulation:2,changeDetection:0});let T=t;return T})();var X=[{path:"",component:Q,providers:[R([a,m])]}],Dt=X;export{Dt as default};
