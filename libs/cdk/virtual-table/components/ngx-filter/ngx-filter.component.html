@if (state.opened) {
    <div
        class="table-grid__background-flat"
        (click)="close()"
        (contextmenu)="close()"
    ></div>
}

@if (state.opened) {
    <div class="table-grid__filter-menu">
        <div
            class="filter-menu"
            [ngStyle]="{
                'width.px': width,
                'min-height.px': height,
                'max-height.px': maxHeight,
                'top.px': state.position?.top! + leftX - overflowY,
                'left.px': state.position?.left! - topY - overflowX,
                visibility: state.position ? 'visible' : 'hidden',
            }"
            (contextmenu)="close()"
        >
            <div
                class="table-close__button"
                (click)="closeFilter()"
            ></div>
            <ng-content />
        </div>
    </div>
}
