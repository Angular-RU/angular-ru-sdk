import{$ as Z,$a as qo,$b as de,Ab as Oe,Ac as he,Bb as M,Bc as pt,C as Ye,Ca as ut,Cb as Tr,Cc as it,Dc as mn,E as No,F as ln,Fa as $o,G as cn,Gb as Rt,H as xr,Hb as qt,Hc as Ir,I as Lo,Ia as Me,Ib as k,Ic as us,J as Bo,Ja as ge,Jb as N,Kc as ds,La as ce,Lb as is,Lc as mt,M as Vo,Mb as ns,Na as Go,Nb as X,Nc as ie,O as jo,Oa as pi,Ob as E,Oc as u,Pa as Wo,Pb as I,Pc as Qe,Q as Ho,Qa as St,Qb as te,Qc as hs,Rb as rs,Rc as je,Sa as Sr,Sb as os,Sc as fs,Ta as Er,Tc as _e,Ua as Et,Ub as ne,Uc as Rr,Va as Yt,Vc as ps,Wa as Ko,Wc as gt,Xa as Zo,Xb as Ie,Xc as Ar,Ya as Yo,Yb as re,Z as un,Za as Xo,Zb as Q,Zc as ms,_ as di,_a as Qo,_b as y,a as K,ab as Jo,ac as J,b as Le,ba as zo,bb as Tt,bd as gi,ca as U,cb as fn,cd as _i,da as dn,db as es,ed as _t,f as Be,fa as b,fb as C,fc as ke,fd as Pr,g as vt,gb as It,gc as Ue,gd as Fr,hb as Xe,hc as Ne,hd as yi,i as xt,ia as L,ic as ae,ja as R,jb as dt,jc as be,ka as d,kb as Xt,kc as j,l as x,la as hi,lb as Se,lc as ss,m as Mo,ma as Uo,mc as At,n as an,na as hn,nb as ht,o as vr,oa as ct,oc as mi,p as Oo,q as ko,r as ui,ra as A,sa as P,sb as O,ta as fi,ub as V,uc as Pt,v as Ct,va as Ve,vb as ee,vc as ft,wa as Y,wb as ue,wc as as,xc as ls,ya as Cr,yb as Qt,yc as cs,zb as ts,zc as pn}from"./chunk-EMWOS5UK.js";var ys=null;function nt(){return ys}function Mr(n){ys??=n}var bi=class{},Di=(()=>{class n{historyGo(i){throw new Error("")}static \u0275fac=function(e){return new(e||n)};static \u0275prov=b({token:n,factory:()=>d(bs),providedIn:"platform"})}return n})();var bs=(()=>{class n extends Di{_location;_history;_doc=d(Y);constructor(){super(),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return nt().getBaseHref(this._doc)}onPopState(i){let e=nt().getGlobalEventTarget(this._doc,"window");return e.addEventListener("popstate",i,!1),()=>e.removeEventListener("popstate",i)}onHashChange(i){let e=nt().getGlobalEventTarget(this._doc,"window");return e.addEventListener("hashchange",i,!1),()=>e.removeEventListener("hashchange",i)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(i){this._location.pathname=i}pushState(i,e,r){this._history.pushState(i,e,r)}replaceState(i,e,r){this._history.replaceState(i,e,r)}forward(){this._history.forward()}back(){this._history.back()}historyGo(i=0){this._history.go(i)}getState(){return this._history.state}static \u0275fac=function(e){return new(e||n)};static \u0275prov=b({token:n,factory:()=>new n,providedIn:"platform"})}return n})();function gn(n,t){return n?t?n.endsWith("/")?t.startsWith("/")?n+t.slice(1):n+t:t.startsWith("/")?n+t:`${n}/${t}`:n:t}function gs(n){let t=n.search(/#|\?|$/);return n[t-1]==="/"?n.slice(0,t-1)+n.slice(t):n}function $e(n){return n&&n[0]!=="?"?`?${n}`:n}var Jt=(()=>{class n{historyGo(i){throw new Error("")}static \u0275fac=function(e){return new(e||n)};static \u0275prov=b({token:n,factory:()=>d(Ds),providedIn:"root"})}return n})(),_n=new L(""),Ds=(()=>{class n extends Jt{_platformLocation;_baseHref;_removeListenerFns=[];constructor(i,e){super(),this._platformLocation=i,this._baseHref=e??this._platformLocation.getBaseHrefFromDOM()??d(Y).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(i){this._removeListenerFns.push(this._platformLocation.onPopState(i),this._platformLocation.onHashChange(i))}getBaseHref(){return this._baseHref}prepareExternalUrl(i){return gn(this._baseHref,i)}path(i=!1){let e=this._platformLocation.pathname+$e(this._platformLocation.search),r=this._platformLocation.hash;return r&&i?`${e}${r}`:e}pushState(i,e,r,o){let s=this.prepareExternalUrl(r+$e(o));this._platformLocation.pushState(i,e,s)}replaceState(i,e,r,o){let s=this.prepareExternalUrl(r+$e(o));this._platformLocation.replaceState(i,e,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(i=0){this._platformLocation.historyGo?.(i)}static \u0275fac=function(e){return new(e||n)(R(Di),R(_n,8))};static \u0275prov=b({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),ws=(()=>{class n{_subject=new x;_basePath;_locationStrategy;_urlChangeListeners=[];_urlChangeSubscription=null;constructor(i){this._locationStrategy=i;let e=this._locationStrategy.getBaseHref();this._basePath=Fl(gs(_s(e))),this._locationStrategy.onPopState(r=>{this._subject.next({url:this.path(!0),pop:!0,state:r.state,type:r.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(i=!1){return this.normalize(this._locationStrategy.path(i))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(i,e=""){return this.path()==this.normalize(i+$e(e))}normalize(i){return n.stripTrailingSlash(Pl(this._basePath,_s(i)))}prepareExternalUrl(i){return i&&i[0]!=="/"&&(i="/"+i),this._locationStrategy.prepareExternalUrl(i)}go(i,e="",r=null){this._locationStrategy.pushState(r,"",i,e),this._notifyUrlChangeListeners(this.prepareExternalUrl(i+$e(e)),r)}replaceState(i,e="",r=null){this._locationStrategy.replaceState(r,"",i,e),this._notifyUrlChangeListeners(this.prepareExternalUrl(i+$e(e)),r)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(i=0){this._locationStrategy.historyGo?.(i)}onUrlChange(i){return this._urlChangeListeners.push(i),this._urlChangeSubscription??=this.subscribe(e=>{this._notifyUrlChangeListeners(e.url,e.state)}),()=>{let e=this._urlChangeListeners.indexOf(i);this._urlChangeListeners.splice(e,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(i="",e){this._urlChangeListeners.forEach(r=>r(i,e))}subscribe(i,e,r){return this._subject.subscribe({next:i,error:e??void 0,complete:r??void 0})}static normalizeQueryParams=$e;static joinWithSlash=gn;static stripTrailingSlash=gs;static \u0275fac=function(e){return new(e||n)(R(Jt))};static \u0275prov=b({token:n,factory:()=>Al(),providedIn:"root"})}return n})();function Al(){return new ws(R(Jt))}function Pl(n,t){if(!n||!t.startsWith(n))return t;let i=t.substring(n.length);return i===""||["/",";","?","#"].includes(i[0])?i:t}function _s(n){return n.replace(/\/index.html$/,"")}function Fl(n){if(new RegExp("^(https?:)?//").test(n)){let[,i]=n.split(/\/\/[^\/]+/);return i}return n}var Ol=(()=>{class n extends Jt{_platformLocation;_baseHref="";_removeListenerFns=[];constructor(i,e){super(),this._platformLocation=i,e!=null&&(this._baseHref=e)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(i){this._removeListenerFns.push(this._platformLocation.onPopState(i),this._platformLocation.onHashChange(i))}getBaseHref(){return this._baseHref}path(i=!1){let e=this._platformLocation.hash??"#";return e.length>0?e.substring(1):e}prepareExternalUrl(i){let e=gn(this._baseHref,i);return e.length>0?"#"+e:e}pushState(i,e,r,o){let s=this.prepareExternalUrl(r+$e(o))||this._platformLocation.pathname;this._platformLocation.pushState(i,e,s)}replaceState(i,e,r,o){let s=this.prepareExternalUrl(r+$e(o))||this._platformLocation.pathname;this._platformLocation.replaceState(i,e,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(i=0){this._platformLocation.historyGo?.(i)}static \u0275fac=function(e){return new(e||n)(R(Di),R(_n,8))};static \u0275prov=b({token:n,factory:n.\u0275fac})}return n})(),Is={ADP:[void 0,void 0,0],AFN:[void 0,"\u060B",0],ALL:[void 0,void 0,0],AMD:[void 0,"\u058F",2],AOA:[void 0,"Kz"],ARS:[void 0,"$"],AUD:["A$","$"],AZN:[void 0,"\u20BC"],BAM:[void 0,"KM"],BBD:[void 0,"$"],BDT:[void 0,"\u09F3"],BHD:[void 0,void 0,3],BIF:[void 0,void 0,0],BMD:[void 0,"$"],BND:[void 0,"$"],BOB:[void 0,"Bs"],BRL:["R$"],BSD:[void 0,"$"],BWP:[void 0,"P"],BYN:[void 0,void 0,2],BYR:[void 0,void 0,0],BZD:[void 0,"$"],CAD:["CA$","$",2],CHF:[void 0,void 0,2],CLF:[void 0,void 0,4],CLP:[void 0,"$",0],CNY:["CN\xA5","\xA5"],COP:[void 0,"$",2],CRC:[void 0,"\u20A1",2],CUC:[void 0,"$"],CUP:[void 0,"$"],CZK:[void 0,"K\u010D",2],DJF:[void 0,void 0,0],DKK:[void 0,"kr",2],DOP:[void 0,"$"],EGP:[void 0,"E\xA3"],ESP:[void 0,"\u20A7",0],EUR:["\u20AC"],FJD:[void 0,"$"],FKP:[void 0,"\xA3"],GBP:["\xA3"],GEL:[void 0,"\u20BE"],GHS:[void 0,"GH\u20B5"],GIP:[void 0,"\xA3"],GNF:[void 0,"FG",0],GTQ:[void 0,"Q"],GYD:[void 0,"$",2],HKD:["HK$","$"],HNL:[void 0,"L"],HRK:[void 0,"kn"],HUF:[void 0,"Ft",2],IDR:[void 0,"Rp",2],ILS:["\u20AA"],INR:["\u20B9"],IQD:[void 0,void 0,0],IRR:[void 0,void 0,0],ISK:[void 0,"kr",0],ITL:[void 0,void 0,0],JMD:[void 0,"$"],JOD:[void 0,void 0,3],JPY:["\xA5",void 0,0],KHR:[void 0,"\u17DB"],KMF:[void 0,"CF",0],KPW:[void 0,"\u20A9",0],KRW:["\u20A9",void 0,0],KWD:[void 0,void 0,3],KYD:[void 0,"$"],KZT:[void 0,"\u20B8"],LAK:[void 0,"\u20AD",0],LBP:[void 0,"L\xA3",0],LKR:[void 0,"Rs"],LRD:[void 0,"$"],LTL:[void 0,"Lt"],LUF:[void 0,void 0,0],LVL:[void 0,"Ls"],LYD:[void 0,void 0,3],MGA:[void 0,"Ar",0],MGF:[void 0,void 0,0],MMK:[void 0,"K",0],MNT:[void 0,"\u20AE",2],MRO:[void 0,void 0,0],MUR:[void 0,"Rs",2],MXN:["MX$","$"],MYR:[void 0,"RM"],NAD:[void 0,"$"],NGN:[void 0,"\u20A6"],NIO:[void 0,"C$"],NOK:[void 0,"kr",2],NPR:[void 0,"Rs"],NZD:["NZ$","$"],OMR:[void 0,void 0,3],PHP:["\u20B1"],PKR:[void 0,"Rs",2],PLN:[void 0,"z\u0142"],PYG:[void 0,"\u20B2",0],RON:[void 0,"lei"],RSD:[void 0,void 0,0],RUB:[void 0,"\u20BD"],RWF:[void 0,"RF",0],SBD:[void 0,"$"],SEK:[void 0,"kr",2],SGD:[void 0,"$"],SHP:[void 0,"\xA3"],SLE:[void 0,void 0,2],SLL:[void 0,void 0,0],SOS:[void 0,void 0,0],SRD:[void 0,"$"],SSP:[void 0,"\xA3"],STD:[void 0,void 0,0],STN:[void 0,"Db"],SYP:[void 0,"\xA3",0],THB:[void 0,"\u0E3F"],TMM:[void 0,void 0,0],TND:[void 0,void 0,3],TOP:[void 0,"T$"],TRL:[void 0,void 0,0],TRY:[void 0,"\u20BA"],TTD:[void 0,"$"],TWD:["NT$","$",2],TZS:[void 0,void 0,2],UAH:[void 0,"\u20B4"],UGX:[void 0,void 0,0],USD:["$"],UYI:[void 0,void 0,0],UYU:[void 0,"$"],UYW:[void 0,void 0,4],UZS:[void 0,void 0,2],VEF:[void 0,"Bs",2],VND:["\u20AB",void 0,0],VUV:[void 0,void 0,0],XAF:["FCFA",void 0,0],XCD:["EC$","$"],XOF:["F\u202FCFA",void 0,0],XPF:["CFPF",void 0,0],XXX:["\xA4"],YER:[void 0,void 0,0],ZAR:[void 0,"R"],ZMK:[void 0,void 0,0],ZMW:[void 0,"ZK"],ZWD:[void 0,void 0,0]},jr=function(n){return n[n.Decimal=0]="Decimal",n[n.Percent=1]="Percent",n[n.Currency=2]="Currency",n[n.Scientific=3]="Scientific",n}(jr||{});var ve=function(n){return n[n.Format=0]="Format",n[n.Standalone=1]="Standalone",n}(ve||{}),G=function(n){return n[n.Narrow=0]="Narrow",n[n.Abbreviated=1]="Abbreviated",n[n.Wide=2]="Wide",n[n.Short=3]="Short",n}(G||{}),Re=function(n){return n[n.Short=0]="Short",n[n.Medium=1]="Medium",n[n.Long=2]="Long",n[n.Full=3]="Full",n}(Re||{}),Ae={Decimal:0,Group:1,List:2,PercentSign:3,PlusSign:4,MinusSign:5,Exponential:6,SuperscriptingExponent:7,PerMille:8,Infinity:9,NaN:10,TimeSeparator:11,CurrencyDecimal:12,CurrencyGroup:13};function Rs(n){return Ie(n)[re.LocaleId]}function As(n,t,i){let e=Ie(n),r=[e[re.DayPeriodsFormat],e[re.DayPeriodsStandalone]],o=He(r,t);return He(o,i)}function Ps(n,t,i){let e=Ie(n),r=[e[re.DaysFormat],e[re.DaysStandalone]],o=He(r,t);return He(o,i)}function Fs(n,t,i){let e=Ie(n),r=[e[re.MonthsFormat],e[re.MonthsStandalone]],o=He(r,t);return He(o,i)}function Ms(n,t){let e=Ie(n)[re.Eras];return He(e,t)}function wi(n,t){let i=Ie(n);return He(i[re.DateFormat],t)}function vi(n,t){let i=Ie(n);return He(i[re.TimeFormat],t)}function xi(n,t){let e=Ie(n)[re.DateTimeFormat];return He(e,t)}function qe(n,t){let i=Ie(n),e=i[re.NumberSymbols][t];if(typeof e>"u"){if(t===Ae.CurrencyDecimal)return i[re.NumberSymbols][Ae.Decimal];if(t===Ae.CurrencyGroup)return i[re.NumberSymbols][Ae.Group]}return e}function Os(n,t){return Ie(n)[re.NumberFormats][t]}function kl(n){return Ie(n)[re.Currencies]}function ks(n){if(!n[re.ExtraData])throw new U(2303,!1)}function Ns(n){let t=Ie(n);return ks(t),(t[re.ExtraData][2]||[]).map(e=>typeof e=="string"?Or(e):[Or(e[0]),Or(e[1])])}function Ls(n,t,i){let e=Ie(n);ks(e);let r=[e[re.ExtraData][0],e[re.ExtraData][1]],o=He(r,t)||[];return He(o,i)||[]}function He(n,t){for(let i=t;i>-1;i--)if(typeof n[i]<"u")return n[i];throw new U(2304,!1)}function Or(n){let[t,i]=n.split(":");return{hours:+t,minutes:+i}}function Bs(n,t,i="en"){let e=kl(i)[n]||Is[n]||[],r=e[1];return t==="narrow"&&typeof r=="string"?r:e[0]||n}var Nl=2;function Vs(n){let t,i=Is[n];return i&&(t=i[2]),typeof t=="number"?t:Nl}var Ll=/^(\d{4,})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,yn={},Bl=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;function js(n,t,i,e){let r=Kl(n);t=rt(i,t)||t;let s=[],a;for(;t;)if(a=Bl.exec(t),a){s=s.concat(a.slice(1));let h=s.pop();if(!h)break;t=h}else{s.push(t);break}let l=r.getTimezoneOffset();e&&(l=zs(e,l),r=Wl(r,e));let c="";return s.forEach(h=>{let p=$l(h);c+=p?p(r,i,l):h==="''"?"'":h.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),c}function xn(n,t,i){let e=new Date(0);return e.setFullYear(n,t,i),e.setHours(0,0,0),e}function rt(n,t){let i=Rs(n);if(yn[i]??={},yn[i][t])return yn[i][t];let e="";switch(t){case"shortDate":e=wi(n,Re.Short);break;case"mediumDate":e=wi(n,Re.Medium);break;case"longDate":e=wi(n,Re.Long);break;case"fullDate":e=wi(n,Re.Full);break;case"shortTime":e=vi(n,Re.Short);break;case"mediumTime":e=vi(n,Re.Medium);break;case"longTime":e=vi(n,Re.Long);break;case"fullTime":e=vi(n,Re.Full);break;case"short":let r=rt(n,"shortTime"),o=rt(n,"shortDate");e=bn(xi(n,Re.Short),[r,o]);break;case"medium":let s=rt(n,"mediumTime"),a=rt(n,"mediumDate");e=bn(xi(n,Re.Medium),[s,a]);break;case"long":let l=rt(n,"longTime"),c=rt(n,"longDate");e=bn(xi(n,Re.Long),[l,c]);break;case"full":let h=rt(n,"fullTime"),p=rt(n,"fullDate");e=bn(xi(n,Re.Full),[h,p]);break}return e&&(yn[i][t]=e),e}function bn(n,t){return t&&(n=n.replace(/\{([^}]+)}/g,function(i,e){return t!=null&&e in t?t[e]:i})),n}function Ge(n,t,i="-",e,r){let o="";(n<0||r&&n<=0)&&(r?n=-n+1:(n=-n,o=i));let s=String(n);for(;s.length<t;)s="0"+s;return e&&(s=s.slice(s.length-t)),o+s}function Vl(n,t){return Ge(n,3).substring(0,t)}function le(n,t,i=0,e=!1,r=!1){return function(o,s){let a=jl(n,o);if((i>0||a>-i)&&(a+=i),n===3)a===0&&i===-12&&(a=12);else if(n===6)return Vl(a,t);let l=qe(s,Ae.MinusSign);return Ge(a,t,l,e,r)}}function jl(n,t){switch(n){case 0:return t.getFullYear();case 1:return t.getMonth();case 2:return t.getDate();case 3:return t.getHours();case 4:return t.getMinutes();case 5:return t.getSeconds();case 6:return t.getMilliseconds();case 7:return t.getDay();default:throw new U(2301,!1)}}function q(n,t,i=ve.Format,e=!1){return function(r,o){return Hl(r,o,n,t,i,e)}}function Hl(n,t,i,e,r,o){switch(i){case 2:return Fs(t,r,e)[n.getMonth()];case 1:return Ps(t,r,e)[n.getDay()];case 0:let s=n.getHours(),a=n.getMinutes();if(o){let c=Ns(t),h=Ls(t,r,e),p=c.findIndex(D=>{if(Array.isArray(D)){let[g,F]=D,_=s>=g.hours&&a>=g.minutes,S=s<F.hours||s===F.hours&&a<F.minutes;if(g.hours<F.hours){if(_&&S)return!0}else if(_||S)return!0}else if(D.hours===s&&D.minutes===a)return!0;return!1});if(p!==-1)return h[p]}return As(t,r,e)[s<12?0:1];case 3:return Ms(t,e)[n.getFullYear()<=0?0:1];default:let l=i;throw new U(2302,!1)}}function Dn(n){return function(t,i,e){let r=-1*e,o=qe(i,Ae.MinusSign),s=r>0?Math.floor(r/60):Math.ceil(r/60);switch(n){case 0:return(r>=0?"+":"")+Ge(s,2,o)+Ge(Math.abs(r%60),2,o);case 1:return"GMT"+(r>=0?"+":"")+Ge(s,1,o);case 2:return"GMT"+(r>=0?"+":"")+Ge(s,2,o)+":"+Ge(Math.abs(r%60),2,o);case 3:return e===0?"Z":(r>=0?"+":"")+Ge(s,2,o)+":"+Ge(Math.abs(r%60),2,o);default:throw new U(2302,!1)}}}var zl=0,vn=4;function Ul(n){let t=xn(n,zl,1).getDay();return xn(n,0,1+(t<=vn?vn:vn+7)-t)}function Hs(n){let t=n.getDay(),i=t===0?-3:vn-t;return xn(n.getFullYear(),n.getMonth(),n.getDate()+i)}function kr(n,t=!1){return function(i,e){let r;if(t){let o=new Date(i.getFullYear(),i.getMonth(),1).getDay()-1,s=i.getDate();r=1+Math.floor((s+o)/7)}else{let o=Hs(i),s=Ul(o.getFullYear()),a=o.getTime()-s.getTime();r=1+Math.round(a/6048e5)}return Ge(r,n,qe(e,Ae.MinusSign))}}function wn(n,t=!1){return function(i,e){let o=Hs(i).getFullYear();return Ge(o,n,qe(e,Ae.MinusSign),t)}}var Nr={};function $l(n){if(Nr[n])return Nr[n];let t;switch(n){case"G":case"GG":case"GGG":t=q(3,G.Abbreviated);break;case"GGGG":t=q(3,G.Wide);break;case"GGGGG":t=q(3,G.Narrow);break;case"y":t=le(0,1,0,!1,!0);break;case"yy":t=le(0,2,0,!0,!0);break;case"yyy":t=le(0,3,0,!1,!0);break;case"yyyy":t=le(0,4,0,!1,!0);break;case"Y":t=wn(1);break;case"YY":t=wn(2,!0);break;case"YYY":t=wn(3);break;case"YYYY":t=wn(4);break;case"M":case"L":t=le(1,1,1);break;case"MM":case"LL":t=le(1,2,1);break;case"MMM":t=q(2,G.Abbreviated);break;case"MMMM":t=q(2,G.Wide);break;case"MMMMM":t=q(2,G.Narrow);break;case"LLL":t=q(2,G.Abbreviated,ve.Standalone);break;case"LLLL":t=q(2,G.Wide,ve.Standalone);break;case"LLLLL":t=q(2,G.Narrow,ve.Standalone);break;case"w":t=kr(1);break;case"ww":t=kr(2);break;case"W":t=kr(1,!0);break;case"d":t=le(2,1);break;case"dd":t=le(2,2);break;case"c":case"cc":t=le(7,1);break;case"ccc":t=q(1,G.Abbreviated,ve.Standalone);break;case"cccc":t=q(1,G.Wide,ve.Standalone);break;case"ccccc":t=q(1,G.Narrow,ve.Standalone);break;case"cccccc":t=q(1,G.Short,ve.Standalone);break;case"E":case"EE":case"EEE":t=q(1,G.Abbreviated);break;case"EEEE":t=q(1,G.Wide);break;case"EEEEE":t=q(1,G.Narrow);break;case"EEEEEE":t=q(1,G.Short);break;case"a":case"aa":case"aaa":t=q(0,G.Abbreviated);break;case"aaaa":t=q(0,G.Wide);break;case"aaaaa":t=q(0,G.Narrow);break;case"b":case"bb":case"bbb":t=q(0,G.Abbreviated,ve.Standalone,!0);break;case"bbbb":t=q(0,G.Wide,ve.Standalone,!0);break;case"bbbbb":t=q(0,G.Narrow,ve.Standalone,!0);break;case"B":case"BB":case"BBB":t=q(0,G.Abbreviated,ve.Format,!0);break;case"BBBB":t=q(0,G.Wide,ve.Format,!0);break;case"BBBBB":t=q(0,G.Narrow,ve.Format,!0);break;case"h":t=le(3,1,-12);break;case"hh":t=le(3,2,-12);break;case"H":t=le(3,1);break;case"HH":t=le(3,2);break;case"m":t=le(4,1);break;case"mm":t=le(4,2);break;case"s":t=le(5,1);break;case"ss":t=le(5,2);break;case"S":t=le(6,1);break;case"SS":t=le(6,2);break;case"SSS":t=le(6,3);break;case"Z":case"ZZ":case"ZZZ":t=Dn(0);break;case"ZZZZZ":t=Dn(3);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":t=Dn(1);break;case"OOOO":case"ZZZZ":case"zzzz":t=Dn(2);break;default:return null}return Nr[n]=t,t}function zs(n,t){n=n.replace(/:/g,"");let i=Date.parse("Jan 01, 1970 00:00:00 "+n)/6e4;return isNaN(i)?t:i}function Gl(n,t){return n=new Date(n.getTime()),n.setMinutes(n.getMinutes()+t),n}function Wl(n,t,i){let r=n.getTimezoneOffset(),o=zs(t,r);return Gl(n,-1*(o-r))}function Kl(n){if(vs(n))return n;if(typeof n=="number"&&!isNaN(n))return new Date(n);if(typeof n=="string"){if(n=n.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(n)){let[r,o=1,s=1]=n.split("-").map(a=>+a);return xn(r,o-1,s)}let i=parseFloat(n);if(!isNaN(n-i))return new Date(i);let e;if(e=n.match(Ll))return Zl(e)}let t=new Date(n);if(!vs(t))throw new U(2302,!1);return t}function Zl(n){let t=new Date(0),i=0,e=0,r=n[8]?t.setUTCFullYear:t.setFullYear,o=n[8]?t.setUTCHours:t.setHours;n[9]&&(i=Number(n[9]+n[10]),e=Number(n[9]+n[11])),r.call(t,Number(n[1]),Number(n[2])-1,Number(n[3]));let s=Number(n[4]||0)-i,a=Number(n[5]||0)-e,l=Number(n[6]||0),c=Math.floor(parseFloat("0."+(n[7]||0))*1e3);return o.call(t,s,a,l,c),t}function vs(n){return n instanceof Date&&!isNaN(n.valueOf())}var Yl=/^(\d+)?\.((\d+)(-(\d+))?)?$/,xs=22,Cn=".",Ci="0",Xl=";",Ql=",",Lr="#",Cs="\xA4";function ql(n,t,i,e,r,o,s=!1){let a="",l=!1;if(!isFinite(n))a=qe(i,Ae.Infinity);else{let c=tc(n);s&&(c=ec(c));let h=t.minInt,p=t.minFrac,D=t.maxFrac;if(o){let se=o.match(Yl);if(se===null)throw new U(2306,!1);let $=se[1],ye=se[3],Te=se[5];$!=null&&(h=Br($)),ye!=null&&(p=Br(ye)),Te!=null?D=Br(Te):ye!=null&&p>D&&(D=p)}ic(c,p,D);let g=c.digits,F=c.integerLen,_=c.exponent,S=[];for(l=g.every(se=>!se);F<h;F++)g.unshift(0);for(;F<0;F++)g.unshift(0);F>0?S=g.splice(F,g.length):(S=g,g=[0]);let oe=[];for(g.length>=t.lgSize&&oe.unshift(g.splice(-t.lgSize,g.length).join(""));g.length>t.gSize;)oe.unshift(g.splice(-t.gSize,g.length).join(""));g.length&&oe.unshift(g.join("")),a=oe.join(qe(i,e)),S.length&&(a+=qe(i,r)+S.join("")),_&&(a+=qe(i,Ae.Exponential)+"+"+_)}return n<0&&!l?a=t.negPre+a+t.negSuf:a=t.posPre+a+t.posSuf,a}function Us(n,t,i,e,r){let o=Os(t,jr.Currency),s=Jl(o,qe(t,Ae.MinusSign));return s.minFrac=Vs(e),s.maxFrac=s.minFrac,ql(n,s,t,Ae.CurrencyGroup,Ae.CurrencyDecimal,r).replace(Cs,i).replace(Cs,"").trim()}function Jl(n,t="-"){let i={minInt:1,minFrac:0,maxFrac:0,posPre:"",posSuf:"",negPre:"",negSuf:"",gSize:0,lgSize:0},e=n.split(Xl),r=e[0],o=e[1],s=r.indexOf(Cn)!==-1?r.split(Cn):[r.substring(0,r.lastIndexOf(Ci)+1),r.substring(r.lastIndexOf(Ci)+1)],a=s[0],l=s[1]||"";i.posPre=a.substring(0,a.indexOf(Lr));for(let h=0;h<l.length;h++){let p=l.charAt(h);p===Ci?i.minFrac=i.maxFrac=h+1:p===Lr?i.maxFrac=h+1:i.posSuf+=p}let c=a.split(Ql);if(i.gSize=c[1]?c[1].length:0,i.lgSize=c[2]||c[1]?(c[2]||c[1]).length:0,o){let h=r.length-i.posPre.length-i.posSuf.length,p=o.indexOf(Lr);i.negPre=o.substring(0,p).replace(/'/g,""),i.negSuf=o.slice(p+h).replace(/'/g,"")}else i.negPre=t+i.posPre,i.negSuf=i.posSuf;return i}function ec(n){if(n.digits[0]===0)return n;let t=n.digits.length-n.integerLen;return n.exponent?n.exponent+=2:(t===0?n.digits.push(0,0):t===1&&n.digits.push(0),n.integerLen+=2),n}function tc(n){let t=Math.abs(n)+"",i=0,e,r,o,s,a;for((r=t.indexOf(Cn))>-1&&(t=t.replace(Cn,"")),(o=t.search(/e/i))>0?(r<0&&(r=o),r+=+t.slice(o+1),t=t.substring(0,o)):r<0&&(r=t.length),o=0;t.charAt(o)===Ci;o++);if(o===(a=t.length))e=[0],r=1;else{for(a--;t.charAt(a)===Ci;)a--;for(r-=o,e=[],s=0;o<=a;o++,s++)e[s]=Number(t.charAt(o))}return r>xs&&(e=e.splice(0,xs-1),i=r-1,r=1),{digits:e,exponent:i,integerLen:r}}function ic(n,t,i){if(t>i)throw new U(2307,!1);let e=n.digits,r=e.length-n.integerLen,o=Math.min(Math.max(t,r),i),s=o+n.integerLen,a=e[s];if(s>0){e.splice(Math.max(n.integerLen,s));for(let p=s;p<e.length;p++)e[p]=0}else{r=Math.max(0,r),n.integerLen=1,e.length=Math.max(1,s=o+1),e[0]=0;for(let p=1;p<s;p++)e[p]=0}if(a>=5)if(s-1<0){for(let p=0;p>s;p--)e.unshift(0),n.integerLen++;e.unshift(1),n.integerLen++}else e[s-1]++;for(;r<Math.max(0,o);r++)e.push(0);let l=o!==0,c=t+n.integerLen,h=e.reduceRight(function(p,D,g,F){return D=D+p,F[g]=D<10?D:D-10,l&&(F[g]===0&&g>=c?F.pop():l=!1),D>=10?1:0},0);h&&(e.unshift(h),n.integerLen++)}function Br(n){let t=parseInt(n);if(isNaN(t))throw new U(2305,!1);return t}var Vr=/\s+/,Ss=[],ot=(()=>{class n{_ngEl;_renderer;initialClasses=Ss;rawClass;stateMap=new Map;constructor(i,e){this._ngEl=i,this._renderer=e}set klass(i){this.initialClasses=i!=null?i.trim().split(Vr):Ss}set ngClass(i){this.rawClass=typeof i=="string"?i.trim().split(Vr):i}ngDoCheck(){for(let e of this.initialClasses)this._updateState(e,!0);let i=this.rawClass;if(Array.isArray(i)||i instanceof Set)for(let e of i)this._updateState(e,!0);else if(i!=null)for(let e of Object.keys(i))this._updateState(e,!!i[e]);this._applyStateDiff()}_updateState(i,e){let r=this.stateMap.get(i);r!==void 0?(r.enabled!==e&&(r.changed=!0,r.enabled=e),r.touched=!0):this.stateMap.set(i,{enabled:e,changed:!0,touched:!0})}_applyStateDiff(){for(let i of this.stateMap){let e=i[0],r=i[1];r.changed?(this._toggleClass(e,r.enabled),r.changed=!1):r.touched||(r.enabled&&this._toggleClass(e,!1),this.stateMap.delete(e)),r.touched=!1}}_toggleClass(i,e){i=i.trim(),i.length>0&&i.split(Vr).forEach(r=>{e?this._renderer.addClass(this._ngEl.nativeElement,r):this._renderer.removeClass(this._ngEl.nativeElement,r)})}static \u0275fac=function(e){return new(e||n)(Se(ce),Se(Xt))};static \u0275dir=V({type:n,selectors:[["","ngClass",""]],inputs:{klass:[0,"class","klass"],ngClass:"ngClass"}})}return n})();var nc=(()=>{class n{_viewContainer;_context=new Sn;_thenTemplateRef=null;_elseTemplateRef=null;_thenViewRef=null;_elseViewRef=null;constructor(i,e){this._viewContainer=i,this._thenTemplateRef=e}set ngIf(i){this._context.$implicit=this._context.ngIf=i,this._updateView()}set ngIfThen(i){Es(i,!1),this._thenTemplateRef=i,this._thenViewRef=null,this._updateView()}set ngIfElse(i){Es(i,!1),this._elseTemplateRef=i,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngIfUseIfTypeGuard;static ngTemplateGuard_ngIf;static ngTemplateContextGuard(i,e){return!0}static \u0275fac=function(e){return new(e||n)(Se(ht),Se(Xe))};static \u0275dir=V({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}})}return n})(),Sn=class{$implicit=null;ngIf=null};function Es(n,t){if(n&&!n.createEmbeddedView)throw new U(2020,!1)}var We=(()=>{class n{_ngEl;_differs;_renderer;_ngStyle=null;_differ=null;constructor(i,e,r){this._ngEl=i,this._differs=e,this._renderer=r}set ngStyle(i){this._ngStyle=i,!this._differ&&i&&(this._differ=this._differs.find(i).create())}ngDoCheck(){if(this._differ){let i=this._differ.diff(this._ngStyle);i&&this._applyChanges(i)}}_setStyle(i,e){let[r,o]=i.split("."),s=r.indexOf("-")===-1?void 0:It.DashCase;e!=null?this._renderer.setStyle(this._ngEl.nativeElement,r,o?`${e}${o}`:e,s):this._renderer.removeStyle(this._ngEl.nativeElement,r,s)}_applyChanges(i){i.forEachRemovedItem(e=>this._setStyle(e.key,null)),i.forEachAddedItem(e=>this._setStyle(e.key,e.currentValue)),i.forEachChangedItem(e=>this._setStyle(e.key,e.currentValue))}static \u0275fac=function(e){return new(e||n)(Se(ce),Se(Rr),Se(Xt))};static \u0275dir=V({type:n,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"}})}return n})(),Ti=(()=>{class n{_viewContainerRef;_viewRef=null;ngTemplateOutletContext=null;ngTemplateOutlet=null;ngTemplateOutletInjector=null;constructor(i){this._viewContainerRef=i}ngOnChanges(i){if(this._shouldRecreateView(i)){let e=this._viewContainerRef;if(this._viewRef&&e.remove(e.indexOf(this._viewRef)),!this.ngTemplateOutlet){this._viewRef=null;return}let r=this._createContextForwardProxy();this._viewRef=e.createEmbeddedView(this.ngTemplateOutlet,r,{injector:this.ngTemplateOutletInjector??void 0})}}_shouldRecreateView(i){return!!i.ngTemplateOutlet||!!i.ngTemplateOutletInjector}_createContextForwardProxy(){return new Proxy({},{set:(i,e,r)=>this.ngTemplateOutletContext?Reflect.set(this.ngTemplateOutletContext,e,r):!1,get:(i,e,r)=>{if(this.ngTemplateOutletContext)return Reflect.get(this.ngTemplateOutletContext,e,r)}})}static \u0275fac=function(e){return new(e||n)(Se(ht))};static \u0275dir=V({type:n,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet",ngTemplateOutletInjector:"ngTemplateOutletInjector"},features:[Me]})}return n})();function En(n,t){return new U(2100,!1)}var rc=/(?:[0-9A-Za-z\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u05D0-\u05EA\u05EF-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u0870-\u0887\u0889-\u088E\u08A0-\u08C9\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C5D\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D04-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16F1-\u16F8\u1700-\u1711\u171F-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1878\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4C\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C88\u1C90-\u1CBA\u1CBD-\u1CBF\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5\u1CF6\u1CFA\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2183\u2184\u2C00-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005\u3006\u3031-\u3035\u303B\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u31A0-\u31BF\u31F0-\u31FF\u3400-\u4DBF\u4E00-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6E5\uA717-\uA71F\uA722-\uA788\uA78B-\uA7CA\uA7D0\uA7D1\uA7D3\uA7D5-\uA7D9\uA7F2-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA8FE\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB69\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDE80-\uDE9C\uDEA0-\uDED0\uDF00-\uDF1F\uDF2D-\uDF40\uDF42-\uDF49\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF]|\uD801[\uDC00-\uDC9D\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDD70-\uDD7A\uDD7C-\uDD8A\uDD8C-\uDD92\uDD94\uDD95\uDD97-\uDDA1\uDDA3-\uDDB1\uDDB3-\uDDB9\uDDBB\uDDBC\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67\uDF80-\uDF85\uDF87-\uDFB0\uDFB2-\uDFBA]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE35\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE4\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2\uDD00-\uDD23\uDE80-\uDEA9\uDEB0\uDEB1\uDF00-\uDF1C\uDF27\uDF30-\uDF45\uDF70-\uDF81\uDFB0-\uDFC4\uDFE0-\uDFF6]|\uD804[\uDC03-\uDC37\uDC71\uDC72\uDC75\uDC83-\uDCAF\uDCD0-\uDCE8\uDD03-\uDD26\uDD44\uDD47\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE2B\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC5F-\uDC61\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE80-\uDEAA\uDEB8\uDF00-\uDF1A\uDF40-\uDF46]|\uD806[\uDC00-\uDC2B\uDCA0-\uDCDF\uDCFF-\uDD06\uDD09\uDD0C-\uDD13\uDD15\uDD16\uDD18-\uDD2F\uDD3F\uDD41\uDDA0-\uDDA7\uDDAA-\uDDD0\uDDE1\uDDE3\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE89\uDE9D\uDEB0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46\uDD60-\uDD65\uDD67\uDD68\uDD6A-\uDD89\uDD98\uDEE0-\uDEF2\uDFB0]|\uD808[\uDC00-\uDF99]|\uD809[\uDC80-\uDD43]|\uD80B[\uDF90-\uDFF0]|[\uD80C\uD81C-\uD820\uD822\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879\uD880-\uD883][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE70-\uDEBE\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDE40-\uDE7F\uDF00-\uDF4A\uDF50\uDF93-\uDF9F\uDFE0\uDFE1\uDFE3]|\uD821[\uDC00-\uDFF7]|\uD823[\uDC00-\uDCD5\uDD00-\uDD08]|\uD82B[\uDFF0-\uDFF3\uDFF5-\uDFFB\uDFFD\uDFFE]|\uD82C[\uDC00-\uDD22\uDD50-\uDD52\uDD64-\uDD67\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB]|\uD837[\uDF00-\uDF1E]|\uD838[\uDD00-\uDD2C\uDD37-\uDD3D\uDD4E\uDE90-\uDEAD\uDEC0-\uDEEB]|\uD839[\uDFE0-\uDFE6\uDFE8-\uDFEB\uDFED\uDFEE\uDFF0-\uDFFE]|\uD83A[\uDC00-\uDCC4\uDD00-\uDD43\uDD4B]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDEDF\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF38\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0]|\uD87E[\uDC00-\uDE1D]|\uD884[\uDC00-\uDF4A])\S*/g,Hr=(()=>{class n{transform(i){if(i==null)return null;if(typeof i!="string")throw En(n,i);return i.replace(rc,e=>e[0].toUpperCase()+e.slice(1).toLowerCase())}static \u0275fac=function(e){return new(e||n)};static \u0275pipe=ee({name:"titlecase",type:n,pure:!0})}return n})(),oc=(()=>{class n{transform(i){if(i==null)return null;if(typeof i!="string")throw En(n,i);return i.toUpperCase()}static \u0275fac=function(e){return new(e||n)};static \u0275pipe=ee({name:"uppercase",type:n,pure:!0})}return n})(),sc="mediumDate",$s=new L(""),Gs=new L(""),ac=(()=>{class n{locale;defaultTimezone;defaultOptions;constructor(i,e,r){this.locale=i,this.defaultTimezone=e,this.defaultOptions=r}transform(i,e,r,o){if(i==null||i===""||i!==i)return null;try{let s=e??this.defaultOptions?.dateFormat??sc,a=r??this.defaultOptions?.timezone??this.defaultTimezone??void 0;return js(i,s,o||this.locale,a)}catch(s){throw En(n,s.message)}}static \u0275fac=function(e){return new(e||n)(Se(Ir,16),Se($s,24),Se(Gs,24))};static \u0275pipe=ee({name:"date",type:n,pure:!0})}return n})();function lc(n,t){return{key:n,value:t}}var cc=(()=>{class n{differs;constructor(i){this.differs=i}differ;keyValues=[];compareFn=Ts;transform(i,e=Ts){if(!i||!(i instanceof Map)&&typeof i!="object")return null;this.differ??=this.differs.find(i).create();let r=this.differ.diff(i),o=e!==this.compareFn;return r&&(this.keyValues=[],r.forEachItem(s=>{this.keyValues.push(lc(s.key,s.currentValue))})),(r||o)&&(e&&this.keyValues.sort(e),this.compareFn=e),this.keyValues}static \u0275fac=function(e){return new(e||n)(Se(Rr,16))};static \u0275pipe=ee({name:"keyvalue",type:n,pure:!1})}return n})();function Ts(n,t){let i=n.key,e=t.key;if(i===e)return 0;if(i==null)return 1;if(e==null)return-1;if(typeof i=="string"&&typeof e=="string")return i<e?-1:1;if(typeof i=="number"&&typeof e=="number")return i-e;if(typeof i=="boolean"&&typeof e=="boolean")return i<e?-1:1;let r=String(i),o=String(e);return r==o?0:r<o?-1:1}var uc=(()=>{class n{_locale;_defaultCurrencyCode;constructor(i,e="USD"){this._locale=i,this._defaultCurrencyCode=e}transform(i,e=this._defaultCurrencyCode,r="symbol",o,s){if(!dc(i))return null;s||=this._locale,typeof r=="boolean"&&(r=r?"symbol":"code");let a=e||this._defaultCurrencyCode;r!=="code"&&(r==="symbol"||r==="symbol-narrow"?a=Bs(a,r==="symbol"?"wide":"narrow",s):a=r);try{let l=hc(i);return Us(l,s,a,e,o)}catch(l){throw En(n,l.message)}}static \u0275fac=function(e){return new(e||n)(Se(Ir,16),Se(us,16))};static \u0275pipe=ee({name:"currency",type:n,pure:!0})}return n})();function dc(n){return!(n==null||n===""||n!==n)}function hc(n){if(typeof n=="string"&&!isNaN(Number(n)-parseFloat(n)))return Number(n);if(typeof n!="number")throw new U(2309,!1);return n}function Ii(n,t){t=encodeURIComponent(t);for(let i of n.split(";")){let e=i.indexOf("="),[r,o]=e==-1?[i,""]:[i.slice(0,e),i.slice(e+1)];if(r.trim()===t)return decodeURIComponent(o)}return null}var Ft=class{};var Ur="browser",_c="server";function Ws(n){return n===Ur}function Ks(n){return n===_c}var Pf=(()=>{class n{static \u0275prov=b({token:n,providedIn:"root",factory:()=>new zr(d(Y),window)})}return n})(),zr=class{document;window;offset=()=>[0,0];constructor(t,i){this.document=t,this.window=i}setOffset(t){Array.isArray(t)?this.offset=()=>t:this.offset=t}getScrollPosition(){return[this.window.scrollX,this.window.scrollY]}scrollToPosition(t,i){this.window.scrollTo(Le(K({},i),{left:t[0],top:t[1]}))}scrollToAnchor(t,i){let e=yc(this.document,t);e&&(this.scrollToElement(e,i),e.focus())}setHistoryScrollRestoration(t){try{this.window.history.scrollRestoration=t}catch{console.warn(dn(2400,!1))}}scrollToElement(t,i){let e=t.getBoundingClientRect(),r=e.left+this.window.pageXOffset,o=e.top+this.window.pageYOffset,s=this.offset();this.window.scrollTo(Le(K({},i),{left:r-s[0],top:o-s[1]}))}};function yc(n,t){let i=n.getElementById(t)||n.getElementsByName(t)[0];if(i)return i;if(typeof n.createTreeWalker=="function"&&n.body&&typeof n.body.attachShadow=="function"){let e=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT),r=e.currentNode;for(;r;){let o=r.shadowRoot;if(o){let s=o.getElementById(t)||o.querySelector(`[name="${t}"]`);if(s)return s}r=e.nextNode()}}return null}var Rn=new L(""),Kr=(()=>{class n{_zone;_plugins;_eventNameToPlugin=new Map;constructor(i,e){this._zone=e,i.forEach(r=>{r.manager=this}),this._plugins=i.slice().reverse()}addEventListener(i,e,r,o){return this._findPluginFor(e).addEventListener(i,e,r,o)}getZone(){return this._zone}_findPluginFor(i){let e=this._eventNameToPlugin.get(i);if(e)return e;if(e=this._plugins.find(o=>o.supports(i)),!e)throw new U(5101,!1);return this._eventNameToPlugin.set(i,e),e}static \u0275fac=function(e){return new(e||n)(R(Rn),R(M))};static \u0275prov=b({token:n,factory:n.\u0275fac})}return n})(),Ri=class{_doc;constructor(t){this._doc=t}manager},Tn="ng-app-id";function Zs(n){for(let t of n)t.remove()}function Ys(n,t){let i=t.createElement("style");return i.textContent=n,i}function bc(n,t,i,e){let r=n.head?.querySelectorAll(`style[${Tn}="${t}"],link[${Tn}="${t}"]`);if(r)for(let o of r)o.removeAttribute(Tn),o instanceof HTMLLinkElement?e.set(o.href.slice(o.href.lastIndexOf("/")+1),{usage:0,elements:[o]}):o.textContent&&i.set(o.textContent,{usage:0,elements:[o]})}function Gr(n,t){let i=t.createElement("link");return i.setAttribute("rel","stylesheet"),i.setAttribute("href",n),i}var Zr=(()=>{class n{doc;appId;nonce;inline=new Map;external=new Map;hosts=new Set;isServer;constructor(i,e,r,o={}){this.doc=i,this.appId=e,this.nonce=r,this.isServer=Ks(o),bc(i,e,this.inline,this.external),this.hosts.add(i.head)}addStyles(i,e){for(let r of i)this.addUsage(r,this.inline,Ys);e?.forEach(r=>this.addUsage(r,this.external,Gr))}removeStyles(i,e){for(let r of i)this.removeUsage(r,this.inline);e?.forEach(r=>this.removeUsage(r,this.external))}addUsage(i,e,r){let o=e.get(i);o?o.usage++:e.set(i,{usage:1,elements:[...this.hosts].map(s=>this.addElement(s,r(i,this.doc)))})}removeUsage(i,e){let r=e.get(i);r&&(r.usage--,r.usage<=0&&(Zs(r.elements),e.delete(i)))}ngOnDestroy(){for(let[,{elements:i}]of[...this.inline,...this.external])Zs(i);this.hosts.clear()}addHost(i){this.hosts.add(i);for(let[e,{elements:r}]of this.inline)r.push(this.addElement(i,Ys(e,this.doc)));for(let[e,{elements:r}]of this.external)r.push(this.addElement(i,Gr(e,this.doc)))}removeHost(i){this.hosts.delete(i)}addElement(i,e){return this.nonce&&e.setAttribute("nonce",this.nonce),this.isServer&&e.setAttribute(Tn,this.appId),i.appendChild(e)}static \u0275fac=function(e){return new(e||n)(R(Y),R(pi),R(Sr,8),R(St))};static \u0275prov=b({token:n,factory:n.\u0275fac})}return n})(),$r={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},Yr=/%COMP%/g;var Qs="%COMP%",Dc=`_nghost-${Qs}`,wc=`_ngcontent-${Qs}`,vc=!0,xc=new L("",{providedIn:"root",factory:()=>vc});function Cc(n){return wc.replace(Yr,n)}function Sc(n){return Dc.replace(Yr,n)}function qs(n,t){return t.map(i=>i.replace(Yr,n))}var Xr=(()=>{class n{eventManager;sharedStylesHost;appId;removeStylesOnCompDestroy;doc;platformId;ngZone;nonce;tracingService;rendererByCompId=new Map;defaultRenderer;platformIsServer;constructor(i,e,r,o,s,a,l,c=null,h=null){this.eventManager=i,this.sharedStylesHost=e,this.appId=r,this.removeStylesOnCompDestroy=o,this.doc=s,this.platformId=a,this.ngZone=l,this.nonce=c,this.tracingService=h,this.platformIsServer=!1,this.defaultRenderer=new Ai(i,s,l,this.platformIsServer,this.tracingService)}createRenderer(i,e){if(!i||!e)return this.defaultRenderer;let r=this.getOrCreateRenderer(i,e);return r instanceof In?r.applyToHost(i):r instanceof Pi&&r.applyStyles(),r}getOrCreateRenderer(i,e){let r=this.rendererByCompId,o=r.get(e.id);if(!o){let s=this.doc,a=this.ngZone,l=this.eventManager,c=this.sharedStylesHost,h=this.removeStylesOnCompDestroy,p=this.platformIsServer,D=this.tracingService;switch(e.encapsulation){case Er.Emulated:o=new In(l,c,e,this.appId,h,s,a,p,D);break;case Er.ShadowDom:return new Wr(l,c,i,e,s,a,this.nonce,p,D);default:o=new Pi(l,c,e,h,s,a,p,D);break}r.set(e.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}componentReplaced(i){this.rendererByCompId.delete(i)}static \u0275fac=function(e){return new(e||n)(R(Kr),R(Zr),R(pi),R(xc),R(Y),R(St),R(M),R(Sr),R(ts,8))};static \u0275prov=b({token:n,factory:n.\u0275fac})}return n})(),Ai=class{eventManager;doc;ngZone;platformIsServer;tracingService;data=Object.create(null);throwOnSyntheticProps=!0;constructor(t,i,e,r,o){this.eventManager=t,this.doc=i,this.ngZone=e,this.platformIsServer=r,this.tracingService=o}destroy(){}destroyNode=null;createElement(t,i){return i?this.doc.createElementNS($r[i]||i,t):this.doc.createElement(t)}createComment(t){return this.doc.createComment(t)}createText(t){return this.doc.createTextNode(t)}appendChild(t,i){(Xs(t)?t.content:t).appendChild(i)}insertBefore(t,i,e){t&&(Xs(t)?t.content:t).insertBefore(i,e)}removeChild(t,i){i.remove()}selectRootElement(t,i){let e=typeof t=="string"?this.doc.querySelector(t):t;if(!e)throw new U(-5104,!1);return i||(e.textContent=""),e}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,i,e,r){if(r){i=r+":"+i;let o=$r[r];o?t.setAttributeNS(o,i,e):t.setAttribute(i,e)}else t.setAttribute(i,e)}removeAttribute(t,i,e){if(e){let r=$r[e];r?t.removeAttributeNS(r,i):t.removeAttribute(`${e}:${i}`)}else t.removeAttribute(i)}addClass(t,i){t.classList.add(i)}removeClass(t,i){t.classList.remove(i)}setStyle(t,i,e,r){r&(It.DashCase|It.Important)?t.style.setProperty(i,e,r&It.Important?"important":""):t.style[i]=e}removeStyle(t,i,e){e&It.DashCase?t.style.removeProperty(i):t.style[i]=""}setProperty(t,i,e){t!=null&&(t[i]=e)}setValue(t,i){t.nodeValue=i}listen(t,i,e,r){if(typeof t=="string"&&(t=nt().getGlobalEventTarget(this.doc,t),!t))throw new U(5102,!1);let o=this.decoratePreventDefault(e);return this.tracingService?.wrapEventListener&&(o=this.tracingService.wrapEventListener(t,i,o)),this.eventManager.addEventListener(t,i,o,r)}decoratePreventDefault(t){return i=>{if(i==="__ngUnwrap__")return t;t(i)===!1&&i.preventDefault()}}};function Xs(n){return n.tagName==="TEMPLATE"&&n.content!==void 0}var Wr=class extends Ai{sharedStylesHost;hostEl;shadowRoot;constructor(t,i,e,r,o,s,a,l,c){super(t,o,s,l,c),this.sharedStylesHost=i,this.hostEl=e,this.shadowRoot=e.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let h=r.styles;h=qs(r.id,h);for(let D of h){let g=document.createElement("style");a&&g.setAttribute("nonce",a),g.textContent=D,this.shadowRoot.appendChild(g)}let p=r.getExternalStyles?.();if(p)for(let D of p){let g=Gr(D,o);a&&g.setAttribute("nonce",a),this.shadowRoot.appendChild(g)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}appendChild(t,i){return super.appendChild(this.nodeOrShadowRoot(t),i)}insertBefore(t,i,e){return super.insertBefore(this.nodeOrShadowRoot(t),i,e)}removeChild(t,i){return super.removeChild(null,i)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},Pi=class extends Ai{sharedStylesHost;removeStylesOnCompDestroy;styles;styleUrls;constructor(t,i,e,r,o,s,a,l,c){super(t,o,s,a,l),this.sharedStylesHost=i,this.removeStylesOnCompDestroy=r;let h=e.styles;this.styles=c?qs(c,h):h,this.styleUrls=e.getExternalStyles?.(c)}applyStyles(){this.sharedStylesHost.addStyles(this.styles,this.styleUrls)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles,this.styleUrls)}},In=class extends Pi{contentAttr;hostAttr;constructor(t,i,e,r,o,s,a,l,c){let h=r+"-"+e.id;super(t,i,e,o,s,a,l,c,h),this.contentAttr=Cc(h),this.hostAttr=Sc(h)}applyToHost(t){this.applyStyles(),this.setAttribute(t,this.hostAttr,"")}createElement(t,i){let e=super.createElement(t,i);return super.setAttribute(e,this.contentAttr,""),e}};var An=class n extends bi{supportsDOMEvents=!0;static makeCurrent(){Mr(new n)}onAndCancel(t,i,e,r){return t.addEventListener(i,e,r),()=>{t.removeEventListener(i,e,r)}}dispatchEvent(t,i){t.dispatchEvent(i)}remove(t){t.remove()}createElement(t,i){return i=i||this.getDefaultDocument(),i.createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,i){return i==="window"?window:i==="document"?t:i==="body"?t.body:null}getBaseHref(t){let i=Tc();return i==null?null:Ic(i)}resetBaseElement(){Fi=null}getUserAgent(){return window.navigator.userAgent}getCookie(t){return Ii(document.cookie,t)}},Fi=null;function Tc(){return Fi=Fi||document.head.querySelector("base"),Fi?Fi.getAttribute("href"):null}function Ic(n){return new URL(n,document.baseURI).pathname}var Rc=(()=>{class n{build(){return new XMLHttpRequest}static \u0275fac=function(e){return new(e||n)};static \u0275prov=b({token:n,factory:n.\u0275fac})}return n})(),ea=(()=>{class n extends Ri{constructor(i){super(i)}supports(i){return!0}addEventListener(i,e,r,o){return i.addEventListener(e,r,o),()=>this.removeEventListener(i,e,r,o)}removeEventListener(i,e,r,o){return i.removeEventListener(e,r,o)}static \u0275fac=function(e){return new(e||n)(R(Y))};static \u0275prov=b({token:n,factory:n.\u0275fac})}return n})(),Js=["alt","control","meta","shift"],Ac={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Pc={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey},ta=(()=>{class n extends Ri{constructor(i){super(i)}supports(i){return n.parseEventName(i)!=null}addEventListener(i,e,r,o){let s=n.parseEventName(e),a=n.eventCallback(s.fullKey,r,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>nt().onAndCancel(i,s.domEventName,a,o))}static parseEventName(i){let e=i.toLowerCase().split("."),r=e.shift();if(e.length===0||!(r==="keydown"||r==="keyup"))return null;let o=n._normalizeKey(e.pop()),s="",a=e.indexOf("code");if(a>-1&&(e.splice(a,1),s="code."),Js.forEach(c=>{let h=e.indexOf(c);h>-1&&(e.splice(h,1),s+=c+".")}),s+=o,e.length!=0||o.length===0)return null;let l={};return l.domEventName=r,l.fullKey=s,l}static matchEventFullKeyCode(i,e){let r=Ac[i.key]||i.key,o="";return e.indexOf("code.")>-1&&(r=i.code,o="code."),r==null||!r?!1:(r=r.toLowerCase(),r===" "?r="space":r==="."&&(r="dot"),Js.forEach(s=>{if(s!==r){let a=Pc[s];a(i)&&(o+=s+".")}}),o+=r,o===e)}static eventCallback(i,e,r){return o=>{n.matchEventFullKeyCode(o,i)&&r.runGuarded(()=>e(o))}}static _normalizeKey(i){return i==="esc"?"escape":i}static \u0275fac=function(e){return new(e||n)(R(Y))};static \u0275prov=b({token:n,factory:n.\u0275fac})}return n})();function Fc(n,t){return ps(K({rootComponent:n},Mc(t)))}function Mc(n){return{appProviders:[...Bc,...n?.providers??[]],platformProviders:Lc}}function Oc(){An.makeCurrent()}function kc(){return new Cr}function Nc(){return Go(document),document}var Lc=[{provide:St,useValue:Ur},{provide:Wo,useValue:Oc,multi:!0},{provide:Y,useFactory:Nc}];var Bc=[{provide:Uo,useValue:"root"},{provide:Cr,useFactory:kc},{provide:Rn,useClass:ea,multi:!0,deps:[Y]},{provide:Rn,useClass:ta,multi:!0,deps:[Y]},Xr,Zr,Kr,{provide:dt,useExisting:Xr},{provide:Ft,useClass:Rc},[]];var ti=class{},Mi=class{},yt=class n{headers;normalizedNames=new Map;lazyInit;lazyUpdate=null;constructor(t){t?typeof t=="string"?this.lazyInit=()=>{this.headers=new Map,t.split(`
`).forEach(i=>{let e=i.indexOf(":");if(e>0){let r=i.slice(0,e),o=i.slice(e+1).trim();this.addHeaderEntry(r,o)}})}:typeof Headers<"u"&&t instanceof Headers?(this.headers=new Map,t.forEach((i,e)=>{this.addHeaderEntry(e,i)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(t).forEach(([i,e])=>{this.setHeaderEntries(i,e)})}:this.headers=new Map}has(t){return this.init(),this.headers.has(t.toLowerCase())}get(t){this.init();let i=this.headers.get(t.toLowerCase());return i&&i.length>0?i[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(t){return this.init(),this.headers.get(t.toLowerCase())||null}append(t,i){return this.clone({name:t,value:i,op:"a"})}set(t,i){return this.clone({name:t,value:i,op:"s"})}delete(t,i){return this.clone({name:t,value:i,op:"d"})}maybeSetNormalizedName(t,i){this.normalizedNames.has(i)||this.normalizedNames.set(i,t)}init(){this.lazyInit&&(this.lazyInit instanceof n?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(t=>this.applyUpdate(t)),this.lazyUpdate=null))}copyFrom(t){t.init(),Array.from(t.headers.keys()).forEach(i=>{this.headers.set(i,t.headers.get(i)),this.normalizedNames.set(i,t.normalizedNames.get(i))})}clone(t){let i=new n;return i.lazyInit=this.lazyInit&&this.lazyInit instanceof n?this.lazyInit:this,i.lazyUpdate=(this.lazyUpdate||[]).concat([t]),i}applyUpdate(t){let i=t.name.toLowerCase();switch(t.op){case"a":case"s":let e=t.value;if(typeof e=="string"&&(e=[e]),e.length===0)return;this.maybeSetNormalizedName(t.name,i);let r=(t.op==="a"?this.headers.get(i):void 0)||[];r.push(...e),this.headers.set(i,r);break;case"d":let o=t.value;if(!o)this.headers.delete(i),this.normalizedNames.delete(i);else{let s=this.headers.get(i);if(!s)return;s=s.filter(a=>o.indexOf(a)===-1),s.length===0?(this.headers.delete(i),this.normalizedNames.delete(i)):this.headers.set(i,s)}break}}addHeaderEntry(t,i){let e=t.toLowerCase();this.maybeSetNormalizedName(t,e),this.headers.has(e)?this.headers.get(e).push(i):this.headers.set(e,[i])}setHeaderEntries(t,i){let e=(Array.isArray(i)?i:[i]).map(o=>o.toString()),r=t.toLowerCase();this.headers.set(r,e),this.maybeSetNormalizedName(t,r)}forEach(t){this.init(),Array.from(this.normalizedNames.keys()).forEach(i=>t(this.normalizedNames.get(i),this.headers.get(i)))}};var Fn=class{encodeKey(t){return ia(t)}encodeValue(t){return ia(t)}decodeKey(t){return decodeURIComponent(t)}decodeValue(t){return decodeURIComponent(t)}};function Vc(n,t){let i=new Map;return n.length>0&&n.replace(/^\?/,"").split("&").forEach(r=>{let o=r.indexOf("="),[s,a]=o==-1?[t.decodeKey(r),""]:[t.decodeKey(r.slice(0,o)),t.decodeValue(r.slice(o+1))],l=i.get(s)||[];l.push(a),i.set(s,l)}),i}var jc=/%(\d[a-f0-9])/gi,Hc={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function ia(n){return encodeURIComponent(n).replace(jc,(t,i)=>Hc[i]??t)}function Pn(n){return`${n}`}var st=class n{map;encoder;updates=null;cloneFrom=null;constructor(t={}){if(this.encoder=t.encoder||new Fn,t.fromString){if(t.fromObject)throw new U(2805,!1);this.map=Vc(t.fromString,this.encoder)}else t.fromObject?(this.map=new Map,Object.keys(t.fromObject).forEach(i=>{let e=t.fromObject[i],r=Array.isArray(e)?e.map(Pn):[Pn(e)];this.map.set(i,r)})):this.map=null}has(t){return this.init(),this.map.has(t)}get(t){this.init();let i=this.map.get(t);return i?i[0]:null}getAll(t){return this.init(),this.map.get(t)||null}keys(){return this.init(),Array.from(this.map.keys())}append(t,i){return this.clone({param:t,value:i,op:"a"})}appendAll(t){let i=[];return Object.keys(t).forEach(e=>{let r=t[e];Array.isArray(r)?r.forEach(o=>{i.push({param:e,value:o,op:"a"})}):i.push({param:e,value:r,op:"a"})}),this.clone(i)}set(t,i){return this.clone({param:t,value:i,op:"s"})}delete(t,i){return this.clone({param:t,value:i,op:"d"})}toString(){return this.init(),this.keys().map(t=>{let i=this.encoder.encodeKey(t);return this.map.get(t).map(e=>i+"="+this.encoder.encodeValue(e)).join("&")}).filter(t=>t!=="").join("&")}clone(t){let i=new n({encoder:this.encoder});return i.cloneFrom=this.cloneFrom||this,i.updates=(this.updates||[]).concat(t),i}init(){this.map===null&&(this.map=new Map),this.cloneFrom!==null&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(t=>this.map.set(t,this.cloneFrom.map.get(t))),this.updates.forEach(t=>{switch(t.op){case"a":case"s":let i=(t.op==="a"?this.map.get(t.param):void 0)||[];i.push(Pn(t.value)),this.map.set(t.param,i);break;case"d":if(t.value!==void 0){let e=this.map.get(t.param)||[],r=e.indexOf(Pn(t.value));r!==-1&&e.splice(r,1),e.length>0?this.map.set(t.param,e):this.map.delete(t.param)}else{this.map.delete(t.param);break}}}),this.cloneFrom=this.updates=null)}};var Mn=class{map=new Map;set(t,i){return this.map.set(t,i),this}get(t){return this.map.has(t)||this.map.set(t,t.defaultValue()),this.map.get(t)}delete(t){return this.map.delete(t),this}has(t){return this.map.has(t)}keys(){return this.map.keys()}};function zc(n){switch(n){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}function na(n){return typeof ArrayBuffer<"u"&&n instanceof ArrayBuffer}function ra(n){return typeof Blob<"u"&&n instanceof Blob}function oa(n){return typeof FormData<"u"&&n instanceof FormData}function Uc(n){return typeof URLSearchParams<"u"&&n instanceof URLSearchParams}var sa="Content-Type",aa="Accept",la="X-Request-URL",ca="text/plain",ua="application/json",$c=`${ua}, ${ca}, */*`,ei=class n{url;body=null;headers;context;reportProgress=!1;withCredentials=!1;keepalive=!1;responseType="json";method;params;urlWithParams;transferCache;constructor(t,i,e,r){this.url=i,this.method=t.toUpperCase();let o;if(zc(this.method)||r?(this.body=e!==void 0?e:null,o=r):o=e,o&&(this.reportProgress=!!o.reportProgress,this.withCredentials=!!o.withCredentials,this.keepalive=!!o.keepalive,o.responseType&&(this.responseType=o.responseType),o.headers&&(this.headers=o.headers),o.context&&(this.context=o.context),o.params&&(this.params=o.params),this.transferCache=o.transferCache),this.headers??=new yt,this.context??=new Mn,!this.params)this.params=new st,this.urlWithParams=i;else{let s=this.params.toString();if(s.length===0)this.urlWithParams=i;else{let a=i.indexOf("?"),l=a===-1?"?":a<i.length-1?"&":"";this.urlWithParams=i+l+s}}}serializeBody(){return this.body===null?null:typeof this.body=="string"||na(this.body)||ra(this.body)||oa(this.body)||Uc(this.body)?this.body:this.body instanceof st?this.body.toString():typeof this.body=="object"||typeof this.body=="boolean"||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return this.body===null||oa(this.body)?null:ra(this.body)?this.body.type||null:na(this.body)?null:typeof this.body=="string"?ca:this.body instanceof st?"application/x-www-form-urlencoded;charset=UTF-8":typeof this.body=="object"||typeof this.body=="number"||typeof this.body=="boolean"?ua:null}clone(t={}){let i=t.method||this.method,e=t.url||this.url,r=t.responseType||this.responseType,o=t.keepalive??this.keepalive,s=t.transferCache??this.transferCache,a=t.body!==void 0?t.body:this.body,l=t.withCredentials??this.withCredentials,c=t.reportProgress??this.reportProgress,h=t.headers||this.headers,p=t.params||this.params,D=t.context??this.context;return t.setHeaders!==void 0&&(h=Object.keys(t.setHeaders).reduce((g,F)=>g.set(F,t.setHeaders[F]),h)),t.setParams&&(p=Object.keys(t.setParams).reduce((g,F)=>g.set(F,t.setParams[F]),p)),new n(i,e,a,{params:p,headers:h,context:D,reportProgress:c,responseType:r,withCredentials:l,transferCache:s,keepalive:o})}},Mt=function(n){return n[n.Sent=0]="Sent",n[n.UploadProgress=1]="UploadProgress",n[n.ResponseHeader=2]="ResponseHeader",n[n.DownloadProgress=3]="DownloadProgress",n[n.Response=4]="Response",n[n.User=5]="User",n}(Mt||{}),ii=class{headers;status;statusText;url;ok;type;constructor(t,i=200,e="OK"){this.headers=t.headers||new yt,this.status=t.status!==void 0?t.status:i,this.statusText=t.statusText||e,this.url=t.url||null,this.ok=this.status>=200&&this.status<300}},On=class n extends ii{constructor(t={}){super(t)}type=Mt.ResponseHeader;clone(t={}){return new n({headers:t.headers||this.headers,status:t.status!==void 0?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}},Oi=class n extends ii{body;constructor(t={}){super(t),this.body=t.body!==void 0?t.body:null}type=Mt.Response;clone(t={}){return new n({body:t.body!==void 0?t.body:this.body,headers:t.headers||this.headers,status:t.status!==void 0?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}},ki=class extends ii{name="HttpErrorResponse";message;error;ok=!1;constructor(t){super(t,0,"Unknown Error"),this.status>=200&&this.status<300?this.message=`Http failure during parsing for ${t.url||"(unknown url)"}`:this.message=`Http failure response for ${t.url||"(unknown url)"}: ${t.status} ${t.statusText}`,this.error=t.error||null}},Gc=200,Wc=204;function Qr(n,t){return{body:t,headers:n.headers,context:n.context,observe:n.observe,params:n.params,reportProgress:n.reportProgress,responseType:n.responseType,withCredentials:n.withCredentials,transferCache:n.transferCache,keepalive:n.keepalive}}var da=(()=>{class n{handler;constructor(i){this.handler=i}request(i,e,r={}){let o;if(i instanceof ei)o=i;else{let l;r.headers instanceof yt?l=r.headers:l=new yt(r.headers);let c;r.params&&(r.params instanceof st?c=r.params:c=new st({fromObject:r.params})),o=new ei(i,e,r.body!==void 0?r.body:null,{headers:l,context:r.context,params:c,reportProgress:r.reportProgress,responseType:r.responseType||"json",withCredentials:r.withCredentials,transferCache:r.transferCache,keepalive:r.keepalive})}let s=ui(o).pipe(Bo(l=>this.handler.handle(l)));if(i instanceof ei||r.observe==="events")return s;let a=s.pipe(cn(l=>l instanceof Oi));switch(r.observe||"body"){case"body":switch(o.responseType){case"arraybuffer":return a.pipe(Ct(l=>{if(l.body!==null&&!(l.body instanceof ArrayBuffer))throw new U(2806,!1);return l.body}));case"blob":return a.pipe(Ct(l=>{if(l.body!==null&&!(l.body instanceof Blob))throw new U(2807,!1);return l.body}));case"text":return a.pipe(Ct(l=>{if(l.body!==null&&typeof l.body!="string")throw new U(2808,!1);return l.body}));case"json":default:return a.pipe(Ct(l=>l.body))}case"response":return a;default:throw new U(2809,!1)}}delete(i,e={}){return this.request("DELETE",i,e)}get(i,e={}){return this.request("GET",i,e)}head(i,e={}){return this.request("HEAD",i,e)}jsonp(i,e){return this.request("JSONP",i,{params:new st().append(e,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(i,e={}){return this.request("OPTIONS",i,e)}patch(i,e,r={}){return this.request("PATCH",i,Qr(r,e))}post(i,e,r={}){return this.request("POST",i,Qr(r,e))}put(i,e,r={}){return this.request("PUT",i,Qr(r,e))}static \u0275fac=function(e){return new(e||n)(R(ti))};static \u0275prov=b({token:n,factory:n.\u0275fac})}return n})();var Kc=new L("");function Zc(n,t){return t(n)}function Yc(n,t,i){return(e,r)=>ct(i,()=>t(e,o=>n(o,r)))}var ha=new L(""),fa=new L(""),pa=new L("",{providedIn:"root",factory:()=>!0});var kn=(()=>{class n extends ti{backend;injector;chain=null;pendingTasks=d($o);contributeToStability=d(pa);constructor(i,e){super(),this.backend=i,this.injector=e}handle(i){if(this.chain===null){let e=Array.from(new Set([...this.injector.get(ha),...this.injector.get(fa,[])]));this.chain=e.reduceRight((r,o)=>Yc(r,o,this.injector),Zc)}if(this.contributeToStability){let e=this.pendingTasks.add();return this.chain(i,r=>this.backend.handle(r)).pipe(Ho(e))}else return this.chain(i,e=>this.backend.handle(e))}static \u0275fac=function(e){return new(e||n)(R(Mi),R(hn))};static \u0275prov=b({token:n,factory:n.\u0275fac})}return n})();var Xc=/^\)\]\}',?\n/,Qc=RegExp(`^${la}:`,"m");function qc(n){return"responseURL"in n&&n.responseURL?n.responseURL:Qc.test(n.getAllResponseHeaders())?n.getResponseHeader(la):null}var qr=(()=>{class n{xhrFactory;constructor(i){this.xhrFactory=i}handle(i){if(i.method==="JSONP")throw new U(-2800,!1);i.keepalive;let e=this.xhrFactory;return(e.\u0275loadImpl?ko(e.\u0275loadImpl()):ui(null)).pipe(di(()=>new xt(o=>{let s=e.build();if(s.open(i.method,i.urlWithParams),i.withCredentials&&(s.withCredentials=!0),i.headers.forEach((_,S)=>s.setRequestHeader(_,S.join(","))),i.headers.has(aa)||s.setRequestHeader(aa,$c),!i.headers.has(sa)){let _=i.detectContentTypeHeader();_!==null&&s.setRequestHeader(sa,_)}if(i.responseType){let _=i.responseType.toLowerCase();s.responseType=_!=="json"?_:"text"}let a=i.serializeBody(),l=null,c=()=>{if(l!==null)return l;let _=s.statusText||"OK",S=new yt(s.getAllResponseHeaders()),oe=qc(s)||i.url;return l=new On({headers:S,status:s.status,statusText:_,url:oe}),l},h=()=>{let{headers:_,status:S,statusText:oe,url:se}=c(),$=null;S!==Wc&&($=typeof s.response>"u"?s.responseText:s.response),S===0&&(S=$?Gc:0);let ye=S>=200&&S<300;if(i.responseType==="json"&&typeof $=="string"){let Te=$;$=$.replace(Xc,"");try{$=$!==""?JSON.parse($):null}catch(Fe){$=Te,ye&&(ye=!1,$={error:Fe,text:$})}}ye?(o.next(new Oi({body:$,headers:_,status:S,statusText:oe,url:se||void 0})),o.complete()):o.error(new ki({error:$,headers:_,status:S,statusText:oe,url:se||void 0}))},p=_=>{let{url:S}=c(),oe=new ki({error:_,status:s.status||0,statusText:s.statusText||"Unknown Error",url:S||void 0});o.error(oe)},D=!1,g=_=>{D||(o.next(c()),D=!0);let S={type:Mt.DownloadProgress,loaded:_.loaded};_.lengthComputable&&(S.total=_.total),i.responseType==="text"&&s.responseText&&(S.partialText=s.responseText),o.next(S)},F=_=>{let S={type:Mt.UploadProgress,loaded:_.loaded};_.lengthComputable&&(S.total=_.total),o.next(S)};return s.addEventListener("load",h),s.addEventListener("error",p),s.addEventListener("timeout",p),s.addEventListener("abort",p),i.reportProgress&&(s.addEventListener("progress",g),a!==null&&s.upload&&s.upload.addEventListener("progress",F)),s.send(a),o.next({type:Mt.Sent}),()=>{s.removeEventListener("error",p),s.removeEventListener("abort",p),s.removeEventListener("load",h),s.removeEventListener("timeout",p),i.reportProgress&&(s.removeEventListener("progress",g),a!==null&&s.upload&&s.upload.removeEventListener("progress",F)),s.readyState!==s.DONE&&s.abort()}})))}static \u0275fac=function(e){return new(e||n)(R(Ft))};static \u0275prov=b({token:n,factory:n.\u0275fac})}return n})(),ma=new L(""),Jc="XSRF-TOKEN",eu=new L("",{providedIn:"root",factory:()=>Jc}),tu="X-XSRF-TOKEN",iu=new L("",{providedIn:"root",factory:()=>tu}),Ni=class{},nu=(()=>{class n{doc;cookieName;lastCookieString="";lastToken=null;parseCount=0;constructor(i,e){this.doc=i,this.cookieName=e}getToken(){let i=this.doc.cookie||"";return i!==this.lastCookieString&&(this.parseCount++,this.lastToken=Ii(i,this.cookieName),this.lastCookieString=i),this.lastToken}static \u0275fac=function(e){return new(e||n)(R(Y),R(eu))};static \u0275prov=b({token:n,factory:n.\u0275fac})}return n})();function ru(n,t){let i=n.url.toLowerCase();if(!d(ma)||n.method==="GET"||n.method==="HEAD"||i.startsWith("http://")||i.startsWith("https://"))return t(n);let e=d(Ni).getToken(),r=d(iu);return e!=null&&!n.headers.has(r)&&(n=n.clone({headers:n.headers.set(r,e)})),t(n)}function ou(...n){let t=[da,qr,kn,{provide:ti,useExisting:kn},{provide:Mi,useFactory:()=>d(Kc,{optional:!0})??d(qr)},{provide:ha,useValue:ru,multi:!0},{provide:ma,useValue:!0},{provide:Ni,useClass:nu}];for(let i of n)t.push(...i.\u0275providers);return hi(t)}var sm=(()=>{class n{_doc;constructor(i){this._doc=i}getTitle(){return this._doc.title}setTitle(i){this._doc.title=i||""}static \u0275fac=function(e){return new(e||n)(R(Y))};static \u0275prov=b({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var Li=(()=>{class n{static \u0275fac=function(e){return new(e||n)};static \u0275prov=b({token:n,factory:function(e){let r=null;return e?r=new(e||n):r=R(au),r},providedIn:"root"})}return n})(),au=(()=>{class n extends Li{_doc;constructor(i){super(),this._doc=i}sanitize(i,e){if(e==null)return null;switch(i){case Tt.NONE:return e;case Tt.HTML:return Yt(e,"HTML")?Et(e):Jo(this._doc,String(e)).toString();case Tt.STYLE:return Yt(e,"Style")?Et(e):e;case Tt.SCRIPT:if(Yt(e,"Script"))return Et(e);throw new U(5200,!1);case Tt.URL:return Yt(e,"URL")?Et(e):qo(String(e));case Tt.RESOURCE_URL:if(Yt(e,"ResourceURL"))return Et(e);throw new U(5201,!1);default:throw new U(5202,!1)}}bypassSecurityTrustHtml(i){return Ko(i)}bypassSecurityTrustStyle(i){return Zo(i)}bypassSecurityTrustScript(i){return Yo(i)}bypassSecurityTrustUrl(i){return Xo(i)}bypassSecurityTrustResourceUrl(i){return Qo(i)}static \u0275fac=function(e){return new(e||n)(R(Y))};static \u0275prov=b({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var Nn=(()=>{let t=class t{constructor(){this.template=d(Xe,{optional:!0}),this.row=u(!1),this.bold=u(!1),this.nowrap=u(!0),this.width=u(null),this.height=u(null),this.cssStyles=u(null,{alias:"ng-style"}),this.cssClasses=u(null,{alias:"ng-class"}),this.onClick=ie(),this.dblClick=ie(),this.type=ut(null)}};t.\u0275fac=function(r){return new(r||t)},t.\u0275dir=V({type:t,inputs:{row:[1,"row"],bold:[1,"bold"],nowrap:[1,"nowrap"],width:[1,"width"],height:[1,"height"],cssStyles:[1,"ng-style","cssStyles"],cssClasses:[1,"ng-class","cssClasses"]},outputs:{onClick:"onClick",dblClick:"dblClick"}});let n=t;return n})();var Ot=(()=>{let t=class t extends Nn{constructor(){super(...arguments),this.type=u(null,{alias:"ngx-td"})}};t.\u0275fac=(()=>{let e;return function(o){return(e||(e=ge(t)))(o||t)}})(),t.\u0275dir=V({type:t,selectors:[["ng-template","ngx-td",""]],inputs:{type:[1,"ngx-td","type"]},features:[ue]});let n=t;return n})();var kt=(()=>{let t=class t extends Nn{constructor(){super(...arguments),this.type=u(null,{alias:"ngx-th"}),this.bold=u(!0),this.nowrap=u(!1)}};t.\u0275fac=(()=>{let e;return function(o){return(e||(e=ge(t)))(o||t)}})(),t.\u0275dir=V({type:t,selectors:[["ng-template","ngx-th",""]],inputs:{type:[1,"ngx-th","type"],bold:[1,"bold"],nowrap:[1,"nowrap"]},features:[ue]});let n=t;return n})();var Nt=(()=>{let t=class t{constructor(){this.overflowTooltip=u(null,{alias:"overflow-tooltip"}),this.filterType=u(null,{alias:"filter-type"}),this.nowrap=u(null),this.width=u(null),this.isResizable=u(null,{alias:"is-resizable"}),this.isSortable=u(null,{alias:"is-sortable"}),this.isFilterable=u(null,{alias:"is-filterable"}),this.isDraggable=u(null,{alias:"is-draggable"}),this.cssClass=u([],{alias:"css-class"}),this.cssStyle=u([],{alias:"css-style"}),this.stub=u(null)}};t.\u0275fac=function(r){return new(r||t)},t.\u0275dir=V({type:t,inputs:{overflowTooltip:[1,"overflow-tooltip","overflowTooltip"],filterType:[1,"filter-type","filterType"],nowrap:[1,"nowrap"],width:[1,"width"],isResizable:[1,"is-resizable","isResizable"],isSortable:[1,"is-sortable","isSortable"],isFilterable:[1,"is-filterable","isFilterable"],isDraggable:[1,"is-draggable","isDraggable"],cssClass:[1,"css-class","cssClass"],cssStyle:[1,"css-style","cssStyle"],stub:[1,"stub"]}});let n=t;return n})();var Lt=(()=>{let t=class t extends Nt{constructor(){super(...arguments),this.key=u(null),this.stub=u("-"),this.stickyLeft=u(!1,{alias:"sticky"}),this.emptyHead=u(null,{alias:"empty-head"}),this.headTitle=u(null,{alias:"head-title"}),this.customKey=u(!1,{alias:"custom-key"}),this.stickyRight=u(!1,{alias:"sticky-end"}),this.verticalLine=u(!1,{alias:"vertical-line"}),this.importantTemplate=u(!1,{alias:"important-template"}),this.forceModel=u(null,{alias:"force-model"}),this.overflowTooltip=u(null,{alias:"overflow-tooltip"}),this.excelType=u(null,{alias:"excel-type"}),this.th=je(kt),this.td=je(Ot)}withKey(e){return this.key[Be].value=e,this}};t.\u0275fac=(()=>{let e;return function(o){return(e||(e=ge(t)))(o||t)}})(),t.\u0275cmp=O({type:t,selectors:[["ngx-column"]],contentQueries:function(r,o,s){r&1&&(ke(s,o.th,kt,5),ke(s,o.td,Ot,5)),r&2&&Ne(2)},inputs:{key:[1,"key"],stub:[1,"stub"],stickyLeft:[1,"sticky","stickyLeft"],emptyHead:[1,"empty-head","emptyHead"],headTitle:[1,"head-title","headTitle"],customKey:[1,"custom-key","customKey"],stickyRight:[1,"sticky-end","stickyRight"],verticalLine:[1,"vertical-line","verticalLine"],importantTemplate:[1,"important-template","importantTemplate"],forceModel:[1,"force-model","forceModel"],overflowTooltip:[1,"overflow-tooltip","overflowTooltip"],excelType:[1,"excel-type","excelType"]},features:[ue],decls:0,vars:0,template:function(r,o){},encapsulation:2,changeDetection:0});let n=t;return n})();function W(n){return n==null}function f(n){return!W(n)}function fe(n){let t=typeof n=="string"?n.trim():n;return["",1/0,NaN,null,void 0].includes(t)}function bt(n){return n===!1}function De(n){return!fe(n)}function H(n){return n===!0}function xe(n){return typeof n=="string"?n?.trim()===""||n?.trim()!=="false":!!n}function B(n){if(!W(n))if(Array.isArray(n))for(let t of n)ga(t);else f(n)&&ga(n)}function ga(n){f(n)&&!n.destroyed&&n.detectChanges()}function Jr(n,t){return fe(n)?t:n}function Bt(){return document.querySelector("body")?.getBoundingClientRect()}function Vt(n){return!!n}function eo(n){return!Vt(n)}function to(n=navigator){return n.userAgent.includes("Mac")}var pe=function(n){return n.START_WITH="START_WITH",n.END_WITH="END_WITH",n.CONTAINS="CONTAINS",n.DOES_NOT_CONTAIN="DOES_NOT_CONTAIN",n.EQUALS="EQUALS",n.DOES_NOT_EQUAL="DOES_NOT_EQUAL",n.MORE_THAN="MORE_THAN",n.MORE_OR_EQUAL="MORE_OR_EQUAL",n.LESS_THAN="LESS_THAN",n.LESS_OR_EQUAL="LESS_OR_EQUAL",n.IS_FILLED="IS_FILLED",n.CONTAINS_ONE_OF_VALUES="CONTAINS_ONE_OF_VALUES",n.INTERVAL="INTERVAL",n.EQUALS_DATES_WITHOUT_TIME="EQUALS_DATES_WITHOUT_TIME",n}(pe||{});function ya(n,t){return fe(t)?void 0:t}function io(n){return JSON.parse(JSON.stringify(n,ya))}function no(n){return Object.keys(io(n??{})).length===0}function at(n,t,i=void 0){if((t?.length??0)<1)return n;let e=n,r=t?.split(".")??[],o=0;for(;f(e)&&o<r.length;++o){let s=r?.[o];e=e?.[s]}return e??i}function ro(n){return f(n)&&typeof n[Symbol.iterator]=="function"}function Ln(n,t=null,i=[]){for(let e in n){if(!n.hasOwnProperty(e))continue;let r=n[e],o=typeof r=="object"&&r!==null&&!Array.isArray(r),s=typeof t=="string"?`${t}.${e}`:e;o?Ln(n[e],s,i):i.push(s)}return i}function oo(n,t){let i={};for(let e in n)n.hasOwnProperty(e)&&(i[e]=t(n[e],e));return i}var ni=class{constructor(t=null){this.position={left:null,top:null},this.opened=!1,this.key=null,this.item=null,this.value=null,this.textContent=null,f(t)&&(this.opened=t.opened,this.position=t.position,this.key=t.key,this.item=t.item,this.value=t.value,this.textContent=t.textContent)}};var Je=(()=>{let t=class t{constructor(){this.state=new ni,this.events$=new x}openContextMenu(e,r=null,o=null){return this.state=new ni({key:r,item:o,opened:!0,value:at(o,r)??null,textContent:(e.target??{}).textContent,position:{left:e.clientX,top:e.clientY}}),this.events$.next(),e.stopPropagation(),e.preventDefault(),!1}close(){this.state=new ni,this.events$.next()}};t.\u0275fac=function(r){return new(r||t)},t.\u0275prov=b({token:t,factory:t.\u0275fac});let n=t;return n})();function Bi(n){return(n??[]).length===0}function Bn(n){return!Bi(n)}function so(n){let t=Array.isArray(n)?n:[n];return function(i){return t.includes(i)}}var jt=function(n){return n.ID="id",n}(jt||{});var Dt=function(n){return n.ASC="asc",n.DESC="desc",n}(Dt||{});function Pe(n){return typeof n=="string"}var Ht=(()=>{let t=class t{constructor(){this.workerFunctionToUrlMap=new WeakMap,this.promiseToWorkerMap=new WeakMap}static createWorkerUrl(e){let o=`
            self.addEventListener('message', function(e) {
                postMessage((${e.toString()})(e.data));
            });
        `,s=new Blob([o],{type:"text/javascript"});return URL.createObjectURL(s)}async run(e,r){let o=this.getOrCreateWorkerUrl(e);return this.runUrl(o,r)}async runUrl(e,r){let o=new Worker(e),s=this.createPromiseForWorker(o,r),a=this.createPromiseCleaner(s);return this.promiseToWorkerMap.set(s,o),s.then(a).catch(a),s}async terminate(e){return this.removePromise(e)}getWorker(e){return this.promiseToWorkerMap.get(e)}async createPromiseForWorker(e,r){return new Promise((o,s)=>{e.addEventListener("message",a=>o(a.data)),e.addEventListener("error",s),e.postMessage(r)})}getOrCreateWorkerUrl(e){if(!this.workerFunctionToUrlMap.has(e)){let r=t.createWorkerUrl(e);return this.workerFunctionToUrlMap.set(e,r),r}return this.workerFunctionToUrlMap.get(e)}createPromiseCleaner(e){return r=>(this.removePromise(e),r)}async removePromise(e){let r=this.promiseToWorkerMap.get(e);return f(r)&&r?.terminate(),this.promiseToWorkerMap.delete(e),e}};t.\u0275fac=function(r){return new(r||t)},t.\u0275prov=b({token:t,factory:t.\u0275fac});let n=t;return n})();function lo({source:n,global:t,types:i,columns:e}){let o=new Set(["boolean","number","string"]),{value:s,type:a}=t,l=n;wt(s)&&Kt(a)&&(l=l.filter(m=>c(m,s,a))),e.isEmpty||(l=l.filter(m=>h(m)));function c(m,v,z){let T=on(m);return p(Object.values(T),v,z)}function h(m){for(let v of Object.keys(e.values)){let z=yr(m,v),T=e.values[v],me=e.types[v];if(Dr(z)&&wt(T)&&Kt(me)&&!p(Array.isArray(z)?z:[z],T,me))return!1}return!0}function p(m,v,z){try{switch(z){case i.CONTAINS:return m.map(T=>g(T)).some(S(g(v)));case i.CONTAINS_ONE_OF_VALUES:{let T=String(v).split(",").map(me=>me.trim()).filter(me=>$(me)).map(me=>g(me));return m.map(me=>g(me)).some(oe(T))}case i.DOES_NOT_CONTAIN:return m.map(T=>g(T)).every(se(g(v)));case i.DOES_NOT_EQUAL:return!m.map(T=>g(T)).includes(g(v));case i.END_WITH:return m.map(T=>g(T)).some(_(g(v)));case i.EQUALS:return m.map(T=>g(T)).includes(g(v));case i.EQUALS_DATES_WITHOUT_TIME:return typeof v=="number"||typeof v=="string"||v instanceof Date?m.filter(T=>typeof T=="number"||typeof T=="string").map(T=>D(T).getTime()).includes(D(v).getTime()):!1;case i.INTERVAL:{let T=Array.isArray(v)&&v.length===2?v:[null,null];return m.filter(me=>wt(me)).some(ye(T))}case i.IS_FILLED:return m.map(T=>wt(T)).includes(v);case i.LESS_OR_EQUAL:case i.LESS_THAN:case i.MORE_OR_EQUAL:case i.MORE_THAN:return m.filter(T=>wt(T)).some(Te(v,z));case i.START_WITH:return m.map(T=>g(T)).some(F(g(v)));default:return!0}}catch{return!1}}function D(m){let v=m instanceof Date?m:new Date(m);return v.setHours(0,0,0,0),v}function g(m){return m?.toString().trim().toLocaleLowerCase()??""}function F(m){return v=>v.startsWith(m)}function _(m){return v=>v.endsWith(m)}function S(m){return v=>v.includes(m)}function oe(m){return v=>m.some(z=>v.includes(z))}function se(m){return v=>!v.includes(m)}function $(m){return m.length>0}function ye(m){return v=>m[0]<=v&&v<=m[1]}function Te(m,v){let z=Fe(m);switch(v){case i.LESS_OR_EQUAL:return T=>Number(T)<=z;case i.LESS_THAN:return T=>Number(T)<z;case i.MORE_OR_EQUAL:return T=>Number(T)>=z;case i.MORE_THAN:return T=>Number(T)>z}}function Fe(m){let v=Number(m);if(isNaN(v))throw new Error("Operand is not a number");return v}function on(m,v=[]){let z={};for(let T in m)m.hasOwnProperty(T)&&!v.includes(T)&&br(m,z,T);return z}function yr(m,v){return v.split(".").reduce((z,T)=>z?.[T],m)}function br(m,v,z){if(typeof m[z]=="object"&&m[z]!==null){let me=on(m[z]);for(let Zt in me)me.hasOwnProperty(Zt)&&(v[`${z}.${Zt}`]=me[Zt])}else v[z]=m[z]}function Dr(m){return wr(m)||o.has(typeof m)||Array.isArray(m)&&m.every(v=>o.has(typeof v))}function wt(m){return Kt(m)&&(Array.isArray(m)&&m.length>0||m?.toString().length>0)}function wr(m){return!Kt(m)}function Kt(m){return m!=null}return l}var zt=class{constructor(){this.key=null,this.opened=null,this.position={left:null,top:null}}};var Ke=(()=>{let t=class t{constructor(){this.previousFiltering=!1,this.thread=d(Ht),this.types=pe,this.definition={},this.filterTypeDefinition={},this.filterOpenEvents$=new x,this.events$=new an(Number.POSITIVE_INFINITY),this.resetEvents$=new x,this.state=new zt,this.filterValue=null,this.filterType=null,this.filtering=!1}get globalFilterValue(){return Pe(this.filterValue)?String(this.filterValue).trim():null}get filterValueExist(){let e=Object.values(this.definition).reduce((r,o)=>r+o,"");return(this.globalFilterValue?.length??0)>0||e.length>0}setDefinition(e){this.clearDefinitions();for(let{key:r,value:o,type:s}of e)this.filterTypeDefinition=Le(K({},this.filterTypeDefinition),{[r]:s}),this.definition=Le(K({},this.definition),{[r]:o})}updateFilterTypeBy(e,r){f(r)&&(this.filterTypeDefinition=Le(K({},this.filterTypeDefinition),{[r]:e}))}updateFilterValueBy(e,r){f(r)&&(this.definition=Le(K({},this.definition),{[r]:e}))}reset(){this.clearDefinitions(),this.filterValue=null,this.state=new zt,this.filtering=!1,this.previousFiltering=!1,this.events$.next({value:null,type:null}),this.resetEvents$.next()}changeFilteringStatus(){this.filtering=this.filterValueExist,this.previousFiltering&&!this.filtering&&this.events$.next({value:null,type:null}),this.previousFiltering=this.filtering}openFilter(e,r){this.state={opened:!0,key:e,position:{left:r.clientX,top:r.clientY}},this.filterOpenEvents$.next()}closeFilter(){this.state=new zt,this.filterOpenEvents$.next()}async filter(e){let r=this.filterType,o=Pe(this.globalFilterValue)?String(this.globalFilterValue).trim():null;return new Promise(s=>{let a=this.getFilterableMessage(e);this.thread.run(lo,a).then(l=>{s({source:l,fireSelection:()=>{this.events$.next({value:o,type:r})}})})})}filterOutsideWorker(e){let r=this.getFilterableMessage(e);return lo(r)}getFilterableMessage(e){let r=this.filterType,o=Pe(this.globalFilterValue)?String(this.globalFilterValue).trim():null;return{source:e,types:pe,global:{value:o,type:r},columns:{values:this.definition,types:this.filterTypeDefinition,isEmpty:no(this.definition)}}}clearDefinitions(){this.filterTypeDefinition={},this.definition={}}};t.\u0275fac=function(r){return new(r||t)},t.\u0275prov=b({token:t,factory:t.\u0275fac});let n=t;return n})();var Vn="10px";var mu=["menu"],ji=(()=>{let t=class t{constructor(){this.cd=d(_e),this.menu=Qe("menu"),this.subscription=null,this.app=d(Rt),this.filterable=d(Ke),this.ngZone=d(M),this.contextMenu=d(Je),this.isViewed=!1,this.isRendered=!1,this.isShowed=!1,this.minHeight=null}get left(){return this.state.position?.left??0}get top(){return this.state.position?.top??0}get overflowX(){let e=(this.width()??0)+this.left-(Bt()?.width??0);return e>0?e+12:0}get overflowY(){let e=(Bt()?.height??0)-this.top;return this.calculatedHeight>e?this.calculatedHeight-e+12:0}get calculatedHeight(){let e;try{let r=this.height();f(r)?e=(this.menu()?.nativeElement.scrollHeight??0)>r?this.menu()?.nativeElement.offsetHeight:r:e=this.menu()?.nativeElement.scrollHeight}catch{e=this.height()}return e}ngOnDestroy(){this.subscription?.unsubscribe()}update(){this.isViewed=H(this.state.opened),this.isRendered=!0,B(this.cd),this.ngZone.run(()=>{window.setTimeout(()=>{this.minHeight=this.calculatedHeight,B(this.cd),window.setTimeout(()=>{this.isShowed=!0,B(this.cd)},100)},100)})}};t.\u0275fac=function(r){return new(r||t)},t.\u0275dir=V({type:t,viewQuery:function(r,o){r&1&&Ue(o.menu,mu,5),r&2&&Ne()}});let n=t;return n})();var gu=["*"],_u=(n,t,i,e,r,o,s)=>({"width.px":n,opacity:t,"max-height.px":i,"min-height.px":e,"top.px":r,"left.px":o,visibility:s});function yu(n,t){if(n&1){let i=ne();E(0,"div",3),Q("click",function(r){A(i);let o=y();return P(o.close(r))})("contextmenu",function(r){A(i);let o=y();return P(o.close(r))}),I()}}function bu(n,t){if(n&1){let i=ne();E(0,"div",2)(1,"div",4,0),Q("contextmenu",function(r){A(i);let o=y();return P(o.close(r))}),J(3),I()()}if(n&2){let i=ae(2),e=y();C(),X("ngStyle",pn(1,_u,e.width(),e.isShowed?1:0,e.isRendered?e.maxHeight():0,e.isRendered?e.minHeight:0,(e.state.position.top??0)-e.overflowY,(e.state.position.left??0)-e.overflowX,e.isRendered&&(i!=null&&i.offsetHeight)?"visible":"hidden"))}}var Ca=300,Du=400,Hi=(()=>{let t=class t extends ji{constructor(){super(...arguments),this.destroy$=new x,this.width=u(Ca),this.height=u(Ca),this.maxHeight=u(Du,{alias:"max-height"})}get state(){return this.contextMenu.state}ngOnInit(){this.contextMenu.events$.pipe(Z(this.destroy$)).subscribe(()=>this.update())}ngOnDestroy(){super.ngOnDestroy(),this.destroy$.next(),this.destroy$.complete()}close(e){this.isShowed=!1,B(this.cd),this.ngZone.runOutsideAngular(()=>{window.setTimeout(()=>{this.contextMenu.close(),e.preventDefault()},100)})}};t.\u0275fac=(()=>{let e;return function(o){return(e||(e=ge(t)))(o||t)}})(),t.\u0275cmp=O({type:t,selectors:[["ngx-context-menu"]],inputs:{width:[1,"width"],height:[1,"height"],maxHeight:[1,"max-height","maxHeight"]},features:[ue],ngContentSelectors:gu,decls:2,vars:2,consts:[["menu",""],[1,"table-grid__background-flat"],[1,"table-grid__context-menu"],[1,"table-grid__background-flat",3,"click","contextmenu"],[1,"context-menu",3,"contextmenu","ngStyle"]],template:function(r,o){r&1&&(de(),k(0,yu,1,0,"div",1),k(1,bu,4,9,"div",2)),r&2&&(N(o.state.opened?0:-1),C(),N(o.state.opened?1:-1))},dependencies:[We],styles:[`@keyframes delayedShow{to{visibility:visible}}.table-grid__context-menu .context-menu{display:flex;position:fixed;z-index:100;border:1px solid #dcdcdc;flex-direction:column;visibility:hidden;transition:opacity .3s;min-height:0;max-height:0;overflow:initial;background:#fff;box-shadow:#3c40434d 0 1px 2px,#3c404326 0 1px 3px 1px;box-sizing:border-box;border-radius:4px;opacity:0;font-family:Lucida Grande,sans-serif}.table-grid__context-menu .context-menu__item{margin-top:0;height:48px;line-height:16px;font-size:14px;font-weight:500;display:flex;flex-flow:row;box-sizing:border-box;padding:0 16px 0 23px;align-items:center;justify-content:space-between}.table-grid__context-menu .context-menu__item .content{overflow:hidden;white-space:nowrap;text-overflow:ellipsis;text-align:left}.table-grid__context-menu .context-menu__item .content.align-center{display:flex;justify-content:center;align-content:center}.table-grid__context-menu .context-menu__item:not(.context-menu__title):hover{cursor:pointer;background:#ecf1f7}.table-grid__context-menu .context-menu__item:not(.context-menu__title):hover>ngx-menu-content{color:#1771e6}.table-grid__context-menu .context-menu__item ngx-menu-content:not(.icon-place){overflow:hidden;min-width:35px;text-align:center}.table-grid__context-menu .context-menu__item ngx-menu-content:not(.icon-place):not(.content-phrase){margin:auto auto auto 10px}.table-grid__context-menu .context-menu__item--disable{opacity:.5;pointer-events:none}.table-grid__context-menu .context-menu__item:hover>.context-menu__sub-menu-place>.sub-menu__tree{visibility:visible;transition-delay:.3s;opacity:1}.table-grid__context-menu .context-menu .sub-menu__tree--content{max-height:350px;overflow:auto}.table-grid__context-menu .context-menu__sub-menu-place{margin-left:auto;line-height:15px}.table-grid__context-menu .context-menu__sub-menu-place .sub-menu__tree{opacity:0;visibility:hidden;position:fixed;background:#fff;z-index:100000;border:1px solid #dcdcdc;box-shadow:#3c40434d 0 1px 2px,#3c404326 0 1px 3px 1px;transition:visibility .1s linear,opacity .1s linear}.table-grid__context-menu .context-menu__sub-menu-place .sub-menu__arrow-icon{height:25px;width:25px;margin-right:15px}.table-grid__context-menu .context-menu .context-menu__sub-hidden{display:none}.table-grid__context-menu .context-menu__icon-place{width:25px;margin-right:5px}.table-grid__context-menu .context-menu__icon-place img{max-width:25px;max-height:25px}.table-grid__context-menu .context-menu__title{color:#0000008a}.table-grid__context-menu .context-menu__divider{display:block;margin:0;border-top-width:1px;border-top-style:solid;border-top-color:#0000001f}
`],encapsulation:2,changeDetection:0});let n=t;return n})();var Hn=(()=>{let t=class t{};t.\u0275fac=function(r){return new(r||t)},t.\u0275cmp=O({type:t,selectors:[["ngx-context-menu-divider"]],decls:1,vars:0,consts:[[1,"context-menu__divider"]],template:function(r,o){r&1&&te(0,"div",0)},encapsulation:2,changeDetection:0});let n=t;return n})();var wu=["item"],vu=[[["ngx-menu-content"]],[["ngx-context-menu-item"]]],xu=["ngx-menu-content","ngx-context-menu-item"];function Cu(n,t){n&1&&te(0,"ngx-context-menu-divider")}function Su(n,t){if(n&1){let i=ne();E(0,"div",2,0),Q("click",function(r){A(i);let o=y();return P(o.emitClick(r))})("mouseenter",function(){A(i);let r=ae(7),o=y();return P(o.calculateSubMenuPosition(r))}),J(2),E(3,"div",3),te(4,"img",4),E(5,"div",5)(6,"div",6,1),J(8,1),I()()()(),k(9,Cu,1,0,"ngx-context-menu-divider")}if(n&2){let i=ae(7),e=y();j("context-menu__item--disable",e.disable())("context-menu__title",e.contextTitle()!==null),C(3),j("context-menu__sub-hidden",i.innerHTML.trim().length===0||e.disableSubMenu()!==!1),C(2),be("left",e.offsetX,"px")("top",e.offsetY,"px")("width",e.subMenuWidth(),"px"),C(4),N(e.divider()!==!1?9:-1)}}var Eu=300,Ea=(()=>{let t=class t{constructor(){this.cd=d(_e),this.destroy$=new x,this.taskId=null,this.contextMenu=d(Je),this.ngZone=d(M),this.visible=u(!0),this.contextTitle=u(null),this.disable=u(!1),this.divider=u(!1),this.disableSubMenu=u(!1,{alias:"disable-sub-menu"}),this.subMenuWidth=u(Eu,{alias:"sub-menu-width"}),this.onClick=ie(),this.itemRef=Qe("item"),this.offsetX=null,this.offsetY=null}get state(){return this.contextMenu.state}get clientRect(){return this.itemElement.getBoundingClientRect?.()??{}}get itemElement(){return this.itemRef()?.nativeElement??{}}ngOnInit(){this.contextMenu.events$.pipe(Z(this.destroy$)).subscribe(()=>B(this.cd))}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}calculateSubMenuPosition(e){e.innerHTML.trim().length>0&&(this.offsetX=this.clientRect.left+this.subMenuWidth()-25,this.offsetX-=this.overflowX(),this.offsetY=this.clientRect.top-25,this.offsetY-=this.overflowY(e),this.deferUpdateView())}overflowX(){let e=this.subMenuWidth()+(this.offsetX??0)-(Bt()?.width??0);return e>0?e+12:0}overflowY(e){let r=e.offsetHeight+(this.offsetY??0)-(Bt()?.height??0);return r>0?r+12:0}emitClick(e){xe(this.disable())||(this.deferCloseMenu(),this.onClick.emit({preventDefault:()=>{window.clearTimeout(this.taskId??0)}}),e.stopPropagation())}deferCloseMenu(){this.ngZone.runOutsideAngular(()=>{this.taskId=window.setTimeout(()=>this.contextMenu.close())})}deferUpdateView(){this.ngZone.runOutsideAngular(()=>{window.clearInterval(this.taskId??0),this.taskId=window.setTimeout(()=>B(this.cd))})}};t.\u0275fac=function(r){return new(r||t)},t.\u0275cmp=O({type:t,selectors:[["ngx-context-menu-item"]],viewQuery:function(r,o){r&1&&Ue(o.itemRef,wu,5),r&2&&Ne()},inputs:{visible:[1,"visible"],contextTitle:[1,"contextTitle"],disable:[1,"disable"],divider:[1,"divider"],disableSubMenu:[1,"disable-sub-menu","disableSubMenu"],subMenuWidth:[1,"sub-menu-width","subMenuWidth"]},outputs:{onClick:"onClick"},ngContentSelectors:xu,decls:1,vars:1,consts:[["item",""],["ref",""],[1,"context-menu__item",3,"click","mouseenter"],[1,"context-menu__sub-menu-place"],["alt","arrow","src",'data:image/svg+xml;utf8,<svg height="48" viewBox="0 0 48 48" width="48" xmlns="http://www.w3.org/2000/svg"><path d="M17.17 32.92l9.17-9.17-9.17-9.17 2.83-2.83 12 12-12 12z"/><path d="M0-.25h48v48h-48z" fill="none"/></svg>',1,"sub-menu__arrow-icon"],[1,"sub-menu__tree"],[1,"sub-menu__tree--content"]],template:function(r,o){r&1&&(de(vu),k(0,Su,10,13)),r&2&&N(o.visible()?0:-1)},dependencies:[Hn],encapsulation:2,changeDetection:0});let n=t;return n})();var Tu=["*"];function Iu(n,t){if(n&1&&te(0,"img",1),n&2){let i=y();qt("src",i.icon(),es)}}function Ru(n,t){n&1&&J(0)}var Ta=(()=>{let t=class t{constructor(){this.icon=u(null),this.noMargin=u(null,{alias:"no-margin"}),this.alignCenter=u(null,{alias:"align-center"})}get class(){let e=`${this.noMargin()===null?"":"content-phrase"}`;return this.icon()===null?e:`icon-place ${e}`}};t.\u0275fac=function(r){return new(r||t)},t.\u0275cmp=O({type:t,selectors:[["ngx-menu-content"]],hostVars:2,hostBindings:function(r,o){r&2&&ss(o.class)},inputs:{icon:[1,"icon"],noMargin:[1,"no-margin","noMargin"],alignCenter:[1,"align-center","alignCenter"]},ngContentSelectors:Tu,decls:4,vars:7,consts:[[1,"content"],["alt","img"]],template:function(r,o){if(r&1&&(de(),E(0,"div")(1,"div",0),k(2,Iu,1,1,"img",1)(3,Ru,1,0),I()()),r&2){let s;j("context-menu__content-place",o.icon()===null)("context-menu__icon-place",o.icon()!==null),C(),j("align-center",o.alignCenter()!==null),C(),N(((s=o.icon())==null?null:s.length)>0?2:3)}},encapsulation:2,changeDetection:0});let n=t;return n})();var Au=["*"],zi=(()=>{let t=class t{};t.\u0275fac=function(r){return new(r||t)},t.\u0275cmp=O({type:t,selectors:[["ngx-empty"]],ngContentSelectors:Au,decls:1,vars:0,template:function(r,o){r&1&&(de(),J(0))},encapsulation:2,changeDetection:0});let n=t;return n})();var Pu=gi("fadeInBezier",[yi(":enter",[_t({transform:"scale(0.5)",opacity:0}),_i("1s cubic-bezier(.8, -0.6, 0.2, 1.5)",_t({transform:"scale(1)",opacity:1}))])]);var Ut=gi("fadeInLinear",[Pr("in",_t({transform:"translateX(0)"})),yi("void => *",_i("500ms linear",Fr([_t({opacity:0,offset:0}),_t({opacity:1,offset:1})])))]);var Ui=(()=>{let t=class t{constructor(){this.template=d(Xe),this.type=u(null,{alias:"ngx-filter"})}};t.\u0275fac=function(r){return new(r||t)},t.\u0275dir=V({type:t,selectors:[["ng-template","ngx-filter",""]],inputs:{type:[1,"ngx-filter","type"]}});let n=t;return n})();var Fu=["*"],Mu=(n,t,i,e,r,o)=>({"width.px":n,"min-height.px":t,"max-height.px":i,"top.px":e,"left.px":r,visibility:o});function Ou(n,t){if(n&1){let i=ne();E(0,"div",2),Q("click",function(){A(i);let r=y();return P(r.close())})("contextmenu",function(){A(i);let r=y();return P(r.close())}),I()}}function ku(n,t){if(n&1){let i=ne();E(0,"div",1)(1,"div",3),Q("contextmenu",function(){A(i);let r=y();return P(r.close())}),E(2,"div",4),Q("click",function(){A(i);let r=y();return P(r.closeFilter())}),I(),J(3),I()()}if(n&2){let i=y();C(),X("ngStyle",cs(1,Mu,i.width(),i.height(),i.maxHeight(),(i.state.position==null?null:i.state.position.top)+i.leftX-i.overflowY,(i.state.position==null?null:i.state.position.left)-i.topY-i.overflowX,i.state.position?"visible":"hidden"))}}var Nu=300,Lu=10,Bu=50,$i=(()=>{let t=class t extends ji{constructor(){super(...arguments),this.destroy$=new x,this.width=u(Nu),this.height=u(null),this.maxHeight=u(null,{alias:"max-height"}),this.filter=je(Ui),this.leftX=Lu,this.topY=Bu}get state(){return this.filterable.state}closeFilter(){this.filterable.closeFilter()}close(){this.closeFilter()}ngOnInit(){this.filterable.filterOpenEvents$.pipe(Z(this.destroy$)).subscribe(()=>this.update())}ngOnDestroy(){super.ngOnDestroy(),this.destroy$.next(),this.destroy$.complete()}};t.\u0275fac=(()=>{let e;return function(o){return(e||(e=ge(t)))(o||t)}})(),t.\u0275cmp=O({type:t,selectors:[["ngx-filter"]],contentQueries:function(r,o,s){r&1&&ke(s,o.filter,Ui,5),r&2&&Ne()},inputs:{width:[1,"width"],height:[1,"height"],maxHeight:[1,"max-height","maxHeight"]},features:[ue],ngContentSelectors:Fu,decls:2,vars:2,consts:[[1,"table-grid__background-flat"],[1,"table-grid__filter-menu"],[1,"table-grid__background-flat",3,"click","contextmenu"],[1,"filter-menu",3,"contextmenu","ngStyle"],[1,"table-close__button",3,"click"]],template:function(r,o){r&1&&(de(),k(0,Ou,1,0,"div",0),k(1,ku,4,8,"div",1)),r&2&&(N(o.state.opened?0:-1),C(),N(o.state.opened?1:-1))},dependencies:[We],styles:[`.table-grid__filter-menu .filter-menu{display:flex;position:fixed;background:#fff;z-index:10000;border:1px solid #dcdcdc;box-shadow:1px 1px 2px #9c9c9c;flex-direction:column}.table-grid__filter-menu .filter-menu .table-close__button{top:-10px;right:-10px}
`],encapsulation:2,data:{animation:[Ut]},changeDetection:0});let n=t;return n})();var we={MACRO_TIME:1e3,FILTER_DELAY_TIME:600,TIME_RELOAD:400,COLUMN_RESIZE_MIN_WIDTH:50,FRAME_TIME:66,ROW_HEIGHT:45,TIME_IDLE:200,MIN_BUFFER:10,BUFFER_OFFSET:5,CHANGE_DELAY:400};var Ia=[pe.DOES_NOT_EQUAL,pe.DOES_NOT_CONTAIN,pe.MORE_THAN,pe.LESS_THAN,pe.MORE_OR_EQUAL,pe.LESS_OR_EQUAL];var{TIME_RELOAD:Vu}=we,zn=(()=>{let t=class t{constructor(){this.cd=d(_e),this.sanitizer=d(Li),this.destroy$=new x,this.taskId=null,this.ngZone=d(M),this.filterable=d(Ke),this.text=u(null),this.key=u(null),this.index=u(0),this.html=null,this.founded=!1,this.cd.reattach()}static wrapSelectedHtml(e){return`<span style="background-color: #ffdd2d; color: #000">${e}</span>`}ngOnChanges(e){f(e?.text?.firstChange)&&this.defaultHtmlValue({forceUpdate:!1})}ngOnInit(){this.filterable.events$.pipe(Z(this.destroy$)).subscribe(e=>{f(this.filterable.definition[this.key()])||f(this.filterable.globalFilterValue)?this.changeSelection(e):this.defaultHtmlValue({forceUpdate:!0})})}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}changeSelection(e){this.ngZone.runOutsideAngular(()=>{window.clearInterval(this.taskId??0),this.taskId=window.setTimeout(()=>{f(e.value)||f(this.filterable.definition[this.key()])?this.selected(e):this.defaultHtmlValue({forceUpdate:!1}),B(this.cd)},Vu+(this.index()??0))})}selected(e){let r=String(this.filterable.definition[this.key()]??e.value),o=f(this.filterable.definition[this.key()])?this.filterable.filterTypeDefinition[this.key()]:e.type;if(Ia.includes(o))return;let s,a=r?.replace(/[$()*+.?[\\\]^{|}]/g,String.raw`\$&`);if(o===pe.START_WITH)s=new RegExp(`^${a}`,"i");else if(o===pe.END_WITH)s=new RegExp(`${a}$`,"i");else if(o===pe.EQUALS)s=new RegExp(`^${a}$`,"i");else if(o===pe.CONTAINS_ONE_OF_VALUES){let c=a.split(",").filter(h=>De(h)).map(h=>h.trim());s=new RegExp(`(${c.join("|")})`,"i")}else s=new RegExp(`${a}`,"ig");let l=String(this.text()).replace(s,c=>t.wrapSelectedHtml(c));this.html=this.sanitizer.bypassSecurityTrustHtml(l),l.includes("span")&&(this.founded=!0)}defaultHtmlValue({forceUpdate:e}){this.html=this.text(),this.founded=!1,e&&B(this.cd)}};t.\u0275fac=function(r){return new(r||t)},t.\u0275cmp=O({type:t,selectors:[["ngx-filter-viewer"]],inputs:{text:[1,"text"],key:[1,"key"],index:[1,"index"]},features:[Me],decls:1,vars:3,consts:[[3,"innerHTML"]],template:function(r,o){r&1&&te(0,"span",0),r&2&&(j("filter-founded",o.founded),X("innerHTML",o.html,fn))},encapsulation:2,changeDetection:0});let n=t;return n})();var Gi=(()=>{let t=class t{constructor(){this.height=u(we.ROW_HEIGHT),this.contentCell=u(null,{alias:"content-cell"}),this.alignCenter=u(null,{alias:"align-center"}),this.cssClasses=u([],{alias:"css-class"}),this.bold=u(null)}};t.\u0275fac=function(r){return new(r||t)},t.\u0275dir=V({type:t,inputs:{height:[1,"height"],contentCell:[1,"content-cell","contentCell"],alignCenter:[1,"align-center","alignCenter"],cssClasses:[1,"css-class","cssClasses"],bold:[1,"bold"]}});let n=t;return n})();var ju=["*"],Wi=(()=>{let t=class t extends Gi{};t.\u0275fac=(()=>{let e;return function(o){return(e||(e=ge(t)))(o||t)}})(),t.\u0275cmp=O({type:t,selectors:[["ngx-footer"]],features:[ue],ngContentSelectors:ju,decls:3,vars:10,consts:[[1,"table-grid__table-content-place"]],template:function(r,o){r&1&&(de(),E(0,"div",0)(1,"div"),J(2),I()()),r&2&&(be("height",o.height(),"px"),j("table-grid__table-content-place--align-center",o.alignCenter()!==null)("table-grid__table-content-place--bold",o.bold()!==null)("table-grid__table-content-place--content-cell",o.contentCell()!==null),C(),j("content-box",o.contentCell()!==null))},encapsulation:2,changeDetection:0});let n=t;return n})();var Hu=["*"];function zu(n,t){if(n&1){let i=ne();E(0,"div",2),fi(),E(1,"svg",3),Q("click",function(){A(i);let r=y();return P(r.toggleExpand())}),te(2,"path",4)(3,"path",5),I()()}if(n&2){let i=y();C(),j("table-grid__header-sticky--expand-button--expanded",i.expanded())}}var Ki=(()=>{let t=class t extends Gi{constructor(){super(...arguments),this.expandedChange=ie(),this.expanded=u(!0,{transform:xe}),this.expandablePanel=u(!1,{transform:xe}),this.hideToggle=u(!1,{transform:xe})}toggleExpand(){this.expanded[Be].value=!xe(this.expanded()),this.expandedChange.emit(this.expanded())}};t.\u0275fac=(()=>{let e;return function(o){return(e||(e=ge(t)))(o||t)}})(),t.\u0275cmp=O({type:t,selectors:[["ngx-header"]],inputs:{expanded:[1,"expanded"],expandablePanel:[1,"expandablePanel"],hideToggle:[1,"hideToggle"]},outputs:{expandedChange:"expandedChange"},features:[ue],ngContentSelectors:Hu,decls:4,vars:14,consts:[[1,"table-grid__table-content-place"],[3,"ngClass"],[1,"table-grid__header-sticky--expand-button-wrapper"],["viewBox","0 0 24 24","xmlns","http://www.w3.org/2000/svg",1,"table-grid__header-sticky--expand-button",3,"click"],["d","M0 0h24v24H0V0z","fill","none"],["d","M7.41 8.59 12 13.17l4.59-4.58L18 10l-6 6-6-6 1.41-1.41z"]],template:function(r,o){r&1&&(de(),E(0,"div",0)(1,"div",1),J(2),I(),k(3,zu,4,2,"div",2),I()),r&2&&(be("height",o.height(),"px"),j("table-grid__header-expandable",o.expandablePanel())("table-grid__table-content-place--align-center",o.alignCenter()!==null)("table-grid__table-content-place--bold",o.bold()!==null)("table-grid__table-content-place--content-cell",o.contentCell()!==null),C(),j("content-box",o.contentCell()!==null),X("ngClass",o.cssClasses()),C(2),N(o.expandablePanel()&&!o.hideToggle()?3:-1))},dependencies:[ot],encapsulation:2,changeDetection:0});let n=t;return n})();var Zi=(()=>{let t=class t extends Nt{};t.\u0275fac=(()=>{let e;return function(o){return(e||(e=ge(t)))(o||t)}})(),t.\u0275cmp=O({type:t,selectors:[["ngx-options"]],features:[ue],decls:0,vars:0,template:function(r,o){},encapsulation:2,changeDetection:0});let n=t;return n})();var Uu=["*"],Ra=(()=>{let t=class t{};t.\u0275fac=function(r){return new(r||t)},t.\u0275cmp=O({type:t,selectors:[["ngx-source-null"]],ngContentSelectors:Uu,decls:1,vars:0,template:function(r,o){r&1&&(de(),J(0))},encapsulation:2,changeDetection:0});let n=t;return n})();var co=(()=>{let t=class t{constructor(){this.events$=new x}update(e){this.events$.next(e)}};t.\u0275fac=function(r){return new(r||t)},t.\u0275prov=b({token:t,factory:t.\u0275fac,providedIn:"root"});let n=t;return n})();var uo;function $u(){if(uo==null){let n=typeof document<"u"?document.head:null;uo=!!(n&&(n.createShadowRoot||n.attachShadow))}return uo}function Un(n){if($u()){let t=n.getRootNode?n.getRootNode():null;if(typeof ShadowRoot<"u"&&ShadowRoot&&t instanceof ShadowRoot)return t}return null}function Cv(){let n=typeof document<"u"&&document?document.activeElement:null;for(;n&&n.shadowRoot;){let t=n.shadowRoot.activeElement;if(t===n)break;n=t}return n}function Yi(n){return n.composedPath?n.composedPath()[0]:n.target}function Aa(n){return n.buttons===0||n.detail===0}function Pa(n){let t=n.touches&&n.touches[0]||n.changedTouches&&n.changedTouches[0];return!!t&&t.identifier===-1&&(t.radiusX==null||t.radiusX===1)&&(t.radiusY==null||t.radiusY===1)}function $n(n,t=0){return Gu(n)?Number(n):arguments.length===2?t:0}function Gu(n){return!isNaN(parseFloat(n))&&!isNaN(Number(n))}function et(n){return n instanceof ce?n.nativeElement:n}var Gn=new WeakMap,Fa=(()=>{class n{_appRef;_injector=d(Ve);_environmentInjector=d(hn);load(i){let e=this._appRef=this._appRef||this._injector.get(Rt),r=Gn.get(e);r||(r={loaders:new Set,refs:[]},Gn.set(e,r),e.onDestroy(()=>{Gn.get(e)?.refs.forEach(o=>o.destroy()),Gn.delete(e)})),r.loaders.has(i)||(r.loaders.add(i),r.refs.push(ms(i,{environmentInjector:this._environmentInjector})))}static \u0275fac=function(e){return new(e||n)};static \u0275prov=b({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var ho;try{ho=typeof Intl<"u"&&Intl.v8BreakIterator}catch{ho=!1}var fo=(()=>{class n{_platformId=d(St);isBrowser=this._platformId?Ws(this._platformId):typeof document=="object"&&!!document;EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent);TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent);BLINK=this.isBrowser&&!!(window.chrome||ho)&&typeof CSS<"u"&&!this.EDGE&&!this.TRIDENT;WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT;IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window);FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent);ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT;SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT;constructor(){}static \u0275fac=function(e){return new(e||n)};static \u0275prov=b({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var Wu=new L("cdk-dir-doc",{providedIn:"root",factory:Ku});function Ku(){return d(Y)}var Zu=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;function Ma(n){let t=n?.toLowerCase()||"";return t==="auto"&&typeof navigator<"u"&&navigator?.language?Zu.test(navigator.language)?"rtl":"ltr":t==="rtl"?"rtl":"ltr"}var ri=(()=>{class n{get value(){return this.valueSignal()}valueSignal=ut("ltr");change=new Oe;constructor(){let i=d(Wu,{optional:!0});if(i){let e=i.body?i.body.dir:null,r=i.documentElement?i.documentElement.dir:null;this.valueSignal.set(Ma(e||r||"ltr"))}}ngOnDestroy(){this.change.complete()}static \u0275fac=function(e){return new(e||n)};static \u0275prov=b({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var Ze=function(n){return n[n.NORMAL=0]="NORMAL",n[n.NEGATED=1]="NEGATED",n[n.INVERTED=2]="INVERTED",n}(Ze||{}),Wn,$t;function Oa(){if($t==null){if(typeof document!="object"||!document||typeof Element!="function"||!Element)return $t=!1,$t;if("scrollBehavior"in document.documentElement.style)$t=!0;else{let n=Element.prototype.scrollTo;n?$t=!/\{\s*\[native code\]\s*\}/.test(n.toString()):$t=!1}}return $t}function oi(){if(typeof document!="object"||!document)return Ze.NORMAL;if(Wn==null){let n=document.createElement("div"),t=n.style;n.dir="rtl",t.width="1px",t.overflow="auto",t.visibility="hidden",t.pointerEvents="none",t.position="absolute";let i=document.createElement("div"),e=i.style;e.width="2px",e.height="1px",n.appendChild(i),document.body.appendChild(n),Wn=Ze.NORMAL,n.scrollLeft===0&&(n.scrollLeft=1,Wn=n.scrollLeft===0?Ze.NEGATED:Ze.INVERTED),n.remove()}return Wn}var Yu=20,po=(()=>{class n{_ngZone=d(M);_platform=d(fo);_renderer=d(dt).createRenderer(null,null);_cleanupGlobalListener;constructor(){}_scrolled=new x;_scrolledCount=0;scrollContainers=new Map;register(i){this.scrollContainers.has(i)||this.scrollContainers.set(i,i.elementScrolled().subscribe(()=>this._scrolled.next(i)))}deregister(i){let e=this.scrollContainers.get(i);e&&(e.unsubscribe(),this.scrollContainers.delete(i))}scrolled(i=Yu){return this._platform.isBrowser?new xt(e=>{this._cleanupGlobalListener||(this._cleanupGlobalListener=this._ngZone.runOutsideAngular(()=>this._renderer.listen("document","scroll",()=>this._scrolled.next())));let r=i>0?this._scrolled.pipe(xr(i)).subscribe(e):this._scrolled.subscribe(e);return this._scrolledCount++,()=>{r.unsubscribe(),this._scrolledCount--,this._scrolledCount||(this._cleanupGlobalListener?.(),this._cleanupGlobalListener=void 0)}}):ui()}ngOnDestroy(){this._cleanupGlobalListener?.(),this._cleanupGlobalListener=void 0,this.scrollContainers.forEach((i,e)=>this.deregister(e)),this._scrolled.complete()}ancestorScrolled(i,e){let r=this.getAncestorScrollContainers(i);return this.scrolled(e).pipe(cn(o=>!o||r.indexOf(o)>-1))}getAncestorScrollContainers(i){let e=[];return this.scrollContainers.forEach((r,o)=>{this._scrollableContainsElement(o,i)&&e.push(o)}),e}_scrollableContainsElement(i,e){let r=et(e),o=i.getElementRef().nativeElement;do if(r==o)return!0;while(r=r.parentElement);return!1}static \u0275fac=function(e){return new(e||n)};static \u0275prov=b({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),px=(()=>{class n{elementRef=d(ce);scrollDispatcher=d(po);ngZone=d(M);dir=d(ri,{optional:!0});_scrollElement=this.elementRef.nativeElement;_destroyed=new x;_renderer=d(Xt);_cleanupScroll;_elementScrolled=new x;constructor(){}ngOnInit(){this._cleanupScroll=this.ngZone.runOutsideAngular(()=>this._renderer.listen(this._scrollElement,"scroll",i=>this._elementScrolled.next(i))),this.scrollDispatcher.register(this)}ngOnDestroy(){this._cleanupScroll?.(),this._elementScrolled.complete(),this.scrollDispatcher.deregister(this),this._destroyed.next(),this._destroyed.complete()}elementScrolled(){return this._elementScrolled}getElementRef(){return this.elementRef}scrollTo(i){let e=this.elementRef.nativeElement,r=this.dir&&this.dir.value=="rtl";i.left==null&&(i.left=r?i.end:i.start),i.right==null&&(i.right=r?i.start:i.end),i.bottom!=null&&(i.top=e.scrollHeight-e.clientHeight-i.bottom),r&&oi()!=Ze.NORMAL?(i.left!=null&&(i.right=e.scrollWidth-e.clientWidth-i.left),oi()==Ze.INVERTED?i.left=i.right:oi()==Ze.NEGATED&&(i.left=i.right?-i.right:i.right)):i.right!=null&&(i.left=e.scrollWidth-e.clientWidth-i.right),this._applyScrollToOptions(i)}_applyScrollToOptions(i){let e=this.elementRef.nativeElement;Oa()?e.scrollTo(i):(i.top!=null&&(e.scrollTop=i.top),i.left!=null&&(e.scrollLeft=i.left))}measureScrollOffset(i){let e="left",r="right",o=this.elementRef.nativeElement;if(i=="top")return o.scrollTop;if(i=="bottom")return o.scrollHeight-o.clientHeight-o.scrollTop;let s=this.dir&&this.dir.value=="rtl";return i=="start"?i=s?r:e:i=="end"&&(i=s?e:r),s&&oi()==Ze.INVERTED?i==e?o.scrollWidth-o.clientWidth-o.scrollLeft:o.scrollLeft:s&&oi()==Ze.NEGATED?i==e?o.scrollLeft+o.scrollWidth-o.clientWidth:-o.scrollLeft:i==e?o.scrollLeft:o.scrollWidth-o.clientWidth-o.scrollLeft}static \u0275fac=function(e){return new(e||n)};static \u0275dir=V({type:n,selectors:[["","cdk-scrollable",""],["","cdkScrollable",""]]})}return n})(),Xu=20,ka=(()=>{class n{_platform=d(fo);_listeners;_viewportSize;_change=new x;_document=d(Y,{optional:!0});constructor(){let i=d(M),e=d(dt).createRenderer(null,null);i.runOutsideAngular(()=>{if(this._platform.isBrowser){let r=o=>this._change.next(o);this._listeners=[e.listen("window","resize",r),e.listen("window","orientationchange",r)]}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){this._listeners?.forEach(i=>i()),this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();let i={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),i}getViewportRect(){let i=this.getViewportScrollPosition(),{width:e,height:r}=this.getViewportSize();return{top:i.top,left:i.left,bottom:i.top+r,right:i.left+e,height:r,width:e}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};let i=this._document,e=this._getWindow(),r=i.documentElement,o=r.getBoundingClientRect(),s=-o.top||i.body.scrollTop||e.scrollY||r.scrollTop||0,a=-o.left||i.body.scrollLeft||e.scrollX||r.scrollLeft||0;return{top:s,left:a}}change(i=Xu){return i>0?this._change.pipe(xr(i)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){let i=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:i.innerWidth,height:i.innerHeight}:{width:0,height:0}}static \u0275fac=function(e){return new(e||n)};static \u0275prov=b({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var mo={},Na=(()=>{class n{_appId=d(pi);getId(i){return this._appId!=="ng"&&(i+=this._appId),mo.hasOwnProperty(i)||(mo[i]=0),`${i}${mo[i]++}`}static \u0275fac=function(e){return new(e||n)};static \u0275prov=b({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function La(n){return Array.isArray(n)?n:[n]}function qa(n){let t=n.cloneNode(!0),i=t.querySelectorAll("[id]"),e=n.nodeName.toLowerCase();t.removeAttribute("id");for(let r=0;r<i.length;r++)i[r].removeAttribute("id");return e==="canvas"?ja(n,t):(e==="input"||e==="select"||e==="textarea")&&Va(n,t),Ba("canvas",n,t,ja),Ba("input, textarea, select",n,t,Va),t}function Ba(n,t,i,e){let r=t.querySelectorAll(n);if(r.length){let o=i.querySelectorAll(n);for(let s=0;s<r.length;s++)e(r[s],o[s])}}var Qu=0;function Va(n,t){t.type!=="file"&&(t.value=n.value),t.type==="radio"&&t.name&&(t.name=`mat-clone-${t.name}-${Qu++}`)}function ja(n,t){let i=t.getContext("2d");if(i)try{i.drawImage(n,0,0)}catch{}}function Co(n){let t=n.getBoundingClientRect();return{top:t.top,right:t.right,bottom:t.bottom,left:t.left,width:t.width,height:t.height,x:t.x,y:t.y}}function yo(n,t,i){let{top:e,bottom:r,left:o,right:s}=n;return i>=e&&i<=r&&t>=o&&t<=s}function qu(n,t){let i=t.left<n.left,e=t.left+t.width>n.right,r=t.top<n.top,o=t.top+t.height>n.bottom;return i||e||r||o}function qi(n,t,i){n.top+=t,n.bottom=n.top+n.height,n.left+=i,n.right=n.left+n.width}function Ha(n,t,i,e){let{top:r,right:o,bottom:s,left:a,width:l,height:c}=n,h=l*t,p=c*t;return e>r-p&&e<s+p&&i>a-h&&i<o+h}var Kn=class{_document;positions=new Map;constructor(t){this._document=t}clear(){this.positions.clear()}cache(t){this.clear(),this.positions.set(this._document,{scrollPosition:this.getViewportScrollPosition()}),t.forEach(i=>{this.positions.set(i,{scrollPosition:{top:i.scrollTop,left:i.scrollLeft},clientRect:Co(i)})})}handleScroll(t){let i=Yi(t),e=this.positions.get(i);if(!e)return null;let r=e.scrollPosition,o,s;if(i===this._document){let c=this.getViewportScrollPosition();o=c.top,s=c.left}else o=i.scrollTop,s=i.scrollLeft;let a=r.top-o,l=r.left-s;return this.positions.forEach((c,h)=>{c.clientRect&&i!==h&&i.contains(h)&&qi(c.clientRect,a,l)}),r.top=o,r.left=s,{top:a,left:l}}getViewportScrollPosition(){return{top:window.scrollY,left:window.scrollX}}};function Ja(n,t){let i=n.rootNodes;if(i.length===1&&i[0].nodeType===t.ELEMENT_NODE)return i[0];let e=t.createElement("div");return i.forEach(r=>e.appendChild(r)),e}function So(n,t,i){for(let e in t)if(t.hasOwnProperty(e)){let r=t[e];r?n.setProperty(e,r,i?.has(e)?"important":""):n.removeProperty(e)}return n}function si(n,t){let i=t?"":"none";So(n.style,{"touch-action":t?"":"none","-webkit-user-drag":t?"":"none","-webkit-tap-highlight-color":t?"":"transparent","user-select":i,"-ms-user-select":i,"-webkit-user-select":i,"-moz-user-select":i})}function za(n,t,i){So(n.style,{position:t?"":"fixed",top:t?"":"0",opacity:t?"":"0",left:t?"":"-999em"},i)}function Zn(n,t){return t&&t!="none"?n+" "+t:n}function Ua(n,t){n.style.width=`${t.width}px`,n.style.height=`${t.height}px`,n.style.transform=Ji(t.left,t.top)}function Ji(n,t){return`translate3d(${Math.round(n)}px, ${Math.round(t)}px, 0)`}function $a(n){let t=n.toLowerCase().indexOf("ms")>-1?1:1e3;return parseFloat(n)*t}function Ju(n){let t=getComputedStyle(n),i=go(t,"transition-property"),e=i.find(a=>a==="transform"||a==="all");if(!e)return 0;let r=i.indexOf(e),o=go(t,"transition-duration"),s=go(t,"transition-delay");return $a(o[r])+$a(s[r])}function go(n,t){return n.getPropertyValue(t).split(",").map(e=>e.trim())}var ed=new Set(["position"]),bo=class{_document;_rootElement;_direction;_initialDomRect;_previewTemplate;_previewClass;_pickupPositionOnPage;_initialTransform;_zIndex;_renderer;_previewEmbeddedView;_preview;get element(){return this._preview}constructor(t,i,e,r,o,s,a,l,c,h){this._document=t,this._rootElement=i,this._direction=e,this._initialDomRect=r,this._previewTemplate=o,this._previewClass=s,this._pickupPositionOnPage=a,this._initialTransform=l,this._zIndex=c,this._renderer=h}attach(t){this._preview=this._createPreview(),t.appendChild(this._preview),Ga(this._preview)&&this._preview.showPopover()}destroy(){this._preview.remove(),this._previewEmbeddedView?.destroy(),this._preview=this._previewEmbeddedView=null}setTransform(t){this._preview.style.transform=t}getBoundingClientRect(){return this._preview.getBoundingClientRect()}addClass(t){this._preview.classList.add(t)}getTransitionDuration(){return Ju(this._preview)}addEventListener(t,i){return this._renderer.listen(this._preview,t,i)}_createPreview(){let t=this._previewTemplate,i=this._previewClass,e=t?t.template:null,r;if(e&&t){let o=t.matchSize?this._initialDomRect:null,s=t.viewContainer.createEmbeddedView(e,t.context);s.detectChanges(),r=Ja(s,this._document),this._previewEmbeddedView=s,t.matchSize?Ua(r,o):r.style.transform=Ji(this._pickupPositionOnPage.x,this._pickupPositionOnPage.y)}else r=qa(this._rootElement),Ua(r,this._initialDomRect),this._initialTransform&&(r.style.transform=this._initialTransform);return So(r.style,{"pointer-events":"none",margin:Ga(r)?"0 auto 0 0":"0",position:"fixed",top:"0",left:"0","z-index":this._zIndex+""},ed),si(r,!1),r.classList.add("cdk-drag-preview"),r.setAttribute("popover","manual"),r.setAttribute("dir",this._direction),i&&(Array.isArray(i)?i.forEach(o=>r.classList.add(o)):r.classList.add(i)),r}};function Ga(n){return"showPopover"in n}var td={passive:!0},Wa={passive:!1},id={passive:!1,capture:!0},nd=800,Ka=new Set(["position"]),Do=class{_config;_document;_ngZone;_viewportRuler;_dragDropRegistry;_renderer;_rootElementCleanups;_cleanupShadowRootSelectStart;_preview;_previewContainer;_placeholderRef;_placeholder;_pickupPositionInElement;_pickupPositionOnPage;_anchor;_passiveTransform={x:0,y:0};_activeTransform={x:0,y:0};_initialTransform;_hasStartedDragging=ut(!1);_hasMoved;_initialContainer;_initialIndex;_parentPositions;_moveEvents=new x;_pointerDirectionDelta;_pointerPositionAtLastDirectionChange;_lastKnownPointerPosition;_rootElement;_ownerSVGElement;_rootElementTapHighlight;_pointerMoveSubscription=vt.EMPTY;_pointerUpSubscription=vt.EMPTY;_scrollSubscription=vt.EMPTY;_resizeSubscription=vt.EMPTY;_lastTouchEventTime;_dragStartTime;_boundaryElement=null;_nativeInteractionsEnabled=!0;_initialDomRect;_previewRect;_boundaryRect;_previewTemplate;_placeholderTemplate;_handles=[];_disabledHandles=new Set;_dropContainer;_direction="ltr";_parentDragRef;_cachedShadowRoot;lockAxis;dragStartDelay=0;previewClass;scale=1;get disabled(){return this._disabled||!!(this._dropContainer&&this._dropContainer.disabled)}set disabled(t){t!==this._disabled&&(this._disabled=t,this._toggleNativeDragInteractions(),this._handles.forEach(i=>si(i,t)))}_disabled=!1;beforeStarted=new x;started=new x;released=new x;ended=new x;entered=new x;exited=new x;dropped=new x;moved=this._moveEvents;data;constrainPosition;constructor(t,i,e,r,o,s,a){this._config=i,this._document=e,this._ngZone=r,this._viewportRuler=o,this._dragDropRegistry=s,this._renderer=a,this.withRootElement(t).withParent(i.parentDragRef||null),this._parentPositions=new Kn(e),s.registerDragItem(this)}getPlaceholderElement(){return this._placeholder}getRootElement(){return this._rootElement}getVisibleElement(){return this.isDragging()?this.getPlaceholderElement():this.getRootElement()}withHandles(t){this._handles=t.map(e=>et(e)),this._handles.forEach(e=>si(e,this.disabled)),this._toggleNativeDragInteractions();let i=new Set;return this._disabledHandles.forEach(e=>{this._handles.indexOf(e)>-1&&i.add(e)}),this._disabledHandles=i,this}withPreviewTemplate(t){return this._previewTemplate=t,this}withPlaceholderTemplate(t){return this._placeholderTemplate=t,this}withRootElement(t){let i=et(t);if(i!==this._rootElement){this._removeRootElementListeners();let e=this._renderer;this._rootElementCleanups=this._ngZone.runOutsideAngular(()=>[e.listen(i,"mousedown",this._pointerDown,Wa),e.listen(i,"touchstart",this._pointerDown,td),e.listen(i,"dragstart",this._nativeDragStart,Wa)]),this._initialTransform=void 0,this._rootElement=i}return typeof SVGElement<"u"&&this._rootElement instanceof SVGElement&&(this._ownerSVGElement=this._rootElement.ownerSVGElement),this}withBoundaryElement(t){return this._boundaryElement=t?et(t):null,this._resizeSubscription.unsubscribe(),t&&(this._resizeSubscription=this._viewportRuler.change(10).subscribe(()=>this._containInsideBoundaryOnResize())),this}withParent(t){return this._parentDragRef=t,this}dispose(){this._removeRootElementListeners(),this.isDragging()&&this._rootElement?.remove(),this._anchor?.remove(),this._destroyPreview(),this._destroyPlaceholder(),this._dragDropRegistry.removeDragItem(this),this._removeListeners(),this.beforeStarted.complete(),this.started.complete(),this.released.complete(),this.ended.complete(),this.entered.complete(),this.exited.complete(),this.dropped.complete(),this._moveEvents.complete(),this._handles=[],this._disabledHandles.clear(),this._dropContainer=void 0,this._resizeSubscription.unsubscribe(),this._parentPositions.clear(),this._boundaryElement=this._rootElement=this._ownerSVGElement=this._placeholderTemplate=this._previewTemplate=this._anchor=this._parentDragRef=null}isDragging(){return this._hasStartedDragging()&&this._dragDropRegistry.isDragging(this)}reset(){this._rootElement.style.transform=this._initialTransform||"",this._activeTransform={x:0,y:0},this._passiveTransform={x:0,y:0}}resetToBoundary(){if(this._boundaryElement&&this._rootElement&&qu(this._boundaryElement.getBoundingClientRect(),this._rootElement.getBoundingClientRect())){let t=this._boundaryElement.getBoundingClientRect(),i=this._rootElement.getBoundingClientRect(),e=0,r=0;i.left<t.left?e=t.left-i.left:i.right>t.right&&(e=t.right-i.right),i.top<t.top?r=t.top-i.top:i.bottom>t.bottom&&(r=t.bottom-i.bottom);let o=this._activeTransform.x,s=this._activeTransform.y,a=o+e,l=s+r;this._rootElement.style.transform=Ji(a,l),this._activeTransform={x:a,y:l},this._passiveTransform={x:a,y:l}}}disableHandle(t){!this._disabledHandles.has(t)&&this._handles.indexOf(t)>-1&&(this._disabledHandles.add(t),si(t,!0))}enableHandle(t){this._disabledHandles.has(t)&&(this._disabledHandles.delete(t),si(t,this.disabled))}withDirection(t){return this._direction=t,this}_withDropContainer(t){this._dropContainer=t}getFreeDragPosition(){let t=this.isDragging()?this._activeTransform:this._passiveTransform;return{x:t.x,y:t.y}}setFreeDragPosition(t){return this._activeTransform={x:0,y:0},this._passiveTransform.x=t.x,this._passiveTransform.y=t.y,this._dropContainer||this._applyRootElementTransform(t.x,t.y),this}withPreviewContainer(t){return this._previewContainer=t,this}_sortFromLastPointerPosition(){let t=this._lastKnownPointerPosition;t&&this._dropContainer&&this._updateActiveDropContainer(this._getConstrainedPointerPosition(t),t)}_removeListeners(){this._pointerMoveSubscription.unsubscribe(),this._pointerUpSubscription.unsubscribe(),this._scrollSubscription.unsubscribe(),this._cleanupShadowRootSelectStart?.(),this._cleanupShadowRootSelectStart=void 0}_destroyPreview(){this._preview?.destroy(),this._preview=null}_destroyPlaceholder(){this._placeholder?.remove(),this._placeholderRef?.destroy(),this._placeholder=this._placeholderRef=null}_pointerDown=t=>{if(this.beforeStarted.next(),this._handles.length){let i=this._getTargetHandle(t);i&&!this._disabledHandles.has(i)&&!this.disabled&&this._initializeDragSequence(i,t)}else this.disabled||this._initializeDragSequence(this._rootElement,t)};_pointerMove=t=>{let i=this._getPointerPositionOnPage(t);if(!this._hasStartedDragging()){let r=Math.abs(i.x-this._pickupPositionOnPage.x),o=Math.abs(i.y-this._pickupPositionOnPage.y);if(r+o>=this._config.dragStartThreshold){let a=Date.now()>=this._dragStartTime+this._getDragStartDelay(t),l=this._dropContainer;if(!a){this._endDragSequence(t);return}(!l||!l.isDragging()&&!l.isReceiving())&&(t.cancelable&&t.preventDefault(),this._hasStartedDragging.set(!0),this._ngZone.run(()=>this._startDragSequence(t)))}return}t.cancelable&&t.preventDefault();let e=this._getConstrainedPointerPosition(i);if(this._hasMoved=!0,this._lastKnownPointerPosition=i,this._updatePointerDirectionDelta(e),this._dropContainer)this._updateActiveDropContainer(e,i);else{let r=this.constrainPosition?this._initialDomRect:this._pickupPositionOnPage,o=this._activeTransform;o.x=e.x-r.x+this._passiveTransform.x,o.y=e.y-r.y+this._passiveTransform.y,this._applyRootElementTransform(o.x,o.y)}this._moveEvents.observers.length&&this._ngZone.run(()=>{this._moveEvents.next({source:this,pointerPosition:e,event:t,distance:this._getDragDistance(e),delta:this._pointerDirectionDelta})})};_pointerUp=t=>{this._endDragSequence(t)};_endDragSequence(t){if(this._dragDropRegistry.isDragging(this)&&(this._removeListeners(),this._dragDropRegistry.stopDragging(this),this._toggleNativeDragInteractions(),this._handles&&(this._rootElement.style.webkitTapHighlightColor=this._rootElementTapHighlight),!!this._hasStartedDragging()))if(this.released.next({source:this,event:t}),this._dropContainer)this._dropContainer._stopScrolling(),this._animatePreviewToPlaceholder().then(()=>{this._cleanupDragArtifacts(t),this._cleanupCachedDimensions(),this._dragDropRegistry.stopDragging(this)});else{this._passiveTransform.x=this._activeTransform.x;let i=this._getPointerPositionOnPage(t);this._passiveTransform.y=this._activeTransform.y,this._ngZone.run(()=>{this.ended.next({source:this,distance:this._getDragDistance(i),dropPoint:i,event:t})}),this._cleanupCachedDimensions(),this._dragDropRegistry.stopDragging(this)}}_startDragSequence(t){Xi(t)&&(this._lastTouchEventTime=Date.now()),this._toggleNativeDragInteractions();let i=this._getShadowRoot(),e=this._dropContainer;if(i&&this._ngZone.runOutsideAngular(()=>{this._cleanupShadowRootSelectStart=this._renderer.listen(i,"selectstart",rd,id)}),e){let r=this._rootElement,o=r.parentNode,s=this._placeholder=this._createPlaceholderElement(),a=this._anchor=this._anchor||this._document.createComment("");o.insertBefore(a,r),this._initialTransform=r.style.transform||"",this._preview=new bo(this._document,this._rootElement,this._direction,this._initialDomRect,this._previewTemplate||null,this.previewClass||null,this._pickupPositionOnPage,this._initialTransform,this._config.zIndex||1e3,this._renderer),this._preview.attach(this._getPreviewInsertionPoint(o,i)),za(r,!1,Ka),this._document.body.appendChild(o.replaceChild(s,r)),this.started.next({source:this,event:t}),e.start(),this._initialContainer=e,this._initialIndex=e.getItemIndex(this)}else this.started.next({source:this,event:t}),this._initialContainer=this._initialIndex=void 0;this._parentPositions.cache(e?e.getScrollableParents():[])}_initializeDragSequence(t,i){this._parentDragRef&&i.stopPropagation();let e=this.isDragging(),r=Xi(i),o=!r&&i.button!==0,s=this._rootElement,a=Yi(i),l=!r&&this._lastTouchEventTime&&this._lastTouchEventTime+nd>Date.now(),c=r?Pa(i):Aa(i);if(a&&a.draggable&&i.type==="mousedown"&&i.preventDefault(),e||o||l||c)return;if(this._handles.length){let D=s.style;this._rootElementTapHighlight=D.webkitTapHighlightColor||"",D.webkitTapHighlightColor="transparent"}this._hasMoved=!1,this._hasStartedDragging.set(this._hasMoved),this._removeListeners(),this._initialDomRect=this._rootElement.getBoundingClientRect(),this._pointerMoveSubscription=this._dragDropRegistry.pointerMove.subscribe(this._pointerMove),this._pointerUpSubscription=this._dragDropRegistry.pointerUp.subscribe(this._pointerUp),this._scrollSubscription=this._dragDropRegistry.scrolled(this._getShadowRoot()).subscribe(D=>this._updateOnScroll(D)),this._boundaryElement&&(this._boundaryRect=Co(this._boundaryElement));let h=this._previewTemplate;this._pickupPositionInElement=h&&h.template&&!h.matchSize?{x:0,y:0}:this._getPointerPositionInElement(this._initialDomRect,t,i);let p=this._pickupPositionOnPage=this._lastKnownPointerPosition=this._getPointerPositionOnPage(i);this._pointerDirectionDelta={x:0,y:0},this._pointerPositionAtLastDirectionChange={x:p.x,y:p.y},this._dragStartTime=Date.now(),this._dragDropRegistry.startDragging(this,i)}_cleanupDragArtifacts(t){za(this._rootElement,!0,Ka),this._anchor.parentNode.replaceChild(this._rootElement,this._anchor),this._destroyPreview(),this._destroyPlaceholder(),this._initialDomRect=this._boundaryRect=this._previewRect=this._initialTransform=void 0,this._ngZone.run(()=>{let i=this._dropContainer,e=i.getItemIndex(this),r=this._getPointerPositionOnPage(t),o=this._getDragDistance(r),s=i._isOverContainer(r.x,r.y);this.ended.next({source:this,distance:o,dropPoint:r,event:t}),this.dropped.next({item:this,currentIndex:e,previousIndex:this._initialIndex,container:i,previousContainer:this._initialContainer,isPointerOverContainer:s,distance:o,dropPoint:r,event:t}),i.drop(this,e,this._initialIndex,this._initialContainer,s,o,r,t),this._dropContainer=this._initialContainer})}_updateActiveDropContainer({x:t,y:i},{x:e,y:r}){let o=this._initialContainer._getSiblingContainerFromPosition(this,t,i);!o&&this._dropContainer!==this._initialContainer&&this._initialContainer._isOverContainer(t,i)&&(o=this._initialContainer),o&&o!==this._dropContainer&&this._ngZone.run(()=>{this.exited.next({item:this,container:this._dropContainer}),this._dropContainer.exit(this),this._dropContainer=o,this._dropContainer.enter(this,t,i,o===this._initialContainer&&o.sortingDisabled?this._initialIndex:void 0),this.entered.next({item:this,container:o,currentIndex:o.getItemIndex(this)})}),this.isDragging()&&(this._dropContainer._startScrollingIfNecessary(e,r),this._dropContainer._sortItem(this,t,i,this._pointerDirectionDelta),this.constrainPosition?this._applyPreviewTransform(t,i):this._applyPreviewTransform(t-this._pickupPositionInElement.x,i-this._pickupPositionInElement.y))}_animatePreviewToPlaceholder(){if(!this._hasMoved)return Promise.resolve();let t=this._placeholder.getBoundingClientRect();this._preview.addClass("cdk-drag-animating"),this._applyPreviewTransform(t.left,t.top);let i=this._preview.getTransitionDuration();return i===0?Promise.resolve():this._ngZone.runOutsideAngular(()=>new Promise(e=>{let r=a=>{(!a||this._preview&&Yi(a)===this._preview.element&&a.propertyName==="transform")&&(s(),e(),clearTimeout(o))},o=setTimeout(r,i*1.5),s=this._preview.addEventListener("transitionend",r)}))}_createPlaceholderElement(){let t=this._placeholderTemplate,i=t?t.template:null,e;return i?(this._placeholderRef=t.viewContainer.createEmbeddedView(i,t.context),this._placeholderRef.detectChanges(),e=Ja(this._placeholderRef,this._document)):e=qa(this._rootElement),e.style.pointerEvents="none",e.classList.add("cdk-drag-placeholder"),e}_getPointerPositionInElement(t,i,e){let r=i===this._rootElement?null:i,o=r?r.getBoundingClientRect():t,s=Xi(e)?e.targetTouches[0]:e,a=this._getViewportScrollPosition(),l=s.pageX-o.left-a.left,c=s.pageY-o.top-a.top;return{x:o.left-t.left+l,y:o.top-t.top+c}}_getPointerPositionOnPage(t){let i=this._getViewportScrollPosition(),e=Xi(t)?t.touches[0]||t.changedTouches[0]||{pageX:0,pageY:0}:t,r=e.pageX-i.left,o=e.pageY-i.top;if(this._ownerSVGElement){let s=this._ownerSVGElement.getScreenCTM();if(s){let a=this._ownerSVGElement.createSVGPoint();return a.x=r,a.y=o,a.matrixTransform(s.inverse())}}return{x:r,y:o}}_getConstrainedPointerPosition(t){let i=this._dropContainer?this._dropContainer.lockAxis:null,{x:e,y:r}=this.constrainPosition?this.constrainPosition(t,this,this._initialDomRect,this._pickupPositionInElement):t;if(this.lockAxis==="x"||i==="x"?r=this._pickupPositionOnPage.y-(this.constrainPosition?this._pickupPositionInElement.y:0):(this.lockAxis==="y"||i==="y")&&(e=this._pickupPositionOnPage.x-(this.constrainPosition?this._pickupPositionInElement.x:0)),this._boundaryRect){let{x:o,y:s}=this.constrainPosition?{x:0,y:0}:this._pickupPositionInElement,a=this._boundaryRect,{width:l,height:c}=this._getPreviewRect(),h=a.top+s,p=a.bottom-(c-s),D=a.left+o,g=a.right-(l-o);e=Za(e,D,g),r=Za(r,h,p)}return{x:e,y:r}}_updatePointerDirectionDelta(t){let{x:i,y:e}=t,r=this._pointerDirectionDelta,o=this._pointerPositionAtLastDirectionChange,s=Math.abs(i-o.x),a=Math.abs(e-o.y);return s>this._config.pointerDirectionChangeThreshold&&(r.x=i>o.x?1:-1,o.x=i),a>this._config.pointerDirectionChangeThreshold&&(r.y=e>o.y?1:-1,o.y=e),r}_toggleNativeDragInteractions(){if(!this._rootElement||!this._handles)return;let t=this._handles.length>0||!this.isDragging();t!==this._nativeInteractionsEnabled&&(this._nativeInteractionsEnabled=t,si(this._rootElement,t))}_removeRootElementListeners(){this._rootElementCleanups?.forEach(t=>t()),this._rootElementCleanups=void 0}_applyRootElementTransform(t,i){let e=1/this.scale,r=Ji(t*e,i*e),o=this._rootElement.style;this._initialTransform==null&&(this._initialTransform=o.transform&&o.transform!="none"?o.transform:""),o.transform=Zn(r,this._initialTransform)}_applyPreviewTransform(t,i){let e=this._previewTemplate?.template?void 0:this._initialTransform,r=Ji(t,i);this._preview.setTransform(Zn(r,e))}_getDragDistance(t){let i=this._pickupPositionOnPage;return i?{x:t.x-i.x,y:t.y-i.y}:{x:0,y:0}}_cleanupCachedDimensions(){this._boundaryRect=this._previewRect=void 0,this._parentPositions.clear()}_containInsideBoundaryOnResize(){let{x:t,y:i}=this._passiveTransform;if(t===0&&i===0||this.isDragging()||!this._boundaryElement)return;let e=this._rootElement.getBoundingClientRect(),r=this._boundaryElement.getBoundingClientRect();if(r.width===0&&r.height===0||e.width===0&&e.height===0)return;let o=r.left-e.left,s=e.right-r.right,a=r.top-e.top,l=e.bottom-r.bottom;r.width>e.width?(o>0&&(t+=o),s>0&&(t-=s)):t=0,r.height>e.height?(a>0&&(i+=a),l>0&&(i-=l)):i=0,(t!==this._passiveTransform.x||i!==this._passiveTransform.y)&&this.setFreeDragPosition({y:i,x:t})}_getDragStartDelay(t){let i=this.dragStartDelay;return typeof i=="number"?i:Xi(t)?i.touch:i?i.mouse:0}_updateOnScroll(t){let i=this._parentPositions.handleScroll(t);if(i){let e=Yi(t);this._boundaryRect&&e!==this._boundaryElement&&e.contains(this._boundaryElement)&&qi(this._boundaryRect,i.top,i.left),this._pickupPositionOnPage.x+=i.left,this._pickupPositionOnPage.y+=i.top,this._dropContainer||(this._activeTransform.x-=i.left,this._activeTransform.y-=i.top,this._applyRootElementTransform(this._activeTransform.x,this._activeTransform.y))}}_getViewportScrollPosition(){return this._parentPositions.positions.get(this._document)?.scrollPosition||this._parentPositions.getViewportScrollPosition()}_getShadowRoot(){return this._cachedShadowRoot===void 0&&(this._cachedShadowRoot=Un(this._rootElement)),this._cachedShadowRoot}_getPreviewInsertionPoint(t,i){let e=this._previewContainer||"global";if(e==="parent")return t;if(e==="global"){let r=this._document;return i||r.fullscreenElement||r.webkitFullscreenElement||r.mozFullScreenElement||r.msFullscreenElement||r.body}return et(e)}_getPreviewRect(){return(!this._previewRect||!this._previewRect.width&&!this._previewRect.height)&&(this._previewRect=this._preview?this._preview.getBoundingClientRect():this._initialDomRect),this._previewRect}_nativeDragStart=t=>{if(this._handles.length){let i=this._getTargetHandle(t);i&&!this._disabledHandles.has(i)&&!this.disabled&&t.preventDefault()}else this.disabled||t.preventDefault()};_getTargetHandle(t){return this._handles.find(i=>t.target&&(t.target===i||i.contains(t.target)))}};function Za(n,t,i){return Math.max(t,Math.min(i,n))}function Xi(n){return n.type[0]==="t"}function rd(n){n.preventDefault()}function Xn(n,t,i){let e=Ya(t,n.length-1),r=Ya(i,n.length-1);if(e===r)return;let o=n[e],s=r<e?-1:1;for(let a=e;a!==r;a+=s)n[a]=n[a+s];n[r]=o}function Ya(n,t){return Math.max(0,Math.min(t,n))}var Yn=class{_dragDropRegistry;_element;_sortPredicate;_itemPositions=[];_activeDraggables;orientation="vertical";direction;constructor(t){this._dragDropRegistry=t}_previousSwap={drag:null,delta:0,overlaps:!1};start(t){this.withItems(t)}sort(t,i,e,r){let o=this._itemPositions,s=this._getItemIndexFromPointerPosition(t,i,e,r);if(s===-1&&o.length>0)return null;let a=this.orientation==="horizontal",l=o.findIndex(S=>S.drag===t),c=o[s],h=o[l].clientRect,p=c.clientRect,D=l>s?1:-1,g=this._getItemOffsetPx(h,p,D),F=this._getSiblingOffsetPx(l,o,D),_=o.slice();return Xn(o,l,s),o.forEach((S,oe)=>{if(_[oe]===S)return;let se=S.drag===t,$=se?g:F,ye=se?t.getPlaceholderElement():S.drag.getRootElement();S.offset+=$;let Te=Math.round(S.offset*(1/S.drag.scale));a?(ye.style.transform=Zn(`translate3d(${Te}px, 0, 0)`,S.initialTransform),qi(S.clientRect,0,$)):(ye.style.transform=Zn(`translate3d(0, ${Te}px, 0)`,S.initialTransform),qi(S.clientRect,$,0))}),this._previousSwap.overlaps=yo(p,i,e),this._previousSwap.drag=c.drag,this._previousSwap.delta=a?r.x:r.y,{previousIndex:l,currentIndex:s}}enter(t,i,e,r){let o=r==null||r<0?this._getItemIndexFromPointerPosition(t,i,e):r,s=this._activeDraggables,a=s.indexOf(t),l=t.getPlaceholderElement(),c=s[o];if(c===t&&(c=s[o+1]),!c&&(o==null||o===-1||o<s.length-1)&&this._shouldEnterAsFirstChild(i,e)&&(c=s[0]),a>-1&&s.splice(a,1),c&&!this._dragDropRegistry.isDragging(c)){let h=c.getRootElement();h.parentElement.insertBefore(l,h),s.splice(o,0,t)}else this._element.appendChild(l),s.push(t);l.style.transform="",this._cacheItemPositions()}withItems(t){this._activeDraggables=t.slice(),this._cacheItemPositions()}withSortPredicate(t){this._sortPredicate=t}reset(){this._activeDraggables?.forEach(t=>{let i=t.getRootElement();if(i){let e=this._itemPositions.find(r=>r.drag===t)?.initialTransform;i.style.transform=e||""}}),this._itemPositions=[],this._activeDraggables=[],this._previousSwap.drag=null,this._previousSwap.delta=0,this._previousSwap.overlaps=!1}getActiveItemsSnapshot(){return this._activeDraggables}getItemIndex(t){return(this.orientation==="horizontal"&&this.direction==="rtl"?this._itemPositions.slice().reverse():this._itemPositions).findIndex(e=>e.drag===t)}updateOnScroll(t,i){this._itemPositions.forEach(({clientRect:e})=>{qi(e,t,i)}),this._itemPositions.forEach(({drag:e})=>{this._dragDropRegistry.isDragging(e)&&e._sortFromLastPointerPosition()})}withElementContainer(t){this._element=t}_cacheItemPositions(){let t=this.orientation==="horizontal";this._itemPositions=this._activeDraggables.map(i=>{let e=i.getVisibleElement();return{drag:i,offset:0,initialTransform:e.style.transform||"",clientRect:Co(e)}}).sort((i,e)=>t?i.clientRect.left-e.clientRect.left:i.clientRect.top-e.clientRect.top)}_getItemOffsetPx(t,i,e){let r=this.orientation==="horizontal",o=r?i.left-t.left:i.top-t.top;return e===-1&&(o+=r?i.width-t.width:i.height-t.height),o}_getSiblingOffsetPx(t,i,e){let r=this.orientation==="horizontal",o=i[t].clientRect,s=i[t+e*-1],a=o[r?"width":"height"]*e;if(s){let l=r?"left":"top",c=r?"right":"bottom";e===-1?a-=s.clientRect[l]-o[c]:a+=o[l]-s.clientRect[c]}return a}_shouldEnterAsFirstChild(t,i){if(!this._activeDraggables.length)return!1;let e=this._itemPositions,r=this.orientation==="horizontal";if(e[0].drag!==this._activeDraggables[0]){let s=e[e.length-1].clientRect;return r?t>=s.right:i>=s.bottom}else{let s=e[0].clientRect;return r?t<=s.left:i<=s.top}}_getItemIndexFromPointerPosition(t,i,e,r){let o=this.orientation==="horizontal",s=this._itemPositions.findIndex(({drag:a,clientRect:l})=>{if(a===t)return!1;if(r){let c=o?r.x:r.y;if(a===this._previousSwap.drag&&this._previousSwap.overlaps&&c===this._previousSwap.delta)return!1}return o?i>=Math.floor(l.left)&&i<Math.floor(l.right):e>=Math.floor(l.top)&&e<Math.floor(l.bottom)});return s===-1||!this._sortPredicate(s,t)?-1:s}},wo=class{_document;_dragDropRegistry;_element;_sortPredicate;_rootNode;_activeItems;_previousSwap={drag:null,deltaX:0,deltaY:0,overlaps:!1};_relatedNodes=[];constructor(t,i){this._document=t,this._dragDropRegistry=i}start(t){let i=this._element.childNodes;this._relatedNodes=[];for(let e=0;e<i.length;e++){let r=i[e];this._relatedNodes.push([r,r.nextSibling])}this.withItems(t)}sort(t,i,e,r){let o=this._getItemIndexFromPointerPosition(t,i,e),s=this._previousSwap;if(o===-1||this._activeItems[o]===t)return null;let a=this._activeItems[o];if(s.drag===a&&s.overlaps&&s.deltaX===r.x&&s.deltaY===r.y)return null;let l=this.getItemIndex(t),c=t.getPlaceholderElement(),h=a.getRootElement();o>l?h.after(c):h.before(c),Xn(this._activeItems,l,o);let p=this._getRootNode().elementFromPoint(i,e);return s.deltaX=r.x,s.deltaY=r.y,s.drag=a,s.overlaps=h===p||h.contains(p),{previousIndex:l,currentIndex:o}}enter(t,i,e,r){let o=r==null||r<0?this._getItemIndexFromPointerPosition(t,i,e):r;o===-1&&(o=this._getClosestItemIndexToPointer(t,i,e));let s=this._activeItems[o],a=this._activeItems.indexOf(t);a>-1&&this._activeItems.splice(a,1),s&&!this._dragDropRegistry.isDragging(s)?(this._activeItems.splice(o,0,t),s.getRootElement().before(t.getPlaceholderElement())):(this._activeItems.push(t),this._element.appendChild(t.getPlaceholderElement()))}withItems(t){this._activeItems=t.slice()}withSortPredicate(t){this._sortPredicate=t}reset(){let t=this._element,i=this._previousSwap;for(let e=this._relatedNodes.length-1;e>-1;e--){let[r,o]=this._relatedNodes[e];r.parentNode===t&&r.nextSibling!==o&&(o===null?t.appendChild(r):o.parentNode===t&&t.insertBefore(r,o))}this._relatedNodes=[],this._activeItems=[],i.drag=null,i.deltaX=i.deltaY=0,i.overlaps=!1}getActiveItemsSnapshot(){return this._activeItems}getItemIndex(t){return this._activeItems.indexOf(t)}updateOnScroll(){this._activeItems.forEach(t=>{this._dragDropRegistry.isDragging(t)&&t._sortFromLastPointerPosition()})}withElementContainer(t){t!==this._element&&(this._element=t,this._rootNode=void 0)}_getItemIndexFromPointerPosition(t,i,e){let r=this._getRootNode().elementFromPoint(Math.floor(i),Math.floor(e)),o=r?this._activeItems.findIndex(s=>{let a=s.getRootElement();return r===a||a.contains(r)}):-1;return o===-1||!this._sortPredicate(o,t)?-1:o}_getRootNode(){return this._rootNode||(this._rootNode=Un(this._element)||this._document),this._rootNode}_getClosestItemIndexToPointer(t,i,e){if(this._activeItems.length===0)return-1;if(this._activeItems.length===1)return 0;let r=1/0,o=-1;for(let s=0;s<this._activeItems.length;s++){let a=this._activeItems[s];if(a!==t){let{x:l,y:c}=a.getRootElement().getBoundingClientRect(),h=Math.hypot(i-l,e-c);h<r&&(r=h,o=s)}}return o}},Xa=.05,el=.05,ze=function(n){return n[n.NONE=0]="NONE",n[n.UP=1]="UP",n[n.DOWN=2]="DOWN",n}(ze||{}),Ee=function(n){return n[n.NONE=0]="NONE",n[n.LEFT=1]="LEFT",n[n.RIGHT=2]="RIGHT",n}(Ee||{}),vo=class{_dragDropRegistry;_ngZone;_viewportRuler;element;disabled=!1;sortingDisabled=!1;lockAxis;autoScrollDisabled=!1;autoScrollStep=2;enterPredicate=()=>!0;sortPredicate=()=>!0;beforeStarted=new x;entered=new x;exited=new x;dropped=new x;sorted=new x;receivingStarted=new x;receivingStopped=new x;data;_container;_isDragging=!1;_parentPositions;_sortStrategy;_domRect;_draggables=[];_siblings=[];_activeSiblings=new Set;_viewportScrollSubscription=vt.EMPTY;_verticalScrollDirection=ze.NONE;_horizontalScrollDirection=Ee.NONE;_scrollNode;_stopScrollTimers=new x;_cachedShadowRoot=null;_document;_scrollableElements=[];_initialScrollSnap;_direction="ltr";constructor(t,i,e,r,o){this._dragDropRegistry=i,this._ngZone=r,this._viewportRuler=o;let s=this.element=et(t);this._document=e,this.withOrientation("vertical").withElementContainer(s),i.registerDropContainer(this),this._parentPositions=new Kn(e)}dispose(){this._stopScrolling(),this._stopScrollTimers.complete(),this._viewportScrollSubscription.unsubscribe(),this.beforeStarted.complete(),this.entered.complete(),this.exited.complete(),this.dropped.complete(),this.sorted.complete(),this.receivingStarted.complete(),this.receivingStopped.complete(),this._activeSiblings.clear(),this._scrollNode=null,this._parentPositions.clear(),this._dragDropRegistry.removeDropContainer(this)}isDragging(){return this._isDragging}start(){this._draggingStarted(),this._notifyReceivingSiblings()}enter(t,i,e,r){this._draggingStarted(),r==null&&this.sortingDisabled&&(r=this._draggables.indexOf(t)),this._sortStrategy.enter(t,i,e,r),this._cacheParentPositions(),this._notifyReceivingSiblings(),this.entered.next({item:t,container:this,currentIndex:this.getItemIndex(t)})}exit(t){this._reset(),this.exited.next({item:t,container:this})}drop(t,i,e,r,o,s,a,l={}){this._reset(),this.dropped.next({item:t,currentIndex:i,previousIndex:e,container:this,previousContainer:r,isPointerOverContainer:o,distance:s,dropPoint:a,event:l})}withItems(t){let i=this._draggables;return this._draggables=t,t.forEach(e=>e._withDropContainer(this)),this.isDragging()&&(i.filter(r=>r.isDragging()).every(r=>t.indexOf(r)===-1)?this._reset():this._sortStrategy.withItems(this._draggables)),this}withDirection(t){return this._direction=t,this._sortStrategy instanceof Yn&&(this._sortStrategy.direction=t),this}connectedTo(t){return this._siblings=t.slice(),this}withOrientation(t){if(t==="mixed")this._sortStrategy=new wo(this._document,this._dragDropRegistry);else{let i=new Yn(this._dragDropRegistry);i.direction=this._direction,i.orientation=t,this._sortStrategy=i}return this._sortStrategy.withElementContainer(this._container),this._sortStrategy.withSortPredicate((i,e)=>this.sortPredicate(i,e,this)),this}withScrollableParents(t){let i=this._container;return this._scrollableElements=t.indexOf(i)===-1?[i,...t]:t.slice(),this}withElementContainer(t){if(t===this._container)return this;let i=et(this.element),e=this._scrollableElements.indexOf(this._container),r=this._scrollableElements.indexOf(t);return e>-1&&this._scrollableElements.splice(e,1),r>-1&&this._scrollableElements.splice(r,1),this._sortStrategy&&this._sortStrategy.withElementContainer(t),this._cachedShadowRoot=null,this._scrollableElements.unshift(t),this._container=t,this}getScrollableParents(){return this._scrollableElements}getItemIndex(t){return this._isDragging?this._sortStrategy.getItemIndex(t):this._draggables.indexOf(t)}isReceiving(){return this._activeSiblings.size>0}_sortItem(t,i,e,r){if(this.sortingDisabled||!this._domRect||!Ha(this._domRect,Xa,i,e))return;let o=this._sortStrategy.sort(t,i,e,r);o&&this.sorted.next({previousIndex:o.previousIndex,currentIndex:o.currentIndex,container:this,item:t})}_startScrollingIfNecessary(t,i){if(this.autoScrollDisabled)return;let e,r=ze.NONE,o=Ee.NONE;if(this._parentPositions.positions.forEach((s,a)=>{a===this._document||!s.clientRect||e||Ha(s.clientRect,Xa,t,i)&&([r,o]=od(a,s.clientRect,this._direction,t,i),(r||o)&&(e=a))}),!r&&!o){let{width:s,height:a}=this._viewportRuler.getViewportSize(),l={width:s,height:a,top:0,right:s,bottom:a,left:0};r=tl(l,i),o=il(l,t),e=window}e&&(r!==this._verticalScrollDirection||o!==this._horizontalScrollDirection||e!==this._scrollNode)&&(this._verticalScrollDirection=r,this._horizontalScrollDirection=o,this._scrollNode=e,(r||o)&&e?this._ngZone.runOutsideAngular(this._startScrollInterval):this._stopScrolling())}_stopScrolling(){this._stopScrollTimers.next()}_draggingStarted(){let t=this._container.style;this.beforeStarted.next(),this._isDragging=!0,this._initialScrollSnap=t.msScrollSnapType||t.scrollSnapType||"",t.scrollSnapType=t.msScrollSnapType="none",this._sortStrategy.start(this._draggables),this._cacheParentPositions(),this._viewportScrollSubscription.unsubscribe(),this._listenToScrollEvents()}_cacheParentPositions(){this._parentPositions.cache(this._scrollableElements),this._domRect=this._parentPositions.positions.get(this._container).clientRect}_reset(){this._isDragging=!1;let t=this._container.style;t.scrollSnapType=t.msScrollSnapType=this._initialScrollSnap,this._siblings.forEach(i=>i._stopReceiving(this)),this._sortStrategy.reset(),this._stopScrolling(),this._viewportScrollSubscription.unsubscribe(),this._parentPositions.clear()}_startScrollInterval=()=>{this._stopScrolling(),No(0,vr).pipe(Z(this._stopScrollTimers)).subscribe(()=>{let t=this._scrollNode,i=this.autoScrollStep;this._verticalScrollDirection===ze.UP?t.scrollBy(0,-i):this._verticalScrollDirection===ze.DOWN&&t.scrollBy(0,i),this._horizontalScrollDirection===Ee.LEFT?t.scrollBy(-i,0):this._horizontalScrollDirection===Ee.RIGHT&&t.scrollBy(i,0)})};_isOverContainer(t,i){return this._domRect!=null&&yo(this._domRect,t,i)}_getSiblingContainerFromPosition(t,i,e){return this._siblings.find(r=>r._canReceive(t,i,e))}_canReceive(t,i,e){if(!this._domRect||!yo(this._domRect,i,e)||!this.enterPredicate(t,this))return!1;let r=this._getShadowRoot().elementFromPoint(i,e);return r?r===this._container||this._container.contains(r):!1}_startReceiving(t,i){let e=this._activeSiblings;!e.has(t)&&i.every(r=>this.enterPredicate(r,this)||this._draggables.indexOf(r)>-1)&&(e.add(t),this._cacheParentPositions(),this._listenToScrollEvents(),this.receivingStarted.next({initiator:t,receiver:this,items:i}))}_stopReceiving(t){this._activeSiblings.delete(t),this._viewportScrollSubscription.unsubscribe(),this.receivingStopped.next({initiator:t,receiver:this})}_listenToScrollEvents(){this._viewportScrollSubscription=this._dragDropRegistry.scrolled(this._getShadowRoot()).subscribe(t=>{if(this.isDragging()){let i=this._parentPositions.handleScroll(t);i&&this._sortStrategy.updateOnScroll(i.top,i.left)}else this.isReceiving()&&this._cacheParentPositions()})}_getShadowRoot(){if(!this._cachedShadowRoot){let t=Un(this._container);this._cachedShadowRoot=t||this._document}return this._cachedShadowRoot}_notifyReceivingSiblings(){let t=this._sortStrategy.getActiveItemsSnapshot().filter(i=>i.isDragging());this._siblings.forEach(i=>i._startReceiving(this,t))}};function tl(n,t){let{top:i,bottom:e,height:r}=n,o=r*el;return t>=i-o&&t<=i+o?ze.UP:t>=e-o&&t<=e+o?ze.DOWN:ze.NONE}function il(n,t){let{left:i,right:e,width:r}=n,o=r*el;return t>=i-o&&t<=i+o?Ee.LEFT:t>=e-o&&t<=e+o?Ee.RIGHT:Ee.NONE}function od(n,t,i,e,r){let o=tl(t,r),s=il(t,e),a=ze.NONE,l=Ee.NONE;if(o){let c=n.scrollTop;o===ze.UP?c>0&&(a=ze.UP):n.scrollHeight-c>n.clientHeight&&(a=ze.DOWN)}if(s){let c=n.scrollLeft;i==="rtl"?s===Ee.RIGHT?c<0&&(l=Ee.RIGHT):n.scrollWidth+c>n.clientWidth&&(l=Ee.LEFT):s===Ee.LEFT?c>0&&(l=Ee.LEFT):n.scrollWidth-c>n.clientWidth&&(l=Ee.RIGHT)}return[a,l]}var Qi={capture:!0},_o={passive:!1,capture:!0},sd=(()=>{class n{static \u0275fac=function(e){return new(e||n)};static \u0275cmp=O({type:n,selectors:[["ng-component"]],hostAttrs:["cdk-drag-resets-container",""],decls:0,vars:0,template:function(e,r){},styles:[`@layer cdk-resets{.cdk-drag-preview{background:none;border:none;padding:0;color:inherit;inset:auto}}.cdk-drag-placeholder *,.cdk-drag-preview *{pointer-events:none !important}
`],encapsulation:2,changeDetection:0})}return n})(),Eo=(()=>{class n{_ngZone=d(M);_document=d(Y);_styleLoader=d(Fa);_renderer=d(dt).createRenderer(null,null);_cleanupDocumentTouchmove;_scroll=new x;_dropInstances=new Set;_dragInstances=new Set;_activeDragInstances=ut([]);_globalListeners;_draggingPredicate=i=>i.isDragging();_domNodesToDirectives=null;pointerMove=new x;pointerUp=new x;constructor(){}registerDropContainer(i){this._dropInstances.has(i)||this._dropInstances.add(i)}registerDragItem(i){this._dragInstances.add(i),this._dragInstances.size===1&&this._ngZone.runOutsideAngular(()=>{this._cleanupDocumentTouchmove?.(),this._cleanupDocumentTouchmove=this._renderer.listen(this._document,"touchmove",this._persistentTouchmoveListener,_o)})}removeDropContainer(i){this._dropInstances.delete(i)}removeDragItem(i){this._dragInstances.delete(i),this.stopDragging(i),this._dragInstances.size===0&&this._cleanupDocumentTouchmove?.()}startDragging(i,e){if(!(this._activeDragInstances().indexOf(i)>-1)&&(this._styleLoader.load(sd),this._activeDragInstances.update(r=>[...r,i]),this._activeDragInstances().length===1)){let r=e.type.startsWith("touch"),o=a=>this.pointerUp.next(a),s=[["scroll",a=>this._scroll.next(a),Qi],["selectstart",this._preventDefaultWhileDragging,_o]];r?s.push(["touchend",o,Qi],["touchcancel",o,Qi]):s.push(["mouseup",o,Qi]),r||s.push(["mousemove",a=>this.pointerMove.next(a),_o]),this._ngZone.runOutsideAngular(()=>{this._globalListeners=s.map(([a,l,c])=>this._renderer.listen(this._document,a,l,c))})}}stopDragging(i){this._activeDragInstances.update(e=>{let r=e.indexOf(i);return r>-1?(e.splice(r,1),[...e]):e}),this._activeDragInstances().length===0&&this._clearGlobalListeners()}isDragging(i){return this._activeDragInstances().indexOf(i)>-1}scrolled(i){let e=[this._scroll];return i&&i!==this._document&&e.push(new xt(r=>this._ngZone.runOutsideAngular(()=>{let o=this._renderer.listen(i,"scroll",s=>{this._activeDragInstances().length&&r.next(s)},Qi);return()=>{o()}}))),ln(...e)}registerDirectiveNode(i,e){this._domNodesToDirectives??=new WeakMap,this._domNodesToDirectives.set(i,e)}removeDirectiveNode(i){this._domNodesToDirectives?.delete(i)}getDragDirectiveForNode(i){return this._domNodesToDirectives?.get(i)||null}ngOnDestroy(){this._dragInstances.forEach(i=>this.removeDragItem(i)),this._dropInstances.forEach(i=>this.removeDropContainer(i)),this._domNodesToDirectives=null,this._clearGlobalListeners(),this.pointerMove.complete(),this.pointerUp.complete()}_preventDefaultWhileDragging=i=>{this._activeDragInstances().length>0&&i.preventDefault()};_persistentTouchmoveListener=i=>{this._activeDragInstances().length>0&&(this._activeDragInstances().some(this._draggingPredicate)&&i.preventDefault(),this.pointerMove.next(i))};_clearGlobalListeners(){this._globalListeners?.forEach(i=>i()),this._globalListeners=void 0}static \u0275fac=function(e){return new(e||n)};static \u0275prov=b({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),ad={dragStartThreshold:5,pointerDirectionChangeThreshold:5},nl=(()=>{class n{_document=d(Y);_ngZone=d(M);_viewportRuler=d(ka);_dragDropRegistry=d(Eo);_renderer=d(dt).createRenderer(null,null);constructor(){}createDrag(i,e=ad){return new Do(i,e,this._document,this._ngZone,this._viewportRuler,this._dragDropRegistry,this._renderer)}createDropList(i){return new vo(i,this._dragDropRegistry,this._document,this._ngZone,this._viewportRuler)}static \u0275fac=function(e){return new(e||n)};static \u0275prov=b({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),xo=new L("CDK_DRAG_PARENT");var rl=new L("CdkDragHandle"),ol=(()=>{class n{element=d(ce);_parentDrag=d(xo,{optional:!0,skipSelf:!0});_dragDropRegistry=d(Eo);_stateChanges=new x;get disabled(){return this._disabled}set disabled(i){this._disabled=i,this._stateChanges.next(this)}_disabled=!1;constructor(){this._parentDrag?._addHandle(this)}ngAfterViewInit(){if(!this._parentDrag){let i=this.element.nativeElement.parentElement;for(;i;){let e=this._dragDropRegistry.getDragDirectiveForNode(i);if(e){this._parentDrag=e,e._addHandle(this);break}i=i.parentElement}}}ngOnDestroy(){this._parentDrag?._removeHandle(this),this._stateChanges.complete()}static \u0275fac=function(e){return new(e||n)};static \u0275dir=V({type:n,selectors:[["","cdkDragHandle",""]],hostAttrs:[1,"cdk-drag-handle"],inputs:{disabled:[2,"cdkDragHandleDisabled","disabled",gt]},features:[Pt([{provide:rl,useExisting:n}])]})}return n})(),sl=new L("CDK_DRAG_CONFIG"),al=new L("CdkDropList"),ll=(()=>{class n{element=d(ce);dropContainer=d(al,{optional:!0,skipSelf:!0});_ngZone=d(M);_viewContainerRef=d(ht);_dir=d(ri,{optional:!0});_changeDetectorRef=d(_e);_selfHandle=d(rl,{optional:!0,self:!0});_parentDrag=d(xo,{optional:!0,skipSelf:!0});_dragDropRegistry=d(Eo);_destroyed=new x;_handles=new Mo([]);_previewTemplate;_placeholderTemplate;_dragRef;data;lockAxis;rootElementSelector;boundaryElement;dragStartDelay;freeDragPosition;get disabled(){return this._disabled||!!(this.dropContainer&&this.dropContainer.disabled)}set disabled(i){this._disabled=i,this._dragRef.disabled=this._disabled}_disabled;constrainPosition;previewClass;previewContainer;scale=1;started=new Oe;released=new Oe;ended=new Oe;entered=new Oe;exited=new Oe;dropped=new Oe;moved=new xt(i=>{let e=this._dragRef.moved.pipe(Ct(r=>({source:this,pointerPosition:r.pointerPosition,event:r.event,delta:r.delta,distance:r.distance}))).subscribe(i);return()=>{e.unsubscribe()}});_injector=d(Ve);constructor(){let i=this.dropContainer,e=d(sl,{optional:!0}),r=d(nl);this._dragRef=r.createDrag(this.element,{dragStartThreshold:e&&e.dragStartThreshold!=null?e.dragStartThreshold:5,pointerDirectionChangeThreshold:e&&e.pointerDirectionChangeThreshold!=null?e.pointerDirectionChangeThreshold:5,zIndex:e?.zIndex}),this._dragRef.data=this,this._dragDropRegistry.registerDirectiveNode(this.element.nativeElement,this),e&&this._assignDefaults(e),i&&(this._dragRef._withDropContainer(i._dropListRef),i.addItem(this),i._dropListRef.beforeStarted.pipe(Z(this._destroyed)).subscribe(()=>{this._dragRef.scale=this.scale})),this._syncInputs(this._dragRef),this._handleEvents(this._dragRef)}getPlaceholderElement(){return this._dragRef.getPlaceholderElement()}getRootElement(){return this._dragRef.getRootElement()}reset(){this._dragRef.reset()}resetToBoundary(){this._dragRef.resetToBoundary()}getFreeDragPosition(){return this._dragRef.getFreeDragPosition()}setFreeDragPosition(i){this._dragRef.setFreeDragPosition(i)}ngAfterViewInit(){Tr(()=>{this._updateRootElement(),this._setupHandlesListener(),this._dragRef.scale=this.scale,this.freeDragPosition&&this._dragRef.setFreeDragPosition(this.freeDragPosition)},{injector:this._injector})}ngOnChanges(i){let e=i.rootElementSelector,r=i.freeDragPosition;e&&!e.firstChange&&this._updateRootElement(),this._dragRef.scale=this.scale,r&&!r.firstChange&&this.freeDragPosition&&this._dragRef.setFreeDragPosition(this.freeDragPosition)}ngOnDestroy(){this.dropContainer&&this.dropContainer.removeItem(this),this._dragDropRegistry.removeDirectiveNode(this.element.nativeElement),this._ngZone.runOutsideAngular(()=>{this._handles.complete(),this._destroyed.next(),this._destroyed.complete(),this._dragRef.dispose()})}_addHandle(i){let e=this._handles.getValue();e.push(i),this._handles.next(e)}_removeHandle(i){let e=this._handles.getValue(),r=e.indexOf(i);r>-1&&(e.splice(r,1),this._handles.next(e))}_setPreviewTemplate(i){this._previewTemplate=i}_resetPreviewTemplate(i){i===this._previewTemplate&&(this._previewTemplate=null)}_setPlaceholderTemplate(i){this._placeholderTemplate=i}_resetPlaceholderTemplate(i){i===this._placeholderTemplate&&(this._placeholderTemplate=null)}_updateRootElement(){let i=this.element.nativeElement,e=i;this.rootElementSelector&&(e=i.closest!==void 0?i.closest(this.rootElementSelector):i.parentElement?.closest(this.rootElementSelector)),this._dragRef.withRootElement(e||i)}_getBoundaryElement(){let i=this.boundaryElement;return i?typeof i=="string"?this.element.nativeElement.closest(i):et(i):null}_syncInputs(i){i.beforeStarted.subscribe(()=>{if(!i.isDragging()){let e=this._dir,r=this.dragStartDelay,o=this._placeholderTemplate?{template:this._placeholderTemplate.templateRef,context:this._placeholderTemplate.data,viewContainer:this._viewContainerRef}:null,s=this._previewTemplate?{template:this._previewTemplate.templateRef,context:this._previewTemplate.data,matchSize:this._previewTemplate.matchSize,viewContainer:this._viewContainerRef}:null;i.disabled=this.disabled,i.lockAxis=this.lockAxis,i.scale=this.scale,i.dragStartDelay=typeof r=="object"&&r?r:$n(r),i.constrainPosition=this.constrainPosition,i.previewClass=this.previewClass,i.withBoundaryElement(this._getBoundaryElement()).withPlaceholderTemplate(o).withPreviewTemplate(s).withPreviewContainer(this.previewContainer||"global"),e&&i.withDirection(e.value)}}),i.beforeStarted.pipe(Vo(1)).subscribe(()=>{if(this._parentDrag){i.withParent(this._parentDrag._dragRef);return}let e=this.element.nativeElement.parentElement;for(;e;){let r=this._dragDropRegistry.getDragDirectiveForNode(e);if(r){i.withParent(r._dragRef);break}e=e.parentElement}})}_handleEvents(i){i.started.subscribe(e=>{this.started.emit({source:this,event:e.event}),this._changeDetectorRef.markForCheck()}),i.released.subscribe(e=>{this.released.emit({source:this,event:e.event})}),i.ended.subscribe(e=>{this.ended.emit({source:this,distance:e.distance,dropPoint:e.dropPoint,event:e.event}),this._changeDetectorRef.markForCheck()}),i.entered.subscribe(e=>{this.entered.emit({container:e.container.data,item:this,currentIndex:e.currentIndex})}),i.exited.subscribe(e=>{this.exited.emit({container:e.container.data,item:this})}),i.dropped.subscribe(e=>{this.dropped.emit({previousIndex:e.previousIndex,currentIndex:e.currentIndex,previousContainer:e.previousContainer.data,container:e.container.data,isPointerOverContainer:e.isPointerOverContainer,item:this,distance:e.distance,dropPoint:e.dropPoint,event:e.event})})}_assignDefaults(i){let{lockAxis:e,dragStartDelay:r,constrainPosition:o,previewClass:s,boundaryElement:a,draggingDisabled:l,rootElementSelector:c,previewContainer:h}=i;this.disabled=l??!1,this.dragStartDelay=r||0,e&&(this.lockAxis=e),o&&(this.constrainPosition=o),s&&(this.previewClass=s),a&&(this.boundaryElement=a),c&&(this.rootElementSelector=c),h&&(this.previewContainer=h)}_setupHandlesListener(){this._handles.pipe(zo(i=>{let e=i.map(r=>r.element);this._selfHandle&&this.rootElementSelector&&e.push(this.element),this._dragRef.withHandles(e)}),di(i=>ln(...i.map(e=>e._stateChanges.pipe(un(e))))),Z(this._destroyed)).subscribe(i=>{let e=this._dragRef,r=i.element.nativeElement;i.disabled?e.disableHandle(r):e.enableHandle(r)})}static \u0275fac=function(e){return new(e||n)};static \u0275dir=V({type:n,selectors:[["","cdkDrag",""]],hostAttrs:[1,"cdk-drag"],hostVars:4,hostBindings:function(e,r){e&2&&j("cdk-drag-disabled",r.disabled)("cdk-drag-dragging",r._dragRef.isDragging())},inputs:{data:[0,"cdkDragData","data"],lockAxis:[0,"cdkDragLockAxis","lockAxis"],rootElementSelector:[0,"cdkDragRootElement","rootElementSelector"],boundaryElement:[0,"cdkDragBoundary","boundaryElement"],dragStartDelay:[0,"cdkDragStartDelay","dragStartDelay"],freeDragPosition:[0,"cdkDragFreeDragPosition","freeDragPosition"],disabled:[2,"cdkDragDisabled","disabled",gt],constrainPosition:[0,"cdkDragConstrainPosition","constrainPosition"],previewClass:[0,"cdkDragPreviewClass","previewClass"],previewContainer:[0,"cdkDragPreviewContainer","previewContainer"],scale:[2,"cdkDragScale","scale",Ar]},outputs:{started:"cdkDragStarted",released:"cdkDragReleased",ended:"cdkDragEnded",entered:"cdkDragEntered",exited:"cdkDragExited",dropped:"cdkDragDropped",moved:"cdkDragMoved"},exportAs:["cdkDrag"],features:[Pt([{provide:xo,useExisting:n}]),Me]})}return n})(),Qa=new L("CdkDropListGroup");var cl=(()=>{class n{element=d(ce);_changeDetectorRef=d(_e);_scrollDispatcher=d(po);_dir=d(ri,{optional:!0});_group=d(Qa,{optional:!0,skipSelf:!0});_latestSortedRefs;_destroyed=new x;_scrollableParentsResolved;static _dropLists=[];_dropListRef;connectedTo=[];data;orientation;id=d(Na).getId("cdk-drop-list-");lockAxis;get disabled(){return this._disabled||!!this._group&&this._group.disabled}set disabled(i){this._dropListRef.disabled=this._disabled=i}_disabled;sortingDisabled;enterPredicate=()=>!0;sortPredicate=()=>!0;autoScrollDisabled;autoScrollStep;elementContainerSelector;dropped=new Oe;entered=new Oe;exited=new Oe;sorted=new Oe;_unsortedItems=new Set;constructor(){let i=d(nl),e=d(sl,{optional:!0});this._dropListRef=i.createDropList(this.element),this._dropListRef.data=this,e&&this._assignDefaults(e),this._dropListRef.enterPredicate=(r,o)=>this.enterPredicate(r.data,o.data),this._dropListRef.sortPredicate=(r,o,s)=>this.sortPredicate(r,o.data,s.data),this._setupInputSyncSubscription(this._dropListRef),this._handleEvents(this._dropListRef),n._dropLists.push(this),this._group&&this._group._items.add(this)}addItem(i){this._unsortedItems.add(i),this._dropListRef.isDragging()&&this._syncItemsWithRef(this.getSortedItems().map(e=>e._dragRef))}removeItem(i){if(this._unsortedItems.delete(i),this._latestSortedRefs){let e=this._latestSortedRefs.indexOf(i._dragRef);e>-1&&(this._latestSortedRefs.splice(e,1),this._syncItemsWithRef(this._latestSortedRefs))}}getSortedItems(){return Array.from(this._unsortedItems).sort((i,e)=>i._dragRef.getVisibleElement().compareDocumentPosition(e._dragRef.getVisibleElement())&Node.DOCUMENT_POSITION_FOLLOWING?-1:1)}ngOnDestroy(){let i=n._dropLists.indexOf(this);i>-1&&n._dropLists.splice(i,1),this._group&&this._group._items.delete(this),this._latestSortedRefs=void 0,this._unsortedItems.clear(),this._dropListRef.dispose(),this._destroyed.next(),this._destroyed.complete()}_setupInputSyncSubscription(i){this._dir&&this._dir.change.pipe(un(this._dir.value),Z(this._destroyed)).subscribe(e=>i.withDirection(e)),i.beforeStarted.subscribe(()=>{let e=La(this.connectedTo).map(r=>{if(typeof r=="string"){let o=n._dropLists.find(s=>s.id===r);return o}return r});if(this._group&&this._group._items.forEach(r=>{e.indexOf(r)===-1&&e.push(r)}),!this._scrollableParentsResolved){let r=this._scrollDispatcher.getAncestorScrollContainers(this.element).map(o=>o.getElementRef().nativeElement);this._dropListRef.withScrollableParents(r),this._scrollableParentsResolved=!0}if(this.elementContainerSelector){let r=this.element.nativeElement.querySelector(this.elementContainerSelector);i.withElementContainer(r)}i.disabled=this.disabled,i.lockAxis=this.lockAxis,i.sortingDisabled=this.sortingDisabled,i.autoScrollDisabled=this.autoScrollDisabled,i.autoScrollStep=$n(this.autoScrollStep,2),i.connectedTo(e.filter(r=>r&&r!==this).map(r=>r._dropListRef)).withOrientation(this.orientation)})}_handleEvents(i){i.beforeStarted.subscribe(()=>{this._syncItemsWithRef(this.getSortedItems().map(e=>e._dragRef)),this._changeDetectorRef.markForCheck()}),i.entered.subscribe(e=>{this.entered.emit({container:this,item:e.item.data,currentIndex:e.currentIndex})}),i.exited.subscribe(e=>{this.exited.emit({container:this,item:e.item.data}),this._changeDetectorRef.markForCheck()}),i.sorted.subscribe(e=>{this.sorted.emit({previousIndex:e.previousIndex,currentIndex:e.currentIndex,container:this,item:e.item.data})}),i.dropped.subscribe(e=>{this.dropped.emit({previousIndex:e.previousIndex,currentIndex:e.currentIndex,previousContainer:e.previousContainer.data,container:e.container.data,item:e.item.data,isPointerOverContainer:e.isPointerOverContainer,distance:e.distance,dropPoint:e.dropPoint,event:e.event}),this._changeDetectorRef.markForCheck()}),ln(i.receivingStarted,i.receivingStopped).subscribe(()=>this._changeDetectorRef.markForCheck())}_assignDefaults(i){let{lockAxis:e,draggingDisabled:r,sortingDisabled:o,listAutoScrollDisabled:s,listOrientation:a}=i;this.disabled=r??!1,this.sortingDisabled=o??!1,this.autoScrollDisabled=s??!1,this.orientation=a||"vertical",e&&(this.lockAxis=e)}_syncItemsWithRef(i){this._latestSortedRefs=i,this._dropListRef.withItems(i)}static \u0275fac=function(e){return new(e||n)};static \u0275dir=V({type:n,selectors:[["","cdkDropList",""],["cdk-drop-list"]],hostAttrs:[1,"cdk-drop-list"],hostVars:7,hostBindings:function(e,r){e&2&&(qt("id",r.id),j("cdk-drop-list-disabled",r.disabled)("cdk-drop-list-dragging",r._dropListRef.isDragging())("cdk-drop-list-receiving",r._dropListRef.isReceiving()))},inputs:{connectedTo:[0,"cdkDropListConnectedTo","connectedTo"],data:[0,"cdkDropListData","data"],orientation:[0,"cdkDropListOrientation","orientation"],id:"id",lockAxis:[0,"cdkDropListLockAxis","lockAxis"],disabled:[2,"cdkDropListDisabled","disabled",gt],sortingDisabled:[2,"cdkDropListSortingDisabled","sortingDisabled",gt],enterPredicate:[0,"cdkDropListEnterPredicate","enterPredicate"],sortPredicate:[0,"cdkDropListSortPredicate","sortPredicate"],autoScrollDisabled:[2,"cdkDropListAutoScrollDisabled","autoScrollDisabled",gt],autoScrollStep:[0,"cdkDropListAutoScrollStep","autoScrollStep"],elementContainerSelector:[0,"cdkDropListElementContainer","elementContainerSelector"]},outputs:{dropped:"cdkDropListDropped",entered:"cdkDropListEntered",exited:"cdkDropListExited",sorted:"cdkDropListSorted"},exportAs:["cdkDropList"],features:[Pt([{provide:Qa,useValue:void 0},{provide:al,useExisting:n}])]})}return n})();var To=new L("[SUGGESTION_STRATEGY_MAP]: Suggestion strategy map");var ul=new L("[FIRST_DAY_OF_WEEK]: First day of week",{factory:()=>1});var nn=new L("[DAYS_COUNT]: Days count for date suggestion");var md=12345.6,gd=9876543210;function ai(n,t="ru-RU"){let i=n?.toString().replaceAll(/\s/g,""),e=new Intl.NumberFormat(t).formatToParts(md),r=Array.from(new Intl.NumberFormat(t,{useGrouping:!1}).format(gd)).reverse(),o=new RegExp(`[${e.find(c=>c.type==="group")?.value}]`,"g"),s=new RegExp(`[${e.find(c=>c.type==="decimal")?.value}]`),a=new RegExp(`[${r.join("")}]`,"g"),l=c=>new Map(r.map((h,p)=>[h,p])).get(c)?.toString()??"";return i=i?.trim().replace(o,"").replace(s,".").replace(a,l),De(i)?Number(i):NaN}var qn=(()=>{let t=class t{transform(e,r,o=""){let s=at(e,r);return fe(s)?o??"":s}};t.\u0275fac=function(r){return new(r||t)},t.\u0275pipe=ee({name:"deepPath",type:t,pure:!0});let n=t;return n})();var Jn=(()=>{let t=class t{transform(e,r="-"){return fe(e)?r:e}};t.\u0275fac=function(r){return new(r||t)},t.\u0275pipe=ee({name:"defaultValue",type:t,pure:!0});let n=t;return n})();var er=(()=>{let t=class t{constructor(){this.transform=De}};t.\u0275fac=function(r){return new(r||t)},t.\u0275pipe=ee({name:"isFilled",type:t,pure:!0});let n=t;return n})();var tr=(()=>{let t=class t{transform(...e){return Object.assign({},...e.map(this.convertToPlainObject.bind(this)))}convertToPlainObject(e){return W(e)?{}:Pe(e)?this.makePlainObjectOfTrues(e.split(/\s+/)):ro(e)?this.makePlainObjectOfTrues(Array.from(e)):e}makePlainObjectOfTrues(e){return e.reduce((r,o)=>Object.assign(r,{[o]:!0}),{})}};t.\u0275fac=function(r){return new(r||t)},t.\u0275pipe=ee({name:"mergeCssClasses",type:t,pure:!0});let n=t;return n})();var ir=(()=>{let t=class t{constructor(){this.sanitizer=d(Li)}transform(e,r){let o=e??"";switch(r){case"html":return this.sanitizer.bypassSecurityTrustHtml(o);case"resourceUrl":return this.sanitizer.bypassSecurityTrustResourceUrl(o);case"script":return this.sanitizer.bypassSecurityTrustScript(o);case"style":return this.sanitizer.bypassSecurityTrustStyle(o);case"url":return this.sanitizer.bypassSecurityTrustUrl(o);default:throw new Error(`Invalid safe type specified: ${r}`)}}};t.\u0275fac=function(r){return new(r||t)},t.\u0275pipe=ee({name:"safe",type:t,pure:!0});let n=t;return n})();var Gt=function(n){return n.ROW="ROW",n.CELL="CELL",n}(Gt||{});function Ce(n){return Pe(n)?!0:!!n}function tt(n,t){return n===null?t:n}var nr=class{constructor(t=[]){this.columns=t}exportColumns(){return this.columns.map(t=>({key:t.key,width:t.width,isVisible:t.isVisible,isModel:t.isModel}))}};var li=(()=>{let t=class t{constructor(){this.schema=null,this.templateKeys=null,this.fullTemplateKeys=null,this.overrideTemplateKeys=null,this.columnOptions=null,this.compiledTemplates={},this.allowedKeyMap={},this.keyMap={},this.injector=d(Ve)}static templateContext(e,r,o){return{textBold:r.bold(),template:r.template,class:r.cssClasses(),style:r.cssStyles(),width:r.width(),height:r.height(),onClick:r.onClick,dblClick:r.dblClick,useDeepPath:e?.includes("."),context:Ce(r.row())?Gt.ROW:Gt.CELL,nowrap:Ce(tt(o.nowrap(),r.nowrap()))}}toggleColumnVisibility(e){f(this.schema)&&(this.schema.columns=this.schema.columns.map(r=>e===r.key?Le(K({},r),{isVisible:!r.isVisible}):r),this.updateComputedWithSchema())}updateColumnsSchema(e){f(this.schema)&&(this.schema.columns=this.schema.columns.map(r=>f(r.key)?K(K({},r),e[r.key]):r)),this.updateComputedWithSchema()}initialSchema(e){this.schema=this.schema??new nr,this.schema.columns=[],this.compiledTemplates={},this.templateKeys=new Set,this.overrideTemplateKeys=new Set,this.fullTemplateKeys=new Set,this.columnOptions=e??ct(this.injector,()=>new Nt)}parse(e){if(!W(e))for(let r of e??[]){let{key:o,customKey:s,importantTemplate:a}=r,l=o(),c=s(),h=a();(this.allowedKeyMap[l]??c!==!1)&&(h!==!1?(this.templateKeys?.delete(l),this.compileColumnMetadata(r),this.overrideTemplateKeys?.add(l)):!H(this.templateKeys?.has(l))&&!H(this.overrideTemplateKeys?.has(l))&&(this.compileColumnMetadata(r),this.templateKeys?.add(l)),this.fullTemplateKeys?.add(l))}}mutateColumnSchema(e,r){for(let o of Object.keys(r))this.compiledTemplates[e][o]=r[o]}compileColumnMetadata(e){let{key:r,th:o,td:s,emptyHead:a,headTitle:l,verticalLine:c,customKey:h,isSortable:p,isResizable:D,isDraggable:g,isFilterable:F,forceModel:_,stub:S,cssStyle:oe,width:se,cssClass:$,overflowTooltip:ye,excelType:Te}=e,Fe=r(),on=a(),yr=l(),br=c(),Dr=h(),wt=p(),wr=D(),Kt=g(),m=F(),v=_(),z=S(),T=oe(),me=se(),Zt=$(),Ro=ye(),Cl=Te(),Sl=o()??ct(this.injector,()=>new kt),El=s()??ct(this.injector,()=>new Ot),Ao=Ce(on),Po=t.templateContext(Fe??"",Sl,this.columnOptions),Tl=Ce(e.stickyLeft()),Il=Ce(e.stickyRight()),Fo=Ce(Dr),Rl=!(Tl||Il),sn=De(this.keyMap[Fe])||Ce(v);this.compiledTemplates[Fe]={key:Fe,isModel:sn,isVisible:!0,excluded:!De(this.allowedKeyMap[Fe]),verticalLine:Ce(br),td:t.templateContext(Fe,El,this.columnOptions),stickyLeft:Ce(e.stickyLeft()),stickyRight:Ce(e.stickyRight()),customColumn:Fo,width:Jr(ai(me??this.columnOptions?.width()),null),cssClass:tt(Zt,this.columnOptions?.cssClass())??[],cssStyle:tt(T,this.columnOptions?.cssStyle())??[],resizable:sn?Ce(tt(wr,this.columnOptions?.isResizable())):!1,stub:tt(this.columnOptions?.stub(),z),filterable:sn?Ce(tt(m,this.columnOptions?.isFilterable())):!1,sortable:sn?Ce(tt(wt,this.columnOptions?.isSortable())):!1,draggable:Rl?Ce(tt(Kt,this.columnOptions?.isDraggable())):!1,overflowTooltip:Ce(tt(this.columnOptions?.overflowTooltip(),typeof Ro=="boolean"?Ro:!Fo)),th:Le(K({},Po),{headTitle:yr,emptyHead:Ao,template:Ao?null:Po.template}),excelType:Cl}}exportSchema(){return oo(this.compiledTemplates,e=>({key:e.key,width:e.width,isVisible:e.isVisible,isModel:e.isModel,excelType:e.excelType}))}updateComputedWithSchema(){for(let e of this.schema?.columns??[])this.compiledTemplates[e.key]=e}};t.\u0275fac=function(r){return new(r||t)},t.\u0275prov=b({token:t,factory:t.\u0275fac});let n=t;return n})();var rr=(()=>{let t=class t{constructor(){this.parser=d(li)}get columns(){return this.parser.schema?.columns??[]}drop(e,r){let o=this.columns.findIndex(a=>a.key===e),s=this.columns.findIndex(a=>a.key===r);if(this.canDropped(o,s)){if(s===this.columns.length-1){let a=this.columns[s],l=this.columns[o];f(a)&&f(l)&&(a.width=l.width,l.width=null)}Xn(this.columns,o,s)}}canDropped(e,r){let o=this.columns[e],s=this.columns[r],a=H(o?.draggable),l=H(s?.draggable),c=H(o?.stickyLeft)||H(s?.stickyLeft)||H(o?.stickyRight)||H(s?.stickyRight);return a&&l&&!c}};t.\u0275fac=function(r){return new(r||t)},t.\u0275prov=b({token:t,factory:t.\u0275fac});let n=t;return n})();var{COLUMN_RESIZE_MIN_WIDTH:bd}=we,or=(()=>{let t=class t{constructor(){this.destroyed$=null,this.startX=null,this.startWidth=null}static clearSelection(){f(window.getSelection)?window.getSelection()?.removeAllRanges():f(document.selection)&&document.selection?.empty()}resize(e,r,o,s){this.destroyed$=new an(1),this.startX=e.pageX,this.startWidth=r.offsetWidth,Ye(document,"mousemove").pipe(Z(this.destroyed$)).subscribe(a=>this.computeEvent(a,o)),Ye(document,"mouseup").pipe(Z(this.destroyed$)).subscribe(a=>this.unsubscribe(a,s))}computeEvent(e,r){t.clearSelection();let o=(this.startWidth??0)+(e.pageX-(this.startX??0));o>=bd&&r(o)}unsubscribe(e,r){this.destroyed$?.next(!0),this.destroyed$?.complete(),r(e)}};t.\u0275fac=function(r){return new(r||t)},t.\u0275prov=b({token:t,factory:t.\u0275fac});let n=t;return n})();var sr=class{constructor(){this.selectionSet=new Set,this.isAll=!1,this.entries={},this.selectedList=[],this.produceDisableFn=null}get size(){return this.selectionSet.size}get isIndeterminate(){return this.hasValue()&&!this.isAll}generateImmutableEntries(){this.selectedList=Array.from(this.selectionSet.values());let t={};for(let i of this.selectedList)t[i]=!0;this.entries=t}hasValue(){return this.size>0}get(t){return f(t)?this.selectionSet.has(t):!1}select(t,i,e){return Vt(this.produceDisableFn?.(i))?!1:(this.selectionSet.add(t),e&&this.generateImmutableEntries(),!0)}toggle(t,i,e){this.has(t)?this.delete(t,e):this.select(t,i,e)}delete(t,i){this.selectionSet.delete(t),i&&this.generateImmutableEntries()}has(t){return this.selectionSet.has(t)}clear(){this.selectionSet.clear(),this.entries={},this.selectedList=[],this.isAll=!1}};var ar=class{constructor(){this.start=null,this.end=null}put(t){this.start===null?this.start=t:this.end=t}clear(){this.start=null,this.end=null}sortKeys(){let[t,i]=[this.start,this.end].sort((e,r)=>(e??0)-(r??0));return this.start=t,this.end=i,this}selectedRange(){return this.start!==null&&this.end!==null}};var Wt=(()=>{let t=class t{constructor(){this.ngZone=d(M),this.handler={},this.selectionModel=new sr,this.range=new ar,this.selectionStart={status:!1},this.primaryKey=jt.ID,this.selectionTaskIdle=null,this.onChanges$=new x,this.selectionModeIsEnabled=!1,this.rows=null}listenShiftKey(){this.listenShiftKeyByType("keydown"),this.listenShiftKeyByType("keyup")}unListenShiftKey(){this.removeListenerByType("keydown"),this.removeListenerByType("keyup")}setProducerDisableFn(e){this.selectionModel.produceDisableFn=e}ngOnDestroy(){this.rows=null,this.unListenShiftKey()}invalidate(){this.range.clear(),this.selectionStart={status:!1},this.selectionModel.clear(),this.onChanges$.next()}toggleAll(e){let r=null;if(window.clearInterval(this.selectionTaskIdle??0),this.selectionModel.isAll)this.selectionModel.clear();else for(let o of e??[])this.selectionModel.select(this.getIdByRow(o),o,!1)&&(r=(r??0)+1);this.checkIsAllSelected(r)}reset(){this.selectionModel.clear(),this.range.clear(),this.onChanges$.next()}toggle(e){W(e)||(this.ngZone.runOutsideAngular(()=>window.clearInterval(this.selectionTaskIdle??0)),this.selectionModel.toggle(this.getIdByRow(e),e,!0),this.onChanges$.next(),this.checkIsAllSelected())}selectRow(e,r){if(W(e))return;let o=this.rows??[],{shiftKey:s,ctrlKey:a,metaKey:l}=r,c=o.findIndex(h=>(h??{})[this.primaryKey]===e?.[this.primaryKey]);s?this.multipleSelectByShiftKeydown(c):(to()?l:a)?this.multipleSelectByCtrlKeydown(e,c):this.singleSelect(e,c),this.checkIsAllSelected()}getIdByRow(e){let r=e?.[this.primaryKey];if(fe(r))throw new Error(`Can't select item, make sure you pass the correct primary key, or you forgot enable selection
                <ngx-table-builder enable-selection primary-key="fieldId" />
                `);return r}shiftKeyDetectSelection({shiftKey:e}){this.selectionStart={status:e}}listenShiftKeyByType(e){this.ngZone.runOutsideAngular(()=>{this.handler[e]=({shiftKey:r})=>{this.selectionStart={status:r}},this.handler[e]&&window.addEventListener(e,this.handler[e],!0)})}removeListenerByType(e){this.handler[e]&&window.removeEventListener(e,this.handler[e],!0)}checkIsAllSelected(e=null){if(!this.selectionModeIsEnabled)throw new Error("Please enable selection mode: <ngx-table-builder enable-selection />");this.selectionModel.isAll=W(e)?this.rows?.length===this.selectionModel.size:e===this.selectionModel.size,this.selectionModel.generateImmutableEntries(),this.onChanges$.next()}multipleSelectByShiftKeydown(e){let r=this.rows??[];if(this.selectionModel.clear(),this.range.put(e),this.range.selectedRange()){let{start:s,end:a}=this.range.sortKeys();for(let l=s;l<=a;++l){let c=r[l],h=this.getIdByRow(c);this.selectionModel.select(h,c,!1)}}}multipleSelectByCtrlKeydown(e,r){this.range.clear(),this.range.start=r,this.selectionModel.toggle(this.getIdByRow(e),e,!0)}singleSelect(e,r){this.selectionModel.clear(),this.selectionModel.select(this.getIdByRow(e),e,!0),this.range.clear(),this.range.start=r}};t.\u0275fac=function(r){return new(r||t)},t.\u0275prov=b({token:t,factory:t.\u0275fac});let n=t;return n})();function pl(n){let t;(function(o){o.DESC="desc",o.SKIP="skip"})(t||(t={}));function i(o,s){return s?s.split(".").reduce((a,l)=>a?.[l],o):o}function e(o){let s=typeof o=="string"?o.trim():o;return["",1/0,NaN,null,void 0].includes(s)}class r{static sortByKeys(s,a){if(!Object.keys(a).length)return s.sort(r.shallowSort);let c=r.getMatchesKeys(a);return s.sort((h,p)=>r.multiSort(h,p,c))}static multiSort(s,a,l){let c=Object.keys(l).length,h=0,p=0;for(;h===0&&p<c;){let D=r.observeKey(l,p);if(typeof D=="string"){let g=l[D];h=r.deepSort(D,s,a,g),p++}}return h}static getMatchesKeys(s){let a={};for(let l in s)s.hasOwnProperty(l)&&(a[l]=s[l]===t.DESC||s[l]===-1?-1:s[l]===t.SKIP||s[l]===0?0:1);return a}static deepSort(s,a,l,c){let h=i(a,s),p=i(l,s);return r.shallowSort(h,p,c)}static shallowSort(s,a,l){let c=a,h=l!==null?l:1;return c=e(c)?"":c,s===c?0:s>c?h:-1*h}static observeKey(s,a){let l,c=0;for(l in s)if(s.hasOwnProperty(l)){if(c===a)return l;c++}return null}}return r.sortByKeys(n.source,n.definition)}var lr=(()=>{let t=class t{constructor(){this.thread=d(Ht),this.zone=d(M),this.skipInternalSort=!1,this.sortChanges=null,this.definition={},this.positionMap={},this.sortableCount=0}get empty(){return Object.keys(this.definition).length===0}get notEmpty(){return!this.empty}async sort(e){return new Promise(r=>{if(this.skipInternalSort){r(e);return}this.thread.run(pl,{definition:this.definition,source:e}).then(o=>this.idleResolve(r,o))})}setDefinition(e){this.definition=e}setSkipSort(e){this.skipInternalSort=e}setSortChanges(e){this.sortChanges=e}updateSortKey(e){this.setDefinition(this.updateDefinitionByKeyImmutably(e)),this.triggerOnChanges()}triggerOnChanges(){let e=[];if(this.positionMap={},f(this.sortChanges)){for(let[r,[o,s]]of Object.entries(this.definition).entries())this.positionMap[o]=r+1,e.push({field:o,order:s.toLocaleUpperCase()});this.sortableCount=e.length,this.sortChanges.emit(e)}}idleResolve(e,r){this.zone.runOutsideAngular(()=>{window.setTimeout(()=>e(r),we.TIME_IDLE)})}updateDefinitionByKeyImmutably(e){let r=K({},this.definition),o=r[e];return Vt(o)?o===Dt.ASC?r[e]=Dt.DESC:delete r[e]:r[e]=Dt.ASC,r}};t.\u0275fac=function(r){return new(r||t)},t.\u0275prov=b({token:t,factory:t.\u0275fac});let n=t;return n})();var Dd=["tableViewport"],wd=["column"],{ROW_HEIGHT:ml,FILTER_DELAY_TIME:vd,TIME_IDLE:xd,TIME_RELOAD:Cd}=we,gl=(()=>{let t=class t{constructor(){this.templateParser=d(li),this.selection=d(Wt),this.cd=d(_e),this.resize=d(or),this.sortable=d(lr),this.contextMenu=d(Je),this.filterable=d(Ke),this.ngZone=d(M),this.app=d(Rt),this.viewChanges=d(co),this.draggable=d(rr),this.filterIdTask=null,this.idleDetectChangesId=null,this.columnFrameId=null,this.onChangesId=0,this._headHeight=null,this._rowHeight=null,this.originalSource=null,this.renderedKeys=[],this.isDragMoving=!1,this.height=u(null),this.width=u(null),this.source=u(null),this.keys=u([]),this.striped=u(!0),this.name=u(null),this.skipSort=u(!1,{alias:"skip-sort"}),this.sortTypes=u(null,{alias:"sort-types"}),this.filterDefinition=u([],{alias:"filter-definition"}),this.excludeKeys=u([],{alias:"exclude-keys"}),this.autoWidth=u(!1,{alias:"auto-width"}),this.autoHeightDetect=u(!0,{alias:"auto-height"}),this.nativeScrollbar=u(!1,{alias:"native-scrollbar"}),this.primaryKey=u(jt.ID,{alias:"primary-key"}),this.verticalBorder=u(!0,{alias:"vertical-border"}),this.enableSelection=u(!1,{alias:"enable-selection"}),this.enableFiltering=u(!1,{alias:"enable-filtering"}),this.disableDeepPath=u(!1,{alias:"disable-deep-path"}),this.produceDisableFn=u(null,{alias:"produce-disable-fn"}),this.rowCssClasses=u({},{alias:"row-css-classes"}),this.schemaColumns=u(null,{alias:"schema-columns"}),this.schemaVersion=u(1,{alias:"schema-version"}),this.isVirtualTable=u(!0,{alias:"is-virtual-table"}),this.afterRendered=ie(),this.schemaChanges=ie(),this.onChanges=ie(),this.sortChanges=ie(),this.columnOptions=je(Zi),this.columnTemplates=fs(Lt),this.contextMenuTemplate=je(Hi),this.ngxEmptyContent=je(zi,{read:ce}),this.headerTemplate=je(Ki),this.footerTemplate=je(Wi),this.filterTemplate=je($i),this.scrollContainer=Qe.required("tableViewport"),this.columnList=hs("column"),this.scrollbarWidth=12,this.columnListWidth=0,this.viewPortInfo={},this.tableViewportChecked=!0,this.modelColumnKeys=[],this.customModelColumnsKeys=[],this.isDragging={},this.accessDragging=!1,this.filteringRun=!1,this.headHeight=u(void 0,{transform:e=>parseInt(e,10),alias:"head-height"}),this.rowHeight=u(void 0,{transform:e=>parseInt(e??ml,10),alias:"row-height"}),this.listenToHeightChanges()}listenToHeightChanges(){mt(()=>{this._headHeight=this.headHeight(),this._rowHeight=this.rowHeight()})}get displayedColumns(){return Object.keys(this.templateParser.compiledTemplates)}get visibleColumns(){return this.columnSchema.filter(e=>e.isVisible).map(e=>e.key)}get positionColumns(){return this.columnSchema.map(e=>e.key)}get columnSchema(){return this.templateParser.schema?.columns??[]}get selectionModel(){return this.selection.selectionModel}get clientRowHeight(){return this._rowHeight??ml}get columnVirtualHeight(){return this.sourceRef.length*this.clientRowHeight}get columnHeight(){return this.size*this.clientRowHeight+this.headLineHeight}get headLineHeight(){return f(this._headHeight)?this._headHeight:this.clientRowHeight}get size(){return this.sourceRef.length}get sourceRef(){return this.source()??[]}get firstItem(){return this.sourceRef[0]||{}}get lastItem(){return this.sourceRef[this.sourceRef.length-1]||{}}get originalSourceRef(){return this.originalSource??this.source()??[]}get isEnableFiltering(){return this.enableFiltering()!==!1}get isSkippedInternalSort(){return this.skipSort()!==!1}get isEnableAutoWidthColumn(){return this.autoWidth()!==!1}get isEnableSelection(){return this.enableSelection()!==!1}get shouldBeFiltered(){return this.filterable.filterValueExist&&this.isEnableFiltering}get shouldBeSorted(){return this.sortable.notEmpty}get expanded(){let e=this.headerTemplate(),r=e?.expanded();return xe(e?.expandablePanel())&&f(r)?xe(r):null}recheckViewportChecked(){this.tableViewportChecked=!this.tableViewportChecked,this.idleDetectChanges()}enableDragging(e){f(e)&&H(this.templateParser.compiledTemplates[e]?.draggable)&&(this.accessDragging=!0,B(this.cd))}disableDragging(){this.accessDragging&&(this.accessDragging=!1,B(this.cd))}resizeColumn({event:e,key:r},o){this.recheckViewportChecked(),this.disableDragging(),this.resize.resize(e,o,s=>this.calculateWidth(r,s),()=>this.afterCalculateWidth()),e.preventDefault()}filter(e){this.ngZone.runOutsideAngular(()=>{window.clearInterval(this.filterIdTask??0),this.filteringRun=!0,B(this.cd),this.filterIdTask=window.setTimeout(()=>{this.sortAndFilter().then(()=>{this.reCheckDefinitions(),e?.(),this.filteringRun=!1,B(this.cd)})},vd)})}async sortAndFilter(){await this.sortAndFilterOriginalSource(),this.selection.rows=this.source(),this.ngZone.runOutsideAngular(()=>{window.clearTimeout(this.onChangesId),this.onChangesId=window.setTimeout(()=>{this.onChanges.emit(this.sourceRef)})})}sortByKey(e){this.sortable.updateSortKey(e),this.sortAndFilter().then(()=>this.reCheckDefinitions())}drop({previousIndex:e,currentIndex:r}){let o=this.visibleColumns[e],s=this.visibleColumns[r];this.isDragMoving=!1,this.draggable.drop(o,s),this.changeSchema()}changeSchema(e=null){let r=this.templateParser.schema?.exportColumns(),o=e??r,s={expanded:this.expanded};if(f(o)){let a={columns:o,generalTableSettings:s,name:this.name(),version:this.schemaVersion()};this.viewChanges.update(a),this.schemaChanges.emit(a),this.idleDetectChanges()}}idleDetectChanges(){this.ngZone.runOutsideAngular(()=>{window.cancelAnimationFrame(this.idleDetectChangesId??0),this.idleDetectChangesId=window.requestAnimationFrame(()=>B(this.cd))})}getSelectedItems(){return this.sourceRef.filter(e=>f(this.selectionModel.entries[e[this.primaryKey()]]))}reCheckDefinitions(){this.filterable.definition=K({},this.filterable.definition),this.filterable.changeFilteringStatus(),this.calculateViewport(!0),window.setTimeout(()=>{this.app.destroyed||this.app.tick()},Cd)}forceCalculateViewport(){this.updateViewportInfo(this.viewPortInfo.startIndex??0,this.viewPortInfo.endIndex??0)}getKeys(){return Object.keys(this.firstItem)}generateCustomModelColumnsKeys(){return this.excluding(this.keys())}generateModelColumnKeys(){return this.excluding(this.getModelKeys())}getModelKeys(){return Ln(this.firstItem)}calculateColumnWidthSummary(){this.isDragMoving||this.ngZone.runOutsideAngular(()=>{clearInterval(this.columnFrameId??0),this.columnFrameId=window.setTimeout(()=>{let e=0;for(let r of this.columnList())e+=r.nativeElement.offsetWidth;this.columnListWidth=e,this.idleDetectChanges()},xd)})}async sortAndFilterOriginalSource(){if(this.source[Be].value=this.originalSource??[],this.shouldBeFiltered){let e=await this.filterable.filter(this.source()??[]);this.source[Be].value=e.source,e.fireSelection()}this.shouldBeSorted&&(this.source[Be].value=await this.sortable.sort(this.source()??[]))}calculateWidth(e,r){this.isDragging[e]=!0,this.calculateColumnWidthSummary(),this.onMouseResizeColumn(e,r)}afterCalculateWidth(){this.isDragging={},this.recheckViewportChecked(),this.changeSchema()}onMouseResizeColumn(e,r){this.templateParser.mutateColumnSchema(e,{width:r}),this.idleDetectChanges()}excluding(e){return this.excludeKeys().length>0?e.filter(r=>!this.excludeKeys().some(o=>o instanceof RegExp?!!r.match(o):r===o)):e}};t.\u0275fac=function(r){return new(r||t)},t.\u0275dir=V({type:t,contentQueries:function(r,o,s){r&1&&(ke(s,o.columnOptions,Zi,5),ke(s,o.columnTemplates,Lt,4),ke(s,o.contextMenuTemplate,Hi,5),ke(s,o.ngxEmptyContent,zi,5,ce),ke(s,o.headerTemplate,Ki,5),ke(s,o.footerTemplate,Wi,5),ke(s,o.filterTemplate,$i,5)),r&2&&Ne(7)},viewQuery:function(r,o){r&1&&(Ue(o.scrollContainer,Dd,5),Ue(o.columnList,wd,5)),r&2&&Ne(2)},inputs:{height:[1,"height"],width:[1,"width"],source:[1,"source"],keys:[1,"keys"],striped:[1,"striped"],name:[1,"name"],skipSort:[1,"skip-sort","skipSort"],sortTypes:[1,"sort-types","sortTypes"],filterDefinition:[1,"filter-definition","filterDefinition"],excludeKeys:[1,"exclude-keys","excludeKeys"],autoWidth:[1,"auto-width","autoWidth"],autoHeightDetect:[1,"auto-height","autoHeightDetect"],nativeScrollbar:[1,"native-scrollbar","nativeScrollbar"],primaryKey:[1,"primary-key","primaryKey"],verticalBorder:[1,"vertical-border","verticalBorder"],enableSelection:[1,"enable-selection","enableSelection"],enableFiltering:[1,"enable-filtering","enableFiltering"],disableDeepPath:[1,"disable-deep-path","disableDeepPath"],produceDisableFn:[1,"produce-disable-fn","produceDisableFn"],rowCssClasses:[1,"row-css-classes","rowCssClasses"],schemaColumns:[1,"schema-columns","schemaColumns"],schemaVersion:[1,"schema-version","schemaVersion"],isVirtualTable:[1,"is-virtual-table","isVirtualTable"],headHeight:[1,"head-height","headHeight"],rowHeight:[1,"row-height","rowHeight"]},outputs:{afterRendered:"afterRendered",schemaChanges:"schemaChanges",onChanges:"onChanges",sortChanges:"sortChanges"},features:[Me]});let n=t;return n})();var cr=(()=>{let t=class t{constructor(){this.view=d(ht),this.template=d(Xe),this.ngZone=d(M),this.cache=new Map,this._source=[],this._indexes=[],this.dirty=!1,this.virtualForDiffIndexes=u(),this.virtualForOriginSource=u(this._source),this.virtualForOf=u(this._indexes),this.listenToIndexesChanges(),this.listenToOriginSourceChanges()}listenToIndexesChanges(){mt(()=>{let e=this.virtualForOf();this.ngZone.runOutsideAngular(()=>{this.initFrameId=window.requestAnimationFrame(()=>{W(this._source)||this._indexes===e||(this._indexes=e??[],this.removeOldNodes(),this.createNewNodes(this._indexes))})})})}listenToOriginSourceChanges(){mt(()=>{let e=this.virtualForOriginSource();this._source!==e&&(this._source=e??[],this.dirty=!0)})}get sourceRef(){return this._source??[]}ngOnDestroy(){window.cancelAnimationFrame(this.initFrameId??0),window.cancelAnimationFrame(this.removeFrameId??0),this.view.clear()}createNewNodes(e){for(let r of e??[])this.createEmbeddedViewByIndex(r)}createEmbeddedView(e,r){let o=this.view.createEmbeddedView(this.template,{$implicit:e,virtualIndex:r,index:r.position});B(o),this.cache.set(r.position,[e,o])}createEmbeddedViewByIndex(e){let r=this.sourceRef[e.position],o=this.cache.get(e.position);if(f(o)){let[s,a]=o;if(f(r)&&r!==s){let l=this.view.indexOf(a);this.view.remove(l),this.createEmbeddedView(r,e)}}else f(r)&&this.createEmbeddedView(r,e)}removeOldNodes(){if(this.dirty){this.dirty=!1;return}for(let e of this.virtualForDiffIndexes()??[])this.removeFrameId=window.requestAnimationFrame(()=>this.removeEmbeddedViewByIndex(e))}removeEmbeddedViewByIndex(e){let r=this.cache.get(e);if(f(r)){let[,o]=r,s=this.view.indexOf(o);this.cache.delete(e),s>-1&&this.view.remove(s)}}};t.\u0275fac=function(r){return new(r||t)},t.\u0275dir=V({type:t,selectors:[["","virtualFor","","virtualForOf",""]],inputs:{virtualForDiffIndexes:[1,"virtualForDiffIndexes"],virtualForOriginSource:[1,"virtualForOriginSource"],virtualForOf:[1,"virtualForOf"]}});let n=t;return n})();var ur=(()=>{let t=class t{transform(e,r){return f(r)?r(e):!1}};t.\u0275fac=function(r){return new(r||t)},t.\u0275pipe=ee({name:"disableRow",type:t,pure:!0});let n=t;return n})();function _l(n){return n.trim().replaceAll(/<!--.*?-->/g,"")}var Sd=n=>({$implicit:n});function Ed(n,t){}function Td(n,t){if(n&1&&(Qt(0,Ed,0,0,"ng-template",2),he(1,"deepPath"),he(2,"defaultValue")),n&2){let i,e,r=y();X("ngTemplateOutlet",(i=r.columnSchema())==null||i.td==null?null:i.td.template)("ngTemplateOutletContext",as(9,Sd,((e=r.columnSchema())==null||e.td==null?null:e.td.context)===r.contextType.CELL?!((e=r.columnSchema())==null||e.td==null)&&e.td.useDeepPath&&!r.disableDeepPath()?mn(1,2,r.item(),(e=r.columnSchema())==null?null:e.key,(e=r.columnSchema())==null?null:e.stub):it(2,6,r.item()[r.$castKey((e=r.columnSchema())==null?null:e.key)],(e=r.columnSchema())==null?null:e.stub):r.item()))}}function Id(n,t){if(n&1&&(te(0,"ngx-filter-viewer",3),he(1,"deepPath"),he(2,"defaultValue")),n&2){let i,e,r=y(2);X("index",r.index())("key",(i=r.columnSchema())==null?null:i.key)("text",!((e=r.columnSchema())==null||e.td==null)&&e.td.useDeepPath&&!r.disableDeepPath()?mn(1,3,r.item(),(e=r.columnSchema())==null?null:e.key,(e=r.columnSchema())==null?null:e.stub):it(2,7,r.item()[r.$castKey((e=r.columnSchema())==null?null:e.key)],(e=r.columnSchema())==null?null:e.stub))}}function Rd(n,t){if(n&1&&(At(0),he(1,"deepPath"),he(2,"defaultValue")),n&2){let i,e=y(2);mi(" ",!((i=e.columnSchema())==null||i.td==null)&&i.td.useDeepPath&&!e.disableDeepPath()?mn(1,1,e.item(),(i=e.columnSchema())==null?null:i.key,(i=e.columnSchema())==null?null:i.stub):it(2,5,e.item()[e.$castKey((i=e.columnSchema())==null?null:i.key)],(i=e.columnSchema())==null?null:i.stub)," ")}}function Ad(n,t){if(n&1&&k(0,Id,3,10,"ngx-filter-viewer",3)(1,Rd,3,8),n&2){let i=y();N(i.isFilterable()||i.enableFiltering()?0:1)}}var Pd=1500,dr=(()=>{let t=class t{constructor(){this.cd=d(_e),this.ngZone=d(M),this.destroy$=new x,this.closeButtonSelector="table-close__button",this.overflowSelector="table-grid__cell-overflow-content",this.timeIdle=Pd,this.nodeSubscription=null,this.closeElemSub=null,this.timeoutShowedFrameId=null,this.timeoutOverflowId=null,this.item=u(null),this.index=u(null),this.parent=u(null),this.isRendered=u(!1),this.isFilterable=u(!1,{alias:"is-filterable"}),this.columnSchema=u(null,{alias:"column-schema"}),this.enableFiltering=u(!1,{alias:"enable-filtering"}),this.viewportInfo=u(null,{alias:"viewport-info"}),this.disableDeepPath=u(!1,{alias:"disable-deep-path"}),this.contextType=Gt}get overflowContentElem(){return document.querySelector(`.${this.overflowSelector}`)}get overflowCloseElem(){return document.querySelector(`.${this.closeButtonSelector}`)}ngOnDestroy(){this.removeElement(),window.clearTimeout(this.timeoutOverflowId??0),window.clearTimeout(this.timeoutShowedFrameId??0),this.destroy$.next(),this.destroy$.complete()}mouseEnterCell(e,r){bt(this.columnSchema()?.overflowTooltip)||H(this.viewportInfo()?.isScrolling)||this.detectCheckOverflow(e,r)}mouseLeaveCell(e){let r=e.relatedTarget===this.overflowContentElem;bt(this.columnSchema()?.overflowTooltip)||H(r)||(this.removeElement(),window.clearInterval(this.timeoutShowedFrameId??0))}$castKey(e){return e}isEllipsisActive(e){return e.offsetWidth>(this.parent()?.offsetWidth??0)||e.offsetHeight>(this.parent()?.offsetHeight??0)||e.scrollWidth>e.offsetWidth||e.scrollHeight>e.offsetHeight}detectCheckOverflow(e,r){window.clearInterval(this.timeoutShowedFrameId??0),this.ngZone.runOutsideAngular(()=>{this.timeoutShowedFrameId=window.setTimeout(()=>{(H(this.viewportInfo()?.isScrolling)?!1:this.isEllipsisActive(e))&&(this.removeElement(),this.showTooltip(e,r))},this.timeIdle)})}showTooltip(e,r){if(_l(e.innerText).length===0){this.removeElement();return}let s=document.createElement("div");s.classList.add(this.overflowSelector);let a=15,l=r.clientX-a,c=r.clientY-a;s.style.cssText=`left: ${l}px; top: ${c}px`,document.body.appendChild(s);let h=String(e.innerText||"").trim();this.overflowContentElem.innerHTML=`<div class="${this.closeButtonSelector}"></div>${h}`,this.nodeSubscription=Ye(s,"mouseleave").pipe(Z(this.destroy$)).subscribe(()=>this.removeElement()),this.closeElemSub=Ye(this.overflowCloseElem,"click").pipe(Z(this.destroy$)).subscribe(()=>this.removeElement()),this.ngZone.runOutsideAngular(()=>{this.timeoutOverflowId=window.setTimeout(()=>{H(this.viewportInfo()?.isScrolling)?this.removeElement():this.overflowContentElem.classList.add("visible")},we.TIME_IDLE)})}removeElement(){f(this.overflowContentElem)&&(this.overflowContentElem.classList.remove("visible"),this.ngZone.runOutsideAngular(()=>{window.setTimeout(()=>{f(this.overflowContentElem)&&this.overflowContentElem.parentNode?.removeChild(this.overflowContentElem),this.nodeSubscription?.unsubscribe(),this.closeElemSub?.unsubscribe()},we.TIME_IDLE)}))}};t.\u0275fac=function(r){return new(r||t)},t.\u0275cmp=O({type:t,selectors:[["table-cell"]],inputs:{item:[1,"item"],index:[1,"index"],parent:[1,"parent"],isRendered:[1,"isRendered"],isFilterable:[1,"is-filterable","isFilterable"],columnSchema:[1,"column-schema","columnSchema"],enableFiltering:[1,"enable-filtering","enableFiltering"],viewportInfo:[1,"viewport-info","viewportInfo"],disableDeepPath:[1,"disable-deep-path","disableDeepPath"]},decls:4,vars:1,consts:[["divElement",""],[1,"table-grid__cell--inner-content",3,"mouseenter","mouseleave"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],[3,"index","key","text"]],template:function(r,o){if(r&1){let s=ne();E(0,"div",1,0),Q("mouseenter",function(l){A(s);let c=ae(1);return P(o.mouseEnterCell(c,l))})("mouseleave",function(l){return A(s),P(o.mouseLeaveCell(l))}),k(2,Td,3,11,null,2)(3,Ad,2,1),I()}if(r&2){let s;C(2),N(!((s=o.columnSchema())==null||s.td==null)&&s.td.template?2:3)}},dependencies:[qn,Jn,Ti,zn],encapsulation:2,changeDetection:0});let n=t;return n})();var Fd=()=>[];function Md(n,t){if(n&1){let i=ne();E(0,"div",4,0),he(2,"disableRow"),he(3,"mergeCssClasses"),Q("click",function(r){let o;A(i);let s=y().$implicit,a=y();return P(a.handleOnClick(s,(o=a.columnSchema())==null?null:o.key,r,(o=a.columnSchema())==null||o.td==null?null:o.td.onClick))})("contextmenu",function(r){let o;A(i);let s=y().$implicit,a=y();return P(a.openContextMenu(r,(o=a.columnSchema())==null?null:o.key,s))})("dblclick",function(r){let o;A(i);let s=y().$implicit,a=y();return P(a.handleDblClick(s,(o=a.columnSchema())==null?null:o.key,r,(o=a.columnSchema())==null||o.td==null?null:o.td.dblClick))})("selectstart",function(){A(i);let r=y(2);return P(r.canSelectTextInTable)}),E(4,"div",5),te(5,"table-cell",6),I()()}if(n&2){let i,e,r,o,s,a,l,c,h,p=ae(1),D=y(),g=D.$implicit,F=D.virtualIndex,_=y();be("max-height",((i=_.columnSchema())==null||i.td==null?null:i.td.height)||_.clientRowHeight(),"px")("min-height",((e=_.columnSchema())==null||e.td==null?null:e.td.height)||_.clientRowHeight(),"px")("transform","translateY("+F.offsetTop+"px)"),j("table-grid__cell--custom-cell",(r=_.columnSchema())==null?null:r.customColumn)("table-grid__cell--disable",it(2,32,g,_.produceDisableFn()))("table-grid__cell--enable-selection",_.enableSelection())("table-grid__cell--resizable",(o=_.columnSchema())==null?null:o.resizable)("table-grid__cell--selected",_.selectionMap()[g[_.primaryKey()]])("table-grid__cell--strip",F.stripped)("table-grid__cell--text-bold",(s=_.columnSchema())==null||s.td==null?null:s.td.textBold),X("ngClass",it(3,35,(a=_.columnSchema())==null||a.td==null?null:a.td.class,_.rowCssClasses()[g[_.primaryKey()]]))("ngStyle",((l=_.columnSchema())==null||l.td==null?null:l.td.style)||ft(38,Fd)),C(4),j("table-grid__cell--nowrap",!((c=_.columnSchema())!=null&&c.customColumn)&&((c=_.columnSchema())==null||c.td==null?null:c.td.nowrap)),C(),X("column-schema",_.columnSchema())("disable-deep-path",_.disableDeepPath())("enable-filtering",_.enableFiltering())("is-filterable",(h=_.columnSchema())==null?null:h.filterable)("isRendered",_.isRendered())("item",g)("parent",p)("viewport-info",_.viewportInfo())}}function Od(n,t){if(n&1&&(rs(0),k(1,Md,6,39,"div",3),os()),n&2){let i=t.$implicit;C(),N(i?1:-1)}}var kd=100,hr=(()=>{let t=class t{constructor(){this.cd=d(_e),this.ngZone=d(M),this.source=u(null),this.striped=u(!1),this.isRendered=u(!1),this.offsetTop=u(null,{alias:"offset-top"}),this.primaryKey=u(null,{alias:"primary-key"}),this.recalculated=u(null),this.headLineHeight=u(null,{alias:"head-height"}),this.viewportInfo=u(null,{alias:"viewport-info"}),this.virtualIndexes=u([],{alias:"virtual-indexes"}),this.enableSelection=u(!1,{alias:"enable-selection"}),this.enableFiltering=u(!1,{alias:"enable-filtering"}),this.disableDeepPath=u(!1,{alias:"disable-deep-path"}),this.tableViewport=u(null,{alias:"table-viewport"}),this.columnVirtualHeight=u(null,{alias:"column-virtual-height"}),this.selectedKeys=u([],{alias:"selected-keys"}),this.selectionMap=ds(()=>Object.fromEntries(this.selectedKeys().map(e=>[e,!0]))),this.contextMenuTemplate=u(null,{alias:"context-menu"}),this.produceDisableFn=u(null,{alias:"produce-disable-fn"}),this.clientRowHeight=u(null,{alias:"client-row-height"}),this.rowCssClasses=u({},{alias:"row-css-classes"}),this.columnSchema=u(null,{alias:"column-schema"}),this.changed=ie(),this.selection=d(Wt),this.contextMenu=d(Je)}get canSelectTextInTable(){return!this.selection.selectionStart.status}openContextMenu(e,r,o){f(this.contextMenuTemplate())&&this.ngZone.run(()=>{this.enableSelection()&&!this.checkSelectedItem(o)&&this.selection.selectRow(o,e),this.contextMenu.openContextMenu(e,r,o),this.changed.emit()})}handleDblClick(e,r,o,s){window.clearInterval(this.selection.selectionTaskIdle??0),this.handleEventEmitter(e,r,o,s)}handleOnClick(e,r,o,s){this.ngZone.run(()=>{this.enableSelection()&&(this.selection.selectionTaskIdle=window.setTimeout(()=>{this.selection.selectRow(e,o),this.changed.emit()},kd))}),this.handleEventEmitter(e,r,o,s)}generateTableCellInfo(e,r,o){return{row:e,event:o,value:at(e,r),preventDefault:()=>{window.clearInterval(this.selection.selectionTaskIdle??0)}}}handleEventEmitter(e,r,o,s){f(s)&&this.ngZone.runOutsideAngular(()=>{window.setTimeout(()=>{s.emit(this.generateTableCellInfo(e,r,o))})})}checkSelectedItem(e){return this.selection.selectionModel.get(e[this.primaryKey()])??!1}};t.\u0275fac=function(r){return new(r||t)},t.\u0275cmp=O({type:t,selectors:[["table-tbody"]],inputs:{source:[1,"source"],striped:[1,"striped"],isRendered:[1,"isRendered"],offsetTop:[1,"offset-top","offsetTop"],primaryKey:[1,"primary-key","primaryKey"],recalculated:[1,"recalculated"],headLineHeight:[1,"head-height","headLineHeight"],viewportInfo:[1,"viewport-info","viewportInfo"],virtualIndexes:[1,"virtual-indexes","virtualIndexes"],enableSelection:[1,"enable-selection","enableSelection"],enableFiltering:[1,"enable-filtering","enableFiltering"],disableDeepPath:[1,"disable-deep-path","disableDeepPath"],tableViewport:[1,"table-viewport","tableViewport"],columnVirtualHeight:[1,"column-virtual-height","columnVirtualHeight"],selectedKeys:[1,"selected-keys","selectedKeys"],contextMenuTemplate:[1,"context-menu","contextMenuTemplate"],produceDisableFn:[1,"produce-disable-fn","produceDisableFn"],clientRowHeight:[1,"client-row-height","clientRowHeight"],rowCssClasses:[1,"row-css-classes","rowCssClasses"],columnSchema:[1,"column-schema","columnSchema"]},outputs:{changed:"changed"},decls:2,vars:5,consts:[["parent",""],[1,"total-padding"],[4,"virtualFor","virtualForOf","virtualForOriginSource","virtualForDiffIndexes"],[1,"table-grid__cell","table-grid__cell--body",3,"table-grid__cell--custom-cell","table-grid__cell--disable","table-grid__cell--enable-selection","table-grid__cell--resizable","table-grid__cell--selected","table-grid__cell--strip","table-grid__cell--text-bold","ngClass","ngStyle","max-height","min-height","transform"],[1,"table-grid__cell","table-grid__cell--body",3,"click","contextmenu","dblclick","selectstart","ngClass","ngStyle"],[1,"table-grid__cell--content"],[3,"column-schema","disable-deep-path","enable-filtering","is-filterable","isRendered","item","parent","viewport-info"]],template:function(r,o){if(r&1&&(E(0,"div",1),Qt(1,Od,2,1,"ng-container",2),I()),r&2){let s;be("height",o.columnVirtualHeight(),"px"),C(),X("virtualForOf",o.virtualIndexes())("virtualForOriginSource",o.source())("virtualForDiffIndexes",(s=o.viewportInfo())==null?null:s.diffIndexes)}},dependencies:[ur,tr,ot,We,dr,cr],styles:[`table-tbody{display:block;overflow:hidden;position:relative}
`],encapsulation:2,changeDetection:0});let n=t;return n})();var yl=()=>[];function Ld(n,t){}function Bd(n,t){if(n&1&&Qt(0,Ld,0,0,"ng-template",2),n&2){let i,e=y();X("ngTemplateOutlet",(i=e.columnSchema())==null||i.th==null?null:i.th.template)}}function Vd(n,t){if(n&1&&(At(0),he(1,"titlecase")),n&2){let i,e=y(2);mi(" ",((i=e.columnSchema())==null||i.th==null?null:i.th.headTitle)||pt(1,1,(i=e.columnSchema())==null?null:i.key)," ")}}function jd(n,t){if(n&1&&k(0,Vd,2,3),n&2){let i,e=y();N(!((i=e.columnSchema())==null||i.th==null)&&i.th.emptyHead?-1:0)}}function Hd(n,t){if(n&1&&(E(0,"span",10),At(1),I()),n&2){let i,e=y(2);X("@fadeInLinear",void 0),C(),mi(" ",e.positionMap()[(i=e.columnSchema())==null?null:i.key]," ")}}function zd(n,t){if(n&1&&(E(0,"div",7),fi(),E(1,"svg",8),te(2,"path",9),I(),k(3,Hd,2,2,"span",10),I()),n&2){let i,e,r,o=y();j("table-grid__column--sortable--active",o.sortableDefinition()[(i=o.columnSchema())==null?null:i.key]),C(),j("table-grid-icon--sortable__asc",o.sortableDefinition()[(e=o.columnSchema())==null?null:e.key]===o.orderType.ASC)("table-grid-icon--sortable__desc",o.sortableDefinition()[(r=o.columnSchema())==null?null:r.key]===o.orderType.DESC),C(2),N(o.sortableCount()>1?3:-1)}}function Ud(n,t){if(n&1){let i=ne();E(0,"div",11),he(1,"isFilled"),Q("click",function(r){let o;A(i);let s=y();return P((o=s.columnSchema())!=null&&o.filterable?s.openFilter((o=s.columnSchema())==null?null:o.key,r):null)}),fi(),E(2,"svg",12),te(3,"polygon",13),I()()}if(n&2){let i,e=y();j("table-grid__column--filterable--active",pt(1,2,e.filterableDefinition()[(i=e.columnSchema())==null?null:i.key]))}}function $d(n,t){if(n&1){let i=ne();E(0,"div",14),Q("click",function(r){return A(i),P(r.stopPropagation())})("mousedown",function(r){let o;A(i);let s=y();return P(s.resizing.emit({event:r,key:(o=s.columnSchema())==null?null:o.key}))}),te(1,"div",15),I()}}var fr=(()=>{let t=class t{constructor(){this.filterable=d(Ke),this.columnWidth=u(0,{alias:"column-width"}),this.headHeight=u(null,{alias:"head-height"}),this.sortableDefinition=u({},{alias:"sortable-definition"}),this.positionMap=u({},{alias:"sortable-position"}),this.sortableCount=u(0,{alias:"sortable-count"}),this.filterableDefinition=u({},{alias:"filterable-definition"}),this.clientRowHeight=u(null,{alias:"client-row-height"}),this.columnSchema=u(null,{alias:"column-schema"}),this.resizing=ie(),this.sortByKey=ie(),this.openContextMenu=ie(),this.orderType=Dt,this.limit=90}openContextMenuHandler(e){this.openContextMenu.emit(e)}sortIfEnabled(){let e=this.columnSchema(),r=e?.key;if(f(r)){let o=H(e?.sortable),s=f(this.sortableDefinition()[r]);(o||s)&&this.sortByKey.emit(r)}}openFilter(e,r){f(e)&&this.filterable.openFilter(e,r),r.stopPropagation(),r.preventDefault()}};t.\u0275fac=function(r){return new(r||t)},t.\u0275cmp=O({type:t,selectors:[["table-thead"]],hostBindings:function(r,o){r&1&&Q("contextmenu",function(a){return o.openContextMenuHandler(a)})},inputs:{columnWidth:[1,"column-width","columnWidth"],headHeight:[1,"head-height","headHeight"],sortableDefinition:[1,"sortable-definition","sortableDefinition"],positionMap:[1,"sortable-position","positionMap"],sortableCount:[1,"sortable-count","sortableCount"],filterableDefinition:[1,"filterable-definition","filterableDefinition"],clientRowHeight:[1,"client-row-height","clientRowHeight"],columnSchema:[1,"column-schema","columnSchema"]},outputs:{resizing:"resizing",sortByKey:"sortByKey",openContextMenu:"openContextMenu"},decls:8,vars:32,consts:[[1,"table-grid__cell","table-grid__header-cell",3,"click","ngClass","ngStyle"],[1,"table-grid__cell--content","table-grid__header-cell--content"],[3,"ngTemplateOutlet"],[1,"table-grid__header-cell-head--settings"],[1,"table-grid__column--sortable",3,"table-grid__column--sortable--active"],[1,"table-grid__column--filterable",3,"table-grid__column--filterable--active"],[1,"table-grid__column--resize"],[1,"table-grid__column--sortable"],["viewBox","0 0 512 512","xmlns","http://www.w3.org/2000/svg",1,"table-grid-icon--sortable"],["d","M128.4,189.3L233.4,89c5.8-6,13.7-9,22.4-9c8.7,0,16.5,3,22.4,9l105.4,100.3c12.5,11.9,12.5,31.3,0,43.2  c-12.5,11.9-32.7,11.9-45.2,0L288,184.4v217c0,16.9-14.3,30.6-32,30.6c-17.7,0-32-13.7-32-30.6v-217l-50.4,48.2  c-12.5,11.9-32.7,11.9-45.2,0C115.9,220.6,115.9,201.3,128.4,189.3z"],[1,"table-grid-icon--sortable-number"],[1,"table-grid__column--filterable",3,"click"],["fill","none","height","24","stroke-linecap","round","stroke-linejoin","round","stroke-width","2","viewBox","0 0 24 24","width","24","xmlns","http://www.w3.org/2000/svg",1,"table-grid-icon--filterable"],["points","22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3"],[1,"table-grid__column--resize",3,"click","mousedown"],[1,"table-grid__column--resize--line"]],template:function(r,o){if(r&1&&(E(0,"div",0),Q("click",function(){return o.sortIfEnabled()}),E(1,"div",1),k(2,Bd,1,1,null,2)(3,jd,1,1),I(),E(4,"div",3),k(5,zd,4,7,"div",4),k(6,Ud,4,4,"div",5),k(7,$d,2,0,"div",6),I()()),r&2){let s,a,l,c,h,p,D,g,F,_,S,oe,se,$,ye,Te,Fe;be("max-height",o.headHeight()||((s=o.columnSchema())==null||s.th==null?null:s.th.height)||o.clientRowHeight(),"px")("min-height",o.headHeight()||((a=o.columnSchema())==null||a.th==null?null:a.th.height)||o.clientRowHeight(),"px"),j("table-grid__cell--custom-cell",(l=o.columnSchema())==null?null:l.customColumn)("table-grid__cell--empty-head",(c=o.columnSchema())==null||c.th==null?null:c.th.emptyHead)("table-grid__cell--is-model-cell",(h=o.columnSchema())==null?null:h.isModel)("table-grid__cell--resizable",(p=o.columnSchema())==null?null:p.resizable)("table-grid__cell--text-bold",(D=o.columnSchema())==null||D.th==null?null:D.th.textBold)("table-grid__header-cell--is-clickable",(g=o.columnSchema())==null?null:g.sortable)("table-grid__header-cell--min-width",o.columnWidth()<o.limit),X("ngClass",((F=o.columnSchema())==null||F.th==null?null:F.th.class)||ft(30,yl))("ngStyle",((_=o.columnSchema())==null||_.th==null?null:_.th.style)||ft(31,yl)),C(),j("table-grid__cell--content-sortable-is-active",o.sortableDefinition()[(S=o.columnSchema())==null?null:S.key])("table-grid__cell--content-sortable",(oe=o.columnSchema())==null?null:oe.sortable)("table-grid__cell--nowrap",(se=o.columnSchema())==null||se.th==null?null:se.th.nowrap),C(),N(!(($=o.columnSchema())==null||$.th==null)&&$.th.template?2:3),C(3),N((ye=o.columnSchema())!=null&&ye.sortable?5:-1),C(),N((Te=o.columnSchema())!=null&&Te.filterable?6:-1),C(),N((Fe=o.columnSchema())!=null&&Fe.resizable?7:-1)}},dependencies:[er,ot,We,Ti,Hr],encapsulation:2,data:{animation:[Ut]},changeDetection:0});let n=t;return n})();var Gd=500,Wd=100,ci=(()=>{let t=class t{constructor(){this.element=d(ce),this.ngZone=d(M),this._destroy$=new x,this.minHeight=0,this.useOnlyAutoViewPort=!1,this.isDirtyCheck=!1,this.taskId=null,this.autoHeight=u({}),this.tableViewport=u({}),this.sourceRef=u([]),this.recalculatedHeight=ie()}get destroy$(){return this._destroy$}get canCalculated(){let e=this.autoHeight();return H(e.inViewport)&&e.sourceLength>0&&this.sourceRef().length>0}get style(){let e=null,r=this.autoHeight();if(De(r.rootHeight))e=r.rootHeight;else if(H(r.detect)){let o=t.getStyle(this.rootCurrentElement,"padding-top"),s=t.getStyle(this.rootCurrentElement,"padding-bottom");this.useOnlyAutoViewPort&&this.columnHeight>this.parentOffsetHeight?e=this.getHeightByViewPort({paddingTop:o,paddingBottom:s}):this.parentOffsetHeight>this.columnHeight?e=this.getDefaultHeight(this.parentOffsetHeight):this.isNotEmptyParentHeight?e=this.getHeightByParent({paddingTop:o,paddingBottom:s}):e=this.getHeightByViewPort({paddingTop:o,paddingBottom:s})}return f(e)?`display: block; height: ${e}`:""}get isNotEmptyParentHeight(){return!(this.parentOffsetHeight<parseInt(Vn))}get parentOffsetHeight(){return(this.rootCurrentElement.clientHeight??this.minHeight)-this.scrollbarHeight-2}get currentElement(){return this.element.nativeElement}get rootCurrentElement(){return this.currentElement.parentNode?.parentElement||{}}get columnHeight(){return this.autoHeight().columnHeight??0}get autoViewHeight(){return document.body.clientHeight-this.currentElement.getBoundingClientRect().top}get scrollbarHeight(){return(this.sourceRef().length===1?12:(this.tableViewport().offsetHeight??0)-(this.tableViewport().clientHeight??0))+2}get headerHeight(){return this.autoHeight().headerHeight??0}get footerHeight(){return this.autoHeight().footerHeight??0}static getStyle(e,r){let o="0px",s=r;if(document.defaultView&&f(document.defaultView.getComputedStyle))try{o=document.defaultView.getComputedStyle(e,"").getPropertyValue(s)}catch{o="0px"}else f(e.currentStyle)&&(s=s.replaceAll(/-(\w)/g,(a,l)=>l.toUpperCase()),o=e.currentStyle[s]);return o}ngOnInit(){this.ngZone.runOutsideAngular(()=>{Ye(window,"resize",{passive:!0}).pipe(jo(Gd),Z(this._destroy$)).subscribe(()=>this.recalculateTableSize())})}ngOnChanges(e){"autoHeight"in e&&this.recalculateTableSize()}ngOnDestroy(){this._destroy$.next(!0),this._destroy$.complete()}recalculateTableSize(){this.ngZone.runOutsideAngular(()=>{window.clearTimeout(this.taskId??0),this.taskId=window.setTimeout(()=>{this.canCalculated&&!this.isDirtyCheck&&this.markForCheck(),this.isDirtyCheck&&H(this.autoHeight().inViewport)&&(this.calculateHeight(),this.recalculatedHeight.emit())},Wd)})}calculateHeight(){this.canCalculated&&this.setHeightByParent()}markForCheck(){this.isDirtyCheck=!0,this.parentOffsetHeight<=we.ROW_HEIGHT&&(this.useOnlyAutoViewPort=!0)}getDefaultHeight(e){let r=this.columnHeight+this.scrollbarHeight+this.headerHeight+this.footerHeight;return f(e)&&(r=r>e?e:r),`calc(${r}px)`}getHeightByParent({paddingTop:e,paddingBottom:r}){return`calc(${this.parentOffsetHeight-parseInt(Vn)}px - ${e.trim()||"0px"} - ${r.trim()||"0px"})`}getHeightByViewPort({paddingTop:e,paddingBottom:r}){let o=this.autoViewHeight-parseInt(Vn);return this.columnHeight>o?`calc(${o}px - ${e.trim()||"0px"} - ${r.trim()||"0px"} - ${this.scrollbarHeight}px)`:this.getDefaultHeight()}setHeightByParent(){this.currentElement.setAttribute("style",this.style)}};t.\u0275fac=function(r){return new(r||t)},t.\u0275dir=V({type:t,selectors:[["","autoHeight",""]],inputs:{autoHeight:[1,"autoHeight"],tableViewport:[1,"tableViewport"],sourceRef:[1,"sourceRef"]},outputs:{recalculatedHeight:"recalculatedHeight"},features:[Me]});let n=t;return n})();var pr=(()=>{let t=class t{constructor(){this.element=d(ce),this.ngZone=d(M),this.observer=null,this.previousRation=0,this.frameId=null,this.observerRoot=u(),this.observerRootMargin=u(),this.observeVisible=ie()}ngAfterViewInit(){this.ngZone.runOutsideAngular(()=>{this.observer=new IntersectionObserver(e=>{for(let r of e)this.ngZone.runOutsideAngular(()=>this.observeChange(r)),this.previousRation=r.intersectionRatio},{root:this.observerRoot()??null,rootMargin:this.observerRootMargin()??"0px 0px 0px 0px",threshold:[0]}),this.observer?.observe?.(this.element.nativeElement)})}ngOnDestroy(){this.element={nativeElement:null},cancelAnimationFrame(this.frameId??0),f(this.observer)&&this.observer?.disconnect?.()}observeChange(e){let r=e.intersectionRatio>this.previousRation||e.isIntersecting;cancelAnimationFrame(this.frameId??0),this.frameId=window.requestAnimationFrame(()=>this.observeVisible.emit(r))}};t.\u0275fac=function(r){return new(r||t)},t.\u0275dir=V({type:t,selectors:[["","observerView",""]],inputs:{observerRoot:[1,"observerRoot"],observerRootMargin:[1,"observerRootMargin"]},outputs:{observeVisible:"observeVisible"}});let n=t;return n})();function rn(n){return Array.isArray(n)?n.reduce((t,i)=>t+(i?.nativeElement?.clientHeight??0),0):n?.nativeElement?.clientHeight??0}var mr=(()=>{let t=class t{transform(e){return rn(e)}};t.\u0275fac=function(r){return new(r||t)},t.\u0275pipe=ee({name:"getClientHeight",type:t,pure:!1});let n=t;return n})();var gr=(()=>{let t=class t{transform(e){return`calc(100% - ${e}px)`}};t.\u0275fac=function(r){return new(r||t)},t.\u0275pipe=ee({name:"getFreeSizePipe",type:t,pure:!0});let n=t;return n})();var Kd=["header"],Zd=["footer"],Yd=[[["ngx-header"]],[["ngx-empty"]],[["ngx-source-null"]],[["ngx-footer"]],[["ngx-context-menu"]],[["ngx-filter"]]],Xd=["ngx-header","ngx-empty","ngx-source-null","ngx-footer","ngx-context-menu","ngx-filter"],Qd=(n,t,i,e,r,o,s)=>({detect:n,rootHeight:t,inViewport:!0,columnHeight:i,statusRendered:e,sourceLength:r,headerHeight:o,footerHeight:s}),qd=(n,t)=>[n,t],Dl=()=>[],Jd=(n,t)=>t.key;function eh(n,t){n&1&&(E(0,"div"),J(1,1),I())}function th(n,t){n&1&&(E(0,"div"),J(1,2),I())}function ih(n,t){n&1&&(E(0,"div",7),At(1,"filtering..."),I())}function nh(n,t){if(n&1&&(te(0,"div",8),he(1,"safe")),n&2){let i,e=y();X("innerHTML",it(1,1,(i=e.ngxEmptyContent())==null||i.nativeElement==null?null:i.nativeElement.innerHTML,"html"),fn)}}function rh(n,t){if(n&1){let i=ne();E(0,"div")(1,"table-thead",15),Q("mouseenter",function(){A(i);let r=y(2).$implicit,o=y();return P(o.enableDragging(r.key))})("mouseleave",function(){A(i);let r=y(3);return P(r.disableDragging())})("openContextMenu",function(r){A(i);let o=y(2).$implicit,s=y();return P(s.openContextMenuWithKey(r,o.key))})("resizing",function(r){A(i),y();let o=ae(1),s=y(2);return P(s.resizeColumn(r,o))})("sortByKey",function(r){A(i);let o=y(3);return P(o.sortByKey(r))}),I(),E(2,"table-tbody",16),Q("changed",function(){A(i);let r=y(3);return P(r.idleDetectChanges())}),I()()}if(n&2){y();let i=ae(1),e=y().$implicit,r=y(),o=ae(12);X("@fadeInLinear",void 0),C(),X("client-row-height",r.clientRowHeight)("column-schema",e)("column-width",i.offsetWidth)("filterable-definition",r.filterable.definition)("head-height",r.headLineHeight)("sortable-count",r.sortable.sortableCount)("sortable-definition",r.sortable.definition)("sortable-position",r.sortable.positionMap),C(),X("client-row-height",r.clientRowHeight)("column-schema",e)("column-virtual-height",r.columnVirtualHeight)("context-menu",r.contextMenuTemplate())("disable-deep-path",r.disableDeepPath())("enable-filtering",r.isEnableFiltering)("enable-selection",r.isEnableSelection)("head-height",r.headLineHeight)("isRendered",r.isRendered)("offset-top",r.viewPortInfo.scrollTop)("primary-key",r.primaryKey())("produce-disable-fn",r.produceDisableFn())("recalculated",r.recalculated)("row-css-classes",r.rowCssClasses())("selected-keys",r.selectedKeyList)("source",r.source())("striped",r.striped())("table-viewport",o)("viewport-info",r.viewPortInfo)("virtual-indexes",r.viewPortInfo.virtualIndexes)}}function oh(n,t){if(n&1){let i=ne();E(0,"div",14,4),Q("cdkDragMoved",function(r){A(i);let o=y(2),s=ae(3);return P(o.cdkDragMoved(r,s))})("observeVisible",function(r){A(i);let o=ae(1),s=y(2);return P(s.markVisibleColumn(o,r))}),k(2,rh,3,29,"div"),I()}if(n&2){let i=ae(1),e=y().$implicit,r=y(),o=ae(12),s=ae(16);be("max-width",e==null?null:e.width,"px")("min-width",e==null?null:e.width,"px")("width",e==null?null:e.width,"px"),j("table-grid__column--auto-width-reset-default-with",r.isEnableAutoWidthColumn)("table-grid__column--custom-column",e==null?null:e.customColumn)("table-grid__column--default-width",!(e!=null&&e.width))("table-grid__column--filter-enable",r.filterTemplate())("table-grid__column--is-draggable",(e==null?null:e.isModel)&&(e==null?null:e.draggable))("table-grid__column--is-dragging",r.isDragging[e.key])("table-grid__column--is-invisible",!i.visible)("table-grid__column--is-sortable",e==null?null:e.sortable)("table-grid__column--is-visible",i.visible)("table-grid__column--selected-all",r.selection.selectionModel.isAll)("table-grid__column--sticky-left",e==null?null:e.stickyLeft)("table-grid__column--sticky-right",e==null?null:e.stickyRight)("table-grid__column--vertical-line",r.verticalBorder()!==!1||(e==null?null:e.verticalLine)!==!1)("table-grid__column--with-footer-content",r.footerTemplate()),X("@fadeInLinear",void 0)("cdkDragBoundary",s)("cdkDragDisabled",!r.accessDragging)("ngClass",(e==null?null:e.cssClass)||ft(42,Dl))("ngStyle",(e==null?null:e.cssStyle)||ft(43,Dl))("observerRoot",o),qt("column-id",e.key),C(2),N(i.visible?2:-1)}}function sh(n,t){if(n&1&&k(0,oh,3,44,"div",13),n&2){let i=t.$implicit;N(i.isVisible?0:-1)}}function ah(n,t){n&1&&(E(0,"div",12,5),J(2,3),I())}function lh(n,t){n&1&&J(0,4)}function ch(n,t){n&1&&J(0,5)}var{TIME_IDLE:wl,TIME_RELOAD:Io,FRAME_TIME:uh,MACRO_TIME:dh,CHANGE_DELAY:hh,MIN_BUFFER:vl,BUFFER_OFFSET:fh}=we,_r=(()=>{let t=class t extends gl{constructor(){super(...arguments),this.forcedRefresh=!1,this._destroy$=new x,this.timeoutCheckedTaskId=null,this.timeoutScrolledId=null,this.timeoutViewCheckedId=null,this.frameCalculateViewportId=null,this.selectionUpdateTaskId=null,this.changesTimerId=0,this.headerRef=Qe("header"),this.footerRef=Qe("footer"),this.autoHeight=Qe(ci),this.dirty=!0,this.rendering=!1,this.isRendered=!1,this.contentInit=!1,this.contentCheck=!1,this.recalculated={recalculateHeight:!1},this.sourceIsNull=!1,this.afterViewInitDone=!1,this.injector=d(Ve)}get destroy$(){return this._destroy$}get selectedKeyList(){return this.selection.selectionModel.selectedList}get sourceExists(){return this.sourceRef.length>0}get rootHeight(){let e=this.expandableTableExpanded?this.height():rn(this.headerRef())+rn(this.footerRef());if(De(e)){let r=Number(e);return isNaN(r)?String(e):`${e}px`}return""}get expandableTableExpanded(){let e=this.headerTemplate();return W(e)||!xe(e.expandablePanel())||xe(e.expanded())}get viewIsDirty(){return this.contentCheck&&!this.forcedRefresh}get needUpdateViewport(){return this.viewPortInfo.prevScrollOffsetTop!==this.scrollOffsetTop}get viewportHeight(){return this.scrollContainer().nativeElement.offsetHeight}get scrollOffsetTop(){return this.scrollContainer().nativeElement.scrollTop}openContextMenu(e){f(this.contextMenuTemplate())&&this.contextMenu.openContextMenu(e)}openContextMenuWithKey(e,r){f(this.contextMenuTemplate())&&this.contextMenu.openContextMenu(e,r)}checkSourceIsNull(){return!("length"in(this.source()||{}))}recalculateHeight(){this.recalculated={recalculateHeight:!0},this.forceCalculateViewport(),this.idleDetectChanges()}ngOnChanges(e){this.checkCorrectInitialSchema(e),this.sourceIsNull=this.checkSourceIsNull(),"skipSort"in e&&this.sortable.setSkipSort(this.isSkippedInternalSort),this.checkIfKeysAreDifferent()?this.preRenderTable():"source"in e&&this.isRendered&&this.preSortAndFilterTable(),"sortTypes"in e&&this.setSortTypes(),this.handleFilterDefinitionChanges(e),clearTimeout(this.changesTimerId),this.changesTimerId=window.setTimeout(()=>this.updateViewport(),hh)}markForCheck(){this.contentCheck=!0}ngOnInit(){this.isEnableSelection&&(this.selection.listenShiftKey(),this.selection.primaryKey=this.primaryKey(),this.selection.selectionModeIsEnabled=!0,this.selection.setProducerDisableFn(this.produceDisableFn())),this.sortable.setSortChanges(this.sortChanges)}markVisibleColumn(e,r){e.visible=r,this.idleDetectChanges()}ngAfterContentInit(){this.markDirtyCheck(),this.markTemplateContentCheck(),this.sourceExists&&this.render(),this.listenExpandChange()}ngAfterViewInit(){this.listenTemplateChanges(),this.listenFilterResetChanges(),this.listenSelectionChanges(),this.listenColumnListChanges(),this.recheckTemplateChanges(),this.afterViewInitChecked()}cdkDragMoved(e,r){this.isDragMoving=!0;let o=e.source._dragRef._preview.element,s=r.getBoundingClientRect().top,a=o.style?.transform??"",[l,,c]=a.replaceAll(/translate3d|\(|\)|px/g,"").split(",").map(h=>parseFloat(h));o.style.transform=`transform: translate3d(${l}px, ${s}px, ${c}px);`}ngAfterViewChecked(){this.viewIsDirty&&this.viewForceRefresh()}ngOnDestroy(){window.clearTimeout(this.timeoutScrolledId??0),window.clearTimeout(this.timeoutViewCheckedId??0),window.clearTimeout(this.timeoutCheckedTaskId??0),window.cancelAnimationFrame(this.frameCalculateViewportId??0),this.templateParser.schema=null,this._destroy$.next(!0),this._destroy$.complete()}markTemplateContentCheck(){this.contentInit=f(this.source())||eo(this.columnTemplates()?.length)}markDirtyCheck(){this.dirty=!1}generateColumnsKeyMap(e){let r={};for(let o of e)r[o]=!0;return r}render(){this.contentCheck=!1,this.ngZone.run(()=>{window.setTimeout(()=>{this.renderTable(),this.idleDetectChanges()},wl)})}renderTable(){if(this.rendering)return;this.rendering=!0;let e=this.generateDisplayedColumns();this.syncDrawColumns(e),this.emitRendered()}toggleColumnVisibility(e){f(e)&&(this.recheckViewportChecked(),this.templateParser.toggleColumnVisibility(e),this.ngZone.runOutsideAngular(()=>{window.requestAnimationFrame(()=>{this.changeSchema(),this.recheckViewportChecked(),B(this.cd)})}))}updateColumnsSchema(e){this.templateParser.updateColumnsSchema(e),this.changeSchema()}resetSchema(){this.columnListWidth=0,this.schemaColumns[Be].value=null,B(this.cd),this.renderTable(),this.changeSchema([]),this.ngZone.runOutsideAngular(()=>{window.setTimeout(()=>{this.tableViewportChecked=!0,this.calculateColumnWidthSummary(),B(this.cd)},wl)})}calculateViewport(e=!1){if(this.ignoreCalculate())return;let r=this.isDownMoved();this.viewPortInfo.prevScrollOffsetTop=this.scrollOffsetTop;let o=this.getOffsetVisibleStartIndex(),s=this.calculateEndIndex(o),a=this.calculateBuffer(r,o,s);this.calculateViewPortByRange({start:o,end:s,bufferOffset:a,force:e}),this.viewPortInfo.bufferOffset=a}setSource(e){this.originalSource=this.source[Be].value=this.selection.rows=e}updateTableHeight(){this.autoHeight()?.calculateHeight(),B(this.cd)}filterBySubstring(e){this.filterable.filterValue=e?.toString(),this.filter()}calculateViewPortByRange({start:e,end:r,bufferOffset:o,force:s}){let a=e;if(this.startIndexIsNull())this.updateViewportInfo(a,r);else if(this.needRecalculateBuffer(o))a=this.recalculateStartIndex(a),this.updateViewportInfo(a,r),B(this.cd);else if(o<0||s){a=this.recalculateStartIndex(a),this.updateViewportInfo(a,r),B(this.cd);return}s&&this.idleDetectChanges()}startIndexIsNull(){return typeof this.viewPortInfo.startIndex!="number"}needRecalculateBuffer(e){return e<=fh&&e>=0}recalculateStartIndex(e){let r=e-vl;return r>=0?r:0}calculateBuffer(e,r,o){let s=this.getOffsetVisibleEndIndex();return e?(this.viewPortInfo.endIndex??o)-s:r-(this.viewPortInfo.startIndex??0)}calculateEndIndex(e){let r=e+this.getVisibleCountItems()+vl;return!this.isVirtualTable()||r>this.sourceRef.length?this.sourceRef.length:r}ignoreCalculate(){return W(this.source())||!this.viewportHeight}isDownMoved(){return this.scrollOffsetTop>(this.viewPortInfo.prevScrollOffsetTop??0)}updateViewportInfo(e,r){this.viewPortInfo.startIndex=e,this.viewPortInfo.endIndex=r,this.viewPortInfo.indexes=[],this.viewPortInfo.virtualIndexes=[];for(let o=2,s=e;s<r;s++)this.viewPortInfo.indexes.push(s),this.viewPortInfo.virtualIndexes.push({position:s,stripped:this.striped()?s%o===0:!1,offsetTop:s*this.clientRowHeight});this.createDiffIndexes(),this.viewPortInfo.scrollTop=e*this.clientRowHeight}checkCorrectInitialSchema(e={}){if("schemaColumns"in e){let r=e.schemaColumns;f(r?.currentValue)&&(W(this.name())&&console.error('Table name is required! Example: <ngx-table-builder name="my-table-name" />'),W(this.schemaVersion())&&console.error('Table version is required! Example: <ngx-table-builder [schema-version]="2" />'))}}setSortTypes(){this.sortable.setDefinition(K({},this.sortTypes())),this.sourceExists&&this.sortAndFilter().then(()=>this.reCheckDefinitions())}handleFilterDefinitionChanges(e){"filterDefinition"in e&&(this.filterable.setDefinition(this.filterDefinition()??[]),this.filter())}listenColumnListChanges(){mt(()=>{this.columnList(),this.calculateColumnWidthSummary()},{injector:this.injector})}checkIfKeysAreDifferent(){return this.sourceExists&&(this.getKeys().length!==this.renderedKeys.length||!this.renderedKeys.every(so(this.getKeys())))}createDiffIndexes(){this.viewPortInfo.diffIndexes=this.viewPortInfo.oldIndexes?this.viewPortInfo.oldIndexes.filter(e=>bt(this.viewPortInfo.indexes?.includes(e)??!1)):[],this.viewPortInfo.oldIndexes=this.viewPortInfo.indexes}listenFilterResetChanges(){this.filterable.resetEvents$.pipe(Z(this._destroy$)).subscribe(()=>{this.source[Be].value=this.originalSource,this.calculateViewport(!0)})}afterViewInitChecked(){this.ngZone.runOutsideAngular(()=>{this.timeoutViewCheckedId=window.setTimeout(()=>{this.afterViewInitDone=!0,this.listenScroll(),!this.isRendered&&!this.rendering&&this.sourceRef.length===0&&(this.emitRendered(),B(this.cd))},dh)})}listenScroll(){this.ngZone.runOutsideAngular(()=>{Ye(this.scrollContainer().nativeElement,"scroll",{passive:!0}).pipe(Lo(()=>(this.calculateViewport(!0),Oo)),Z(this._destroy$)).subscribe(()=>this.scrollHandler())})}scrollHandler(){this.needUpdateViewport&&this.ngZone.runOutsideAngular(()=>this.updateViewport())}updateViewport(){this.cancelScrolling(),this.frameCalculateViewportId=window.requestAnimationFrame(()=>this.calculateViewport())}cancelScrolling(){this.viewPortInfo.isScrolling=!0,window.cancelAnimationFrame(this.frameCalculateViewportId??0),this.ngZone.runOutsideAngular(()=>{window.clearTimeout(this.timeoutScrolledId??0),this.timeoutScrolledId=window.setTimeout(()=>{this.viewPortInfo.isScrolling=!1,B(this.cd)},Io)})}getOffsetVisibleEndIndex(){return Math.floor((this.scrollOffsetTop+this.viewportHeight)/this.clientRowHeight)-1}getVisibleCountItems(){return Math.ceil(this.viewportHeight/this.clientRowHeight-1)}getOffsetVisibleStartIndex(){return this.isVirtualTable()?Math.ceil(this.scrollOffsetTop/this.clientRowHeight):0}preSortAndFilterTable(){this.setSource(this.source()),this.sortAndFilter().then(()=>{this.reCheckDefinitions(),this.checkSelectionValue()})}preRenderTable(){this.tableViewportChecked=!1,this.renderedKeys=this.getKeys(),this.customModelColumnsKeys=this.generateCustomModelColumnsKeys(),this.modelColumnKeys=this.generateModelColumnKeys(),this.setSource(this.source());let e=!this.dirty;this.checkSelectionValue(),this.checkFilterValues(),e&&this.markForCheck(),e&&this.isRendered&&this.contentInit&&this.renderTable()}checkSelectionValue(){this.isEnableSelection&&this.selection.invalidate()}checkFilterValues(){if(this.isEnableFiltering){this.filterable.filterType=this.filterable.filterType??this.columnOptions()?.filterType()??pe.CONTAINS;for(let e of this.modelColumnKeys)this.filterable.filterTypeDefinition[e]=this.filterable.filterTypeDefinition[e]??this.filterable.filterType}}recheckTemplateChanges(){this.ngZone.runOutsideAngular(()=>{window.setTimeout(()=>B(this.cd),Io)})}listenSelectionChanges(){this.isEnableSelection&&this.selection.onChanges$.pipe(Z(this._destroy$)).subscribe(()=>{B(this.cd),this.tryRefreshViewModelBySelection()})}tryRefreshViewModelBySelection(){this.ngZone.runOutsideAngular(()=>{window.cancelAnimationFrame(this.selectionUpdateTaskId??0),this.selectionUpdateTaskId=window.requestAnimationFrame(()=>{this.app.destroyed||this.app.tick()})})}viewForceRefresh(){this.forcedRefresh=!0,this.ngZone.runOutsideAngular(()=>{window.clearTimeout(this.timeoutCheckedTaskId??0),this.timeoutCheckedTaskId=window.setTimeout(()=>{this.markTemplateContentCheck(),this.render(),this.forcedRefresh=!1},uh)})}listenTemplateChanges(){mt(()=>{this.columnTemplates().length&&(this.markForCheck(),this.markTemplateContentCheck())},{injector:this.injector}),f(this.contextMenuTemplate())&&this.contextMenu.events$.pipe(Z(this._destroy$)).subscribe(()=>B(this.cd))}syncDrawColumns(e){for(let[r,o]of e.entries()){let s=this.getCompiledColumnSchema(o,r);f(s)&&this.processedColumnList(s,o)}}getCustomColumnSchemaByIndex(e){return this.schemaColumns()?.columns?.[e]??{}}getCompiledColumnSchema(e,r){let o=this.getCustomColumnSchemaByIndex(r);if(!this.templateParser.compiledTemplates[e]){let a=ct(this.injector,()=>new Lt().withKey(e));this.templateParser.compileColumnMetadata(a)}let s=this.templateParser.compiledTemplates[e];return o.key===s?.key&&(this.templateParser.compiledTemplates[e]=K(K({},s),o)),this.templateParser.compiledTemplates[e]}processedColumnList(e,r){if(De(this.templateParser.schema??e)){let s=this.templateParser.compiledTemplates[r];f(s)&&this.templateParser.schema?.columns.push(s)}}emitRendered(){this.rendering=!1,this.calculateViewport(!0),this.recheckViewportChecked(),this.ngZone.runOutsideAngular(()=>{window.setTimeout(()=>{this.isRendered=!0,B(this.cd),this.recalculateHeight(),this.afterRendered.emit(this.isRendered),this.onChanges.emit(this.source()??null)},Io)})}generateDisplayedColumns(){let e;this.templateParser.initialSchema(this.columnOptions());let{simpleRenderedKeys:r,allRenderedKeys:o}=this.parseTemplateKeys();return this.validationSchemaColumnsAndResetIfInvalid()?e=this.schemaColumns()?.columns?.map(a=>a.key)??[]:this.keys().length>0?e=this.customModelColumnsKeys:r.size>0?e=o:e=this.modelColumnKeys,e}validationSchemaColumnsAndResetIfInvalid(){let e=this.schemaColumns(),r=f(e)&&(e?.columns?.length??0)>0;if(r){let o=this.schemaColumns(),s=o?.name===this.name(),a=o?.version===this.schemaVersion();(!s||!a)&&(r=!1,console.error("The table name or version is mismatched by your schema, your schema will be reset.","Current name:",this.name(),"Current version:",this.schemaVersion(),"Schema:",o),this.changeSchema([]))}return r}parseTemplateKeys(){let e=this.getModelKeys(),r=this.keys(),o=Bn(r)?r.filter(s=>e.includes(s)):e;return this.templateParser.keyMap=this.generateColumnsKeyMap(o),this.templateParser.allowedKeyMap=this.keys().length>0?this.generateColumnsKeyMap(this.customModelColumnsKeys):this.generateColumnsKeyMap(this.modelColumnKeys),this.templateParser.parse(this.columnTemplates()),{allRenderedKeys:Array.from(this.templateParser.fullTemplateKeys??[]),overridingRenderedKeys:this.templateParser.overrideTemplateKeys??new Set,simpleRenderedKeys:this.templateParser.templateKeys??new Set}}listenExpandChange(){this.headerTemplate()?.expandedChange.subscribe(()=>{this.updateTableHeight(),this.changeSchema()})}};t.\u0275fac=(()=>{let e;return function(o){return(e||(e=ge(t)))(o||t)}})(),t.\u0275cmp=O({type:t,selectors:[["ngx-table-builder"]],viewQuery:function(r,o){r&1&&(Ue(o.headerRef,Kd,5),Ue(o.footerRef,Zd,5),Ue(o.autoHeight,ci,5)),r&2&&Ne(3)},hostBindings:function(r,o){r&1&&Q("contextmenu",function(a){return o.openContextMenu(a)})},features:[Pt([li,lr,Wt,or,Je,Ke,rr]),ue,Me],ngContentSelectors:Xd,decls:22,vars:60,consts:[["root",""],["header",""],["tableViewport",""],["area",""],["column",""],["footer",""],[1,"table-grid__root",3,"recalculatedHeight","autoHeight","sourceRef","tableViewport"],[1,"table-grid__root-filtering"],[1,"table-grid__root-empty-after-filter",3,"innerHTML"],[1,"table-grid__header-sticky"],["cdkDropList","","cdkDropListOrientation","horizontal","observerView","",1,"table-grid",3,"cdkDropListDropped","observeVisible","cdkDropListDisabled"],[1,"table-grid__column-area-content"],[1,"table-grid__footer-sticky"],["cdkDrag","","observerRootMargin","0px 750px","observerView","",1,"table-grid__column",3,"cdkDragBoundary","cdkDragDisabled","table-grid__column--auto-width-reset-default-with","table-grid__column--custom-column","table-grid__column--default-width","table-grid__column--filter-enable","table-grid__column--is-draggable","table-grid__column--is-dragging","table-grid__column--is-invisible","table-grid__column--is-sortable","table-grid__column--is-visible","table-grid__column--selected-all","table-grid__column--sticky-left","table-grid__column--sticky-right","table-grid__column--vertical-line","table-grid__column--with-footer-content","ngClass","ngStyle","observerRoot","max-width","min-width","width"],["cdkDrag","","observerRootMargin","0px 750px","observerView","",1,"table-grid__column",3,"cdkDragMoved","observeVisible","cdkDragBoundary","cdkDragDisabled","ngClass","ngStyle","observerRoot"],["cdkDragHandle","",3,"mouseenter","mouseleave","openContextMenu","resizing","sortByKey","client-row-height","column-schema","column-width","filterable-definition","head-height","sortable-count","sortable-definition","sortable-position"],[3,"changed","client-row-height","column-schema","column-virtual-height","context-menu","disable-deep-path","enable-filtering","enable-selection","head-height","isRendered","offset-top","primary-key","produce-disable-fn","recalculated","row-css-classes","selected-keys","source","striped","table-viewport","viewport-info","virtual-indexes"]],template:function(r,o){if(r&1){let s=ne();de(Yd),k(0,eh,2,0,"div"),k(1,th,2,0,"div"),E(2,"div",6,0),he(4,"getClientHeight"),he(5,"getClientHeight"),Q("recalculatedHeight",function(){return A(s),P(o.recalculateHeight())}),k(6,ih,2,0,"div",7),k(7,nh,2,4,"div",8),E(8,"div",9,1),J(10),I(),E(11,"div",10,2),he(13,"getClientHeight"),he(14,"getFreeSizePipe"),Q("cdkDropListDropped",function(l){return A(s),P(o.drop(l))})("observeVisible",function(){return A(s),P(o.calculateViewport(!0))}),E(15,"div",11,3),is(17,sh,1,1,null,null,Jd),I()(),k(19,ah,3,0,"div",12),I(),k(20,lh,1,0),k(21,ch,1,0)}if(r&2){let s,a,l,c=ae(3),h=ae(12);N(((s=o.source())==null?null:s.length)===0&&!o.filterable.filterValueExist?0:-1),C(),N(o.sourceIsNull?1:-1),C(),be("height",o.rootHeight)("width",o.width()),j("table-grid__no-display",!(o.columnSchema.length>0))("table-grid__no-visible",!o.sourceRef.length&&!o.filterable.filtering)("table-grid__root--is-rendered",o.isRendered)("table-grid__root--is-scroll-overload",h.scrollWidth>h.clientWidth)("table-grid__root--is-scrolling",o.viewPortInfo.isScrolling)("table-grid__root--visible",o.contentInit&&c.offsetHeight>o.clientRowHeight&&o.columnHeight)("table-grid__root-auto-height",o.autoHeightDetect()),X("autoHeight",pn(49,Qd,o.autoHeightDetect(),o.rootHeight,o.columnHeight,o.isRendered,((a=o.source())==null?null:a.length)||0,pt(4,41,o.headerRef()),pt(5,43,o.footerRef())))("sourceRef",o.sourceRef)("tableViewport",h),C(4),N(o.filteringRun?6:-1),C(),N(((l=o.source())==null?null:l.length)===0&&o.filterable.filterValueExist?7:-1),C(4),be("height",pt(14,47,pt(13,45,ls(57,qd,o.headerRef(),o.footerRef()))))("width",o.columnListWidth!==0&&c.offsetWidth!==0&&o.columnListWidth<c.offsetWidth-o.scrollbarWidth?o.columnListWidth+o.scrollbarWidth:null,"px"),j("table-grid__native-scrollbar",o.nativeScrollbar())("table-grid__scroll-offset",o.viewPortInfo.scrollTop),X("cdkDropListDisabled",!o.accessDragging),C(4),be("height",o.columnHeight,"px")("width",o.tableViewportChecked&&h.scrollWidth>h.clientWidth?h.scrollWidth:null,"px"),C(2),ns(o.columnSchema),C(2),N(o.footerTemplate()&&o.isRendered?19:-1),C(),N(o.contextMenuTemplate()&&o.contextMenu.state.opened?20:-1),C(),N(o.filterTemplate()?21:-1)}},dependencies:[ci,ll,ol,cl,mr,gr,ot,We,pr,ir,hr,fr],styles:[`.table-close__button{height:20px;width:20px;text-indent:-9999px;text-decoration:none;border-radius:50%;position:absolute;right:8px;top:8px;transition:opacity .3s;opacity:.5;background:#fff url(data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiA/PjxzdmcgaWQ9Ik91dGxpbmVkIiB2aWV3Qm94PSIwIDAgMzIgMzIiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHRpdGxlLz48ZyBpZD0iRmlsbCI+PHBhdGggZD0iTTE2LDJBMTQsMTQsMCwxLDAsMzAsMTYsMTQsMTQsMCwwLDAsMTYsMlptMCwyNkExMiwxMiwwLDEsMSwyOCwxNiwxMiwxMiwwLDAsMSwxNiwyOFoiLz48cG9seWdvbiBwb2ludHM9IjE5LjU0IDExLjA1IDE2IDE0LjU5IDEyLjQ2IDExLjA1IDExLjA1IDEyLjQ2IDE0LjU5IDE2IDExLjA1IDE5LjU0IDEyLjQ2IDIwLjk1IDE2IDE3LjQxIDE5LjU0IDIwLjk1IDIwLjk1IDE5LjU0IDE3LjQxIDE2IDIwLjk1IDEyLjQ2IDE5LjU0IDExLjA1Ii8+PC9nPjwvc3ZnPg==) no-repeat center center}.table-grid:not(.table-grid__native-scrollbar){color:#0000}.table-grid:not(.table-grid__native-scrollbar)::-webkit-scrollbar,.table-grid:not(.table-grid__native-scrollbar)::-webkit-scrollbar-thumb{width:10px;height:12px;border-radius:10px;background-clip:padding-box;border:2px solid transparent}.table-grid:not(.table-grid__native-scrollbar)::-webkit-scrollbar-thumb{box-shadow:inset 0 0 0 10px;background:transparent}.table-grid:not(.table-grid__native-scrollbar)::-webkit-scrollbar-corner{background:var(--ngx-table-background-color)}.table-grid:not(.table-grid__native-scrollbar):hover{color:var(--ngx-table-scrollbar-thumb-color)}.table-grid,.table-grid__root,.table-grid__column,.table-grid__column-area-content{scroll-behavior:smooth}.table-close__button{height:20px;width:20px;text-indent:-9999px;text-decoration:none;border-radius:50%;position:absolute;right:8px;top:8px;transition:opacity .3s;opacity:.5;background:#fff url(data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiA/PjxzdmcgaWQ9Ik91dGxpbmVkIiB2aWV3Qm94PSIwIDAgMzIgMzIiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHRpdGxlLz48ZyBpZD0iRmlsbCI+PHBhdGggZD0iTTE2LDJBMTQsMTQsMCwxLDAsMzAsMTYsMTQsMTQsMCwwLDAsMTYsMlptMCwyNkExMiwxMiwwLDEsMSwyOCwxNiwxMiwxMiwwLDAsMSwxNiwyOFoiLz48cG9seWdvbiBwb2ludHM9IjE5LjU0IDExLjA1IDE2IDE0LjU5IDEyLjQ2IDExLjA1IDExLjA1IDEyLjQ2IDE0LjU5IDE2IDExLjA1IDE5LjU0IDEyLjQ2IDIwLjk1IDE2IDE3LjQxIDE5LjU0IDIwLjk1IDIwLjk1IDE5LjU0IDE3LjQxIDE2IDIwLjk1IDEyLjQ2IDE5LjU0IDExLjA1Ii8+PC9nPjwvc3ZnPg==) no-repeat center center}.table-grid__column{height:100%;flex:1 1 auto;box-sizing:border-box;touch-action:initial!important;-webkit-user-drag:initial!important;-webkit-tap-highlight-color:initial!important;-webkit-user-select:initial!important;user-select:initial!important}.table-grid__column--virtual{position:relative;overflow:hidden;box-sizing:border-box}.table-grid__column--sticky-left,.table-grid__column--sticky-right{position:sticky;background:var(--ngx-table-background-color);z-index:100}.table-grid__column--sticky-left{left:0}.table-grid__column--sticky-right{right:0}.table-grid__column--selected-all{background:var(--ngx-table-cell-selected-background)}.table-grid__column--default-width:not(.table-grid__column--auto-width-reset-default-with){min-width:var(--ngx-table-cell-default-width)}.table-grid__column--is-draggable table-thead,.table-grid__column--is-draggable .table-grid__header-cell--content,.table-grid__column--is-sortable table-thead,.table-grid__column--is-sortable .table-grid__header-cell--content,.table-grid__column--is table-thead,.table-grid__column--is .table-grid__header-cell--content{cursor:pointer}.table-grid__column--resize{height:100%;width:10px;position:absolute;background:transparent;cursor:ew-resize;right:0;top:0;display:flex;align-items:center;justify-content:center}.table-grid__column--resize--line{height:75%;width:2px;vertical-align:middle;background:var(--ngx-table-cell-border-color);display:flex}.table-grid__column:last-child .table-grid__column--resize{display:none}.table-grid__column--vertical-line{border-right:1px solid var(--ngx-table-cell-border-color)}.table-grid__column--vertical-line:last-child{border-left:1px solid var(--ngx-table-cell-border-color);border-right:none}.table-grid__column--vertical-line:nth-last-child(2){border-right:none}.table-grid__column--sortable,.table-grid__column--draggable,.table-grid__column--filterable{width:20px;height:18px;opacity:.2;font-size:12px;cursor:pointer;position:relative;display:flex;justify-content:center;align-items:center}.table-grid__column--sortable--active,.table-grid__column--draggable--active,.table-grid__column--filterable--active{opacity:1}.table-grid__column--sortable:hover,.table-grid__column--draggable:hover,.table-grid__column--filterable:hover{opacity:.5}.table-grid__column--sortable{display:none}.table-grid__column--sortable--active{display:flex}.table-grid__column--sortable .table-grid-icon--sortable{transition:transform .4s}.table-grid__column--sortable .table-grid-icon--sortable__asc,.table-grid__column--sortable .table-grid-icon--sortable__desc{display:block}.table-grid__column--sortable .table-grid-icon--sortable__asc{transform:rotate(0)}.table-grid__column--sortable .table-grid-icon--sortable__desc{transform:rotate(180deg)}.table-grid__column--sortable .table-grid-icon--sortable-number{position:absolute;font-size:8px;font-weight:400;right:0;top:0}.table-grid__column--filter-enable{display:table-cell}.table-grid__column--draggable{opacity:0}.table-grid__column--draggable-active{opacity:.8}.table-grid__column--filterable{transform:rotate(0)}.table-grid__column--sortable:not(.table-grid__column--sortable-active):hover,.table-grid__cell--content-sortable:hover+.table-grid__header-cell-head--settings .table-grid__column--sortable:not(.table-grid__column--sortable-active){opacity:.5}.table-grid__column--vertical-line .table-grid__column--resize--line{display:none}:root{--ngx-table-cell-padding: 5px 20px;--ngx-table-cell-height: 20px;--ngx-table-cell-color: black;--ngx-table-cell-even-background: white;--ngx-table-cell-odd-background: #f7f7fc;--ngx-table-cell-selected-background: rgb(255, 243, 173);--ngx-table-header-cell-background: white;--ngx-table-header-cell-active-background: #f7f7fc;--ngx-table-header-cell-color: black;--ngx-table-header-cell-active-color: black;--ngx-table-cell-border-color: #e0e0e0;--ngx-table-border-color: #e0e0e0;--ngx-table-background-color: white;--ngx-table-scrollbar-thumb-color: rgba(0, 0, 0, .2);--ngx-table-header-footer-background-color: white;--ngx-table-header-footer-border-color: #e0e0e0;--ngx-table-tooltip-shadow-color: #e0e0e0;--ngx-table-tooltip-background-color: white;--ngx-table-tooltip-color: black;--ngx-table-cell-default-width: 200px}.table-grid [draggable=true]{user-select:none;-moz-user-select:none;-webkit-user-select:none;-ms-user-select:none}.table-grid__root{opacity:.0012;overflow:hidden;position:relative;transition:opacity .5s ease;transform:translate(0);box-sizing:border-box;width:100%;border:1px solid var(--ngx-table-border-color)}.table-grid__root--is-rendered .table-grid{overflow:auto;transition:all .2s}.table-grid__root.table-grid__root--content-is-init{opacity:.4}.table-grid__root.table-grid__root--is-rendered{opacity:1;transition:all .2s}.table-grid__root-empty-after-filter{top:50%;left:50%;z-index:1000000;position:absolute;transform:translate(-50%,-50%)}.table-grid__root-filtering{padding:5px;width:70px;background:#fff;position:absolute;top:10px;right:10px;height:fit-content;z-index:1000000;font-size:10px;filter:drop-shadow(0px 0px 1px white) drop-shadow(0px 0px 1px white) drop-shadow(0px 0px 1px white) drop-shadow(0px 0px 1px white);text-align:right}.table-grid__column-area-content{width:100%}.table-grid__root-auto-height{height:0}.table-grid__root:not(.table-grid__root--is-rendered) table-tbody,.table-grid__root:not(.table-grid__root--is-rendered) table-cell,.table-grid__root--is-scrolling table-tbody,.table-grid__root--is-scrolling table-cell{pointer-events:none}.table-grid__root:not(.table-grid__root--is-rendered){cursor:wait}.total-viewport-padding{height:100%;width:1px;opacity:0}.cdk-drag-preview .scrollable-viewport-content{top:0!important;backface-visibility:hidden}.scrollable-viewport-content{transform:translateZ(0);backface-visibility:hidden;position:absolute;overflow:hidden;width:100%;left:0;top:0}.vertical-align,.table-grid__cell--content{vertical-align:middle;margin:auto 0;box-sizing:border-box}.table-close__button{height:20px;width:20px;text-indent:-9999px;text-decoration:none;border-radius:50%;position:absolute;right:8px;top:8px;transition:opacity .3s;opacity:.5;background:#fff url(data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiA/PjxzdmcgaWQ9Ik91dGxpbmVkIiB2aWV3Qm94PSIwIDAgMzIgMzIiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHRpdGxlLz48ZyBpZD0iRmlsbCI+PHBhdGggZD0iTTE2LDJBMTQsMTQsMCwxLDAsMzAsMTYsMTQsMTQsMCwwLDAsMTYsMlptMCwyNkExMiwxMiwwLDEsMSwyOCwxNiwxMiwxMiwwLDAsMSwxNiwyOFoiLz48cG9seWdvbiBwb2ludHM9IjE5LjU0IDExLjA1IDE2IDE0LjU5IDEyLjQ2IDExLjA1IDExLjA1IDEyLjQ2IDE0LjU5IDE2IDExLjA1IDE5LjU0IDEyLjQ2IDIwLjk1IDE2IDE3LjQxIDE5LjU0IDIwLjk1IDIwLjk1IDE5LjU0IDE3LjQxIDE2IDIwLjk1IDEyLjQ2IDE5LjU0IDExLjA1Ii8+PC9nPjwvc3ZnPg==) no-repeat center center}.table-close__button:hover{opacity:1;cursor:pointer}@keyframes slide{0%{transform:translate(-100%)}to{transform:translate(100%)}}.filter-founded{border-bottom:1px dotted #000}.table-grid__background-flat{background:transparent;position:fixed;width:100%;z-index:5;height:100%;top:0;left:0}.table-grid__cell{color:var(--ngx-table-cell-color);background:var(--ngx-table-cell-even-background);width:100%;box-sizing:border-box;text-align:center;word-break:break-word;border-bottom:1px solid var(--ngx-table-cell-border-color);min-height:var(--ngx-table-cell-height);max-height:var(--ngx-table-cell-height);display:flex;overflow:hidden;justify-content:center;padding:var(--ngx-table-cell-padding)}.table-grid__cell--body{position:absolute}.table-grid__cell--custom-cell:not(.table-grid__cell--is-model-cell){padding:0}.table-grid__cell--empty-head .table-grid__cell--content{display:none}.table-grid__cell--content{overflow:hidden}.table-grid__cell--content:not(.table-grid__cell--content-sortable){width:100%}.table-grid__cell--content .table-grid__cell--inner-content{overflow:hidden}.table-grid__cell--text-bold{font-weight:700}.table-grid__cell--disable{pointer-events:none}.table-grid__cell--disable,.table-grid__cell--disable.table-grid__cell--strip{background:#fbe4e3}.table-grid__cell--nowrap,.table-grid__cell--nowrap .table-grid__cell--inner-content{white-space:nowrap;text-overflow:ellipsis}.table-grid__cell--enable-selection{cursor:pointer}.table-grid__cell--strip{background:var(--ngx-table-cell-odd-background)}.table-grid__cell--selected{background:var(--ngx-table-cell-selected-background);transition:background .3s}.table-grid__cell--settings{margin-left:10px;display:flex;justify-content:center;align-items:center}.table-grid__header-cell{top:0;z-index:99;position:sticky;background:var(--ngx-table-header-cell-background);fill:var(--ngx-table-header-cell-color);stroke:var(--ngx-table-header-cell-color);color:var(--ngx-table-header-cell-color);box-sizing:border-box;text-overflow:ellipsis;border-bottom:1px solid var(--ngx-table-cell-border-color);transition:box-shadow .3s ease-in-out;display:flex;flex:1 1 80px}.table-grid__header-cell--content{overflow:hidden;margin:auto 3px;word-break:keep-all}.table-grid__header-cell--is-clickable:active{background:var(--ngx-table-header-cell-active-background);fill:var(--ngx-table-header-cell-active-color);stroke:var(--ngx-table-header-cell-active-color);color:var(--ngx-table-header-cell-active-color)}.table-grid__header-cell--min-width .table-grid__header-cell--content:not(.table-grid__cell--content-sortable-is-active){cursor:default}.table-grid__header-cell--min-width .table-grid__column--draggable,.table-grid__header-cell--min-width .table-grid__column--sortable:not(.table-grid__column--sortable-active),.table-grid__header-cell--min-width .table-grid__column--filterable:not(.table-grid__column--filterable-active){display:none}.table-grid__header-cell-head--settings{display:flex;align-items:center}.table-grid__header-cell:hover .table-grid__column--draggable{opacity:.2}.table-grid__cell-overflow-content{position:fixed;background:var(--ngx-table-tooltip-background-color);color:var(--ngx-table-tooltip-color);border-radius:4px;opacity:0;visibility:hidden;white-space:pre-wrap;word-break:break-word;line-height:20px;z-index:1000000!important;box-shadow:0 0 10px 2px var(--ngx-table-tooltip-shadow-color);transition:visibility .1s linear,opacity .1s linear;max-height:300px;max-width:300px;overflow:auto;overflow-x:hidden;margin-top:-10px;margin-left:-50px;font-weight:400;font-size:15px;padding:10px 35px 10px 10px}.table-grid__cell-overflow-content.visible{visibility:visible;transition:visibility .1s linear,opacity .1s linear;opacity:1;transform:translate(0)}.table-grid-icon--sortable,.table-grid-icon--draggable,.table-grid-icon--filterable{width:16px;height:16px}.table-grid-icon--draggable{cursor:move}.table-grid__column.cdk-drag-preview{background:#fff;box-sizing:border-box;border-radius:4px;box-shadow:0 5px 5px -3px #0003,0 8px 10px 1px #00000024,0 3px 14px 2px #0000001f}.table-grid__column.cdk-drag-placeholder{opacity:.3}.cdk-drag-preview .table-grid__header-cell{top:0!important}.cdk-drag-preview.table-grid__column{background:none}.cdk-drag-preview.table-grid__column .table-grid__cell:not(.table-grid__header-cell){display:none}.table-grid{height:100%;max-width:100%;box-sizing:border-box;background:var(--ngx-table-background-color)}.table-grid__column-area-content{display:flex}.table-grid__header-sticky,.table-grid__footer-sticky{background:var(--ngx-table-header-footer-background-color);position:sticky;z-index:1000;width:100%}.table-grid__header-sticky{top:0;left:0}.table-grid__header-sticky .table-grid__header-expandable{position:relative;padding-right:40px}.table-grid__header-sticky--expand-button-wrapper{position:absolute;height:24px;top:50%;right:8px;-webkit-user-select:none;user-select:none;font-weight:400;font-size:15px;transform:translateY(-50%)}.table-grid__header-sticky--expand-button-wrapper:hover{background-color:#0000000a}.table-grid__header-sticky .table-grid__header-sticky--expand-button{cursor:pointer;color:#000;transition:.2s all;height:24px;width:24px;font-size:24px;line-height:1}.table-grid__header-sticky .table-grid__header-sticky--expand-button--expanded{transform:rotate(180deg)}.table-grid__footer-sticky{bottom:0;left:0}.table-grid__footer-sticky .table-grid__table-content-place{border-top:1px solid var(--ngx-table-header-footer-border-color);border-bottom:none}.table-grid__table-content-place{color:#000;border-bottom:1px solid var(--ngx-table-header-footer-border-color)}.table-grid__table-content-place--content-cell{box-sizing:border-box;display:flex;overflow:hidden;padding:5px 20px}.table-grid__table-content-place--content-cell .content-box{display:flex;vertical-align:middle;box-sizing:border-box;margin:auto 0}.table-grid__table-content-place--align-center{justify-content:center;text-align:center}.table-grid__table-content-place--align-center .content-box{text-align:center}.table-grid__table-content-place--bold{font-weight:700}.table-grid__scroll-offset .table-grid__header-cell{transition:box-shadow .3s ease-in-out;box-shadow:0 3px 2px -2px #e0e0e0}.table-grid__scroll-offset .table-grid__cell--inner-content{visibility:visible;opacity:1}.table-grid__scroll-offset .table-grid__cell--inner-content{transition-duration:0ms}.table-grid__no-display{opacity:.012!important}.table-grid__no-visible{display:none!important}
`],encapsulation:2,data:{animation:[Ut]},changeDetection:0});let n=t;return n})();var xl=(()=>{let t=class t{constructor(){this.table=d(_r)}transform(e){let r=e??this.table.selectedKeyList;return this.filterItems(r)}filterItems(e){let r=new Map;for(let s of e)r.set(s,null);let o=r.size;for(let s of this.table.originalSourceRef){let a=s[this.table.primaryKey()];if(e.includes(a)&&(r.set(a,s),o--),o===0)break}return Array.from(r.values()).filter(s=>f(s))}};t.\u0275fac=function(r){return new(r||t)},t.\u0275pipe=ee({name:"mapToTableEntries",type:t,pure:!0});let n=t;return n})();function mh(){return hi([Ht])}export{nt as a,Jt as b,ws as c,Ol as d,ot as e,nc as f,Ti as g,oc as h,ac as i,cc as j,uc as k,Pf as l,Xr as m,Fc as n,da as o,ou as p,sm as q,Li as r,$n as s,et as t,La as u,Aa as v,Pa as w,Un as x,Cv as y,Yi as z,fo as A,Fa as B,Na as C,ri as D,Oa as E,po as F,px as G,ka as H,Ot as I,kt as J,Lt as K,f as L,pe as M,Hi as N,Ea as O,Ta as P,zi as Q,$i as R,zn as S,Wi as T,Ki as U,Zi as V,Ra as W,co as X,_r as Y,xl as Z,mh as _};
